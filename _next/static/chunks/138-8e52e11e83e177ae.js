(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[138],{5951:function(e,t){"use strict";function r(e,t,r){if(r>e.length)throw Error("invalid RLP (safeSlice): end slice of Uint8Array out-of-bounds");return e.slice(t,r)}function n(e){if(0===e[0])throw Error("invalid RLP: extra zeros");return a(function(e){let t="";for(let r=0;r<e.length;r++)t+=s[e[r]];return t}(e))}function i(e,t){if(e<56)return Uint8Array.from([e+t]);let r=u(e),n=u(t+55+r.length/2);return Uint8Array.from(o(n+r))}t.yH=void 0;let s=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function a(e){let t=Number.parseInt(e,16);if(Number.isNaN(t))throw Error("Invalid byte sequence");return t}function o(e){if("string"!=typeof e)throw TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw Error("hexToBytes: received invalid unpadded hex");let t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){let n=2*r;t[r]=a(e.slice(n,n+2))}return t}function l(...e){if(1===e.length)return e[0];let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0));for(let r=0,n=0;r<e.length;r++){let i=e[r];t.set(i,n),n+=i.length}return t}function u(e){if(e<0)throw Error("Invalid integer as argument, must be unsigned!");let t=e.toString(16);return t.length%2?`0${t}`:t}function c(e){return e.length>=2&&"0"===e[0]&&"x"===e[1]}function d(e){if(e instanceof Uint8Array)return e;if("string"==typeof e){var t;return c(e)?o((t="string"!=typeof e?e:c(e)?e.slice(2):e).length%2?`0${t}`:t):new TextEncoder().encode(e)}if("number"==typeof e||"bigint"==typeof e)return e?o(u(e)):Uint8Array.from([]);if(null==e)return Uint8Array.from([]);throw Error("toBytes: received unsupported type "+typeof e)}t.yH={encode:function e(t){if(Array.isArray(t)){let r=[],n=0;for(let i=0;i<t.length;i++){let s=e(t[i]);r.push(s),n+=s.length}return l(i(n,192),...r)}let r=d(t);return 1===r.length&&r[0]<128?r:l(i(r.length,128),r)},decode:function(e,t=!1){if(null==e||0===e.length)return Uint8Array.from([]);let i=function e(t){let i,s,a,o,l;let u=[],c=t[0];if(c<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(c<=183){if(i=c-127,a=128===c?Uint8Array.from([]):r(t,1,i),2===i&&a[0]<128)throw Error("invalid RLP encoding: invalid prefix, single byte < 0x80 are not prefixed");return{data:a,remainder:t.slice(i)}}if(c<=191){if(s=c-182,t.length-1<s)throw Error("invalid RLP: not enough bytes for string length");if((i=n(r(t,1,s)))<=55)throw Error("invalid RLP: expected string length to be greater than 55");return{data:a=r(t,s,i+s),remainder:t.slice(i+s)}}if(c<=247){for(o=r(t,1,i=c-191);o.length;)l=e(o),u.push(l.data),o=l.remainder;return{data:u,remainder:t.slice(i)}}{if((i=n(r(t,1,s=c-246)))<56)throw Error("invalid RLP: encoded list too short");let a=s+i;if(a>t.length)throw Error("invalid RLP: total length is larger than the data");for(o=r(t,s,a);o.length;)l=e(o),u.push(l.data),o=l.remainder;return{data:u,remainder:t.slice(a)}}}(d(e));if(t)return i;if(0!==i.remainder.length)throw Error("invalid RLP: remainder must be zero");return i.data}}},1332:function(e,t){var r;r=function(e){e.version="1.2.2";var t=function(){for(var e=0,t=Array(256),r=0;256!=r;++r)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=r)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[r]=e;return"undefined"!=typeof Int32Array?new Int32Array(t):t}(),r=function(e){var t=0,r=0,n=0,i="undefined"!=typeof Int32Array?new Int32Array(4096):Array(4096);for(n=0;256!=n;++n)i[n]=e[n];for(n=0;256!=n;++n)for(r=e[n],t=256+n;t<4096;t+=256)r=i[t]=r>>>8^e[255&r];var s=[];for(n=1;16!=n;++n)s[n-1]="undefined"!=typeof Int32Array?i.subarray(256*n,256*n+256):i.slice(256*n,256*n+256);return s}(t),n=r[0],i=r[1],s=r[2],a=r[3],o=r[4],l=r[5],u=r[6],c=r[7],d=r[8],h=r[9],f=r[10],p=r[11],g=r[12],m=r[13],y=r[14];e.table=t,e.bstr=function(e,r){for(var n=-1^r,i=0,s=e.length;i<s;)n=n>>>8^t[(n^e.charCodeAt(i++))&255];return~n},e.buf=function(e,r){for(var v=-1^r,b=e.length-15,w=0;w<b;)v=y[e[w++]^255&v]^m[e[w++]^v>>8&255]^g[e[w++]^v>>16&255]^p[e[w++]^v>>>24]^f[e[w++]]^h[e[w++]]^d[e[w++]]^c[e[w++]]^u[e[w++]]^l[e[w++]]^o[e[w++]]^a[e[w++]]^s[e[w++]]^i[e[w++]]^n[e[w++]]^t[e[w++]];for(b+=15;w<b;)v=v>>>8^t[(v^e[w++])&255];return~v},e.str=function(e,r){for(var n=-1^r,i=0,s=e.length,a=0,o=0;i<s;)(a=e.charCodeAt(i++))<128?n=n>>>8^t[(n^a)&255]:a<2048?n=(n=n>>>8^t[(n^(192|a>>6&31))&255])>>>8^t[(n^(128|63&a))&255]:a>=55296&&a<57344?(a=(1023&a)+64,o=1023&e.charCodeAt(i++),n=(n=(n=(n=n>>>8^t[(n^(240|a>>8&7))&255])>>>8^t[(n^(128|a>>2&63))&255])>>>8^t[(n^(128|o>>6&15|(3&a)<<4))&255])>>>8^t[(n^(128|63&o))&255]):n=(n=(n=n>>>8^t[(n^(224|a>>12&15))&255])>>>8^t[(n^(128|a>>6&63))&255])>>>8^t[(n^(128|63&a))&255];return~n}},"undefined"==typeof DO_NOT_EXPORT_CRC?r(t):r({})},751:function(e,t,r){var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();(function(e){var t=void 0!==i&&i||"undefined"!=typeof self&&self||void 0!==t&&t,r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(r.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],s=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function o(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function u(e){this.map={},e instanceof u?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function d(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function h(e){var t=new FileReader,r=d(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(r.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;r.arrayBuffer&&r.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||s(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(h)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=d(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},r.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(e,t){e=a(e),t=o(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},u.prototype.delete=function(e){delete this.map[a(e)]},u.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},u.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},u.prototype.set=function(e,t){this.map[a(e)]=o(t)},u.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},u.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},u.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},u.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var g=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function m(e,t){if(!(this instanceof m))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof m){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new u(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new u(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),g.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var s=/([?&])_=[^&]*/;s.test(this.url)?this.url=this.url.replace(s,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function v(e,t){if(!(this instanceof v))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new u(t.headers),this.url=t.url||"",this._initBody(e)}m.prototype.clone=function(){return new m(this,{body:this._bodyInit})},p.call(m.prototype),p.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];v.redirect=function(e,t){if(-1===b.indexOf(t))throw RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function w(n,i){return new Promise(function(s,a){var l=new m(n,i);if(l.signal&&l.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function d(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new u,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout(function(){s(new v(n,r))},0)},c.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){a(new e.DOMException("Aborted","AbortError"))},0)},c.open(l.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(r.blob?c.responseType="blob":r.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof u?l.headers.forEach(function(e,t){c.setRequestHeader(t,e)}):Object.getOwnPropertyNames(i.headers).forEach(function(e){c.setRequestHeader(e,o(i.headers[e]))}),l.signal&&(l.signal.addEventListener("abort",d),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",d)}),c.send(void 0===l._bodyInit?null:l._bodyInit)})}w.polyfill=!0,t.fetch||(t.fetch=w,t.Headers=u,t.Request=m,t.Response=v),e.Headers=u,e.Request=m,e.Response=v,e.fetch=w})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var s=n.fetch?n:i;(t=s.fetch).default=s.fetch,t.fetch=s.fetch,t.Headers=s.Headers,t.Request=s.Request,t.Response=s.Response,e.exports=t},7625:function(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,n,s,a){if("function"!=typeof n)throw TypeError("The listener must be a function");var o=new i(n,s||e,a),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,s=n.length,a=Array(s);i<s;i++)a[i]=n[i].fn;return a},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,s,a){var o=r?r+e:e;if(!this._events[o])return!1;var l,u,c=this._events[o],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,s),!0;case 6:return c.fn.call(c.context,t,n,i,s,a),!0}for(u=1,l=Array(d-1);u<d;u++)l[u-1]=arguments[u];c.fn.apply(c.context,l)}else{var h,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,n);break;case 4:c[u].fn.call(c[u].context,t,n,i);break;default:if(!l)for(h=1,l=Array(d-1);h<d;h++)l[h-1]=arguments[h];c[u].fn.apply(c[u].context,l)}}return!0},o.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return a(this,s),this;var o=this._events[s];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||a(this,s);else{for(var l=0,u=[],c=o.length;l<c;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&u.push(o[l]);u.length?this._events[s]=1===u.length?u[0]:u:a(this,s)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},1345:function(e,t,r){var n=r(257);"undefined"!=typeof __nccwpck_require__&&(__nccwpck_require__.ab="//"),({189:function(){!function(e,t){"use strict";if(!e.setImmediate){var r,i,s,a,o,l=1,u={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);(h=h&&h.setTimeout?h:e,"[object process]"===({}).toString.call(e.process))?o=function(e){n.nextTick(function(){p(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(r="setImmediate$"+Math.random()+"$",i=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(r)&&p(+t.data.slice(r.length))},e.addEventListener?e.addEventListener("message",i,!1):e.attachEvent("onmessage",i),o=function(t){e.postMessage(r+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){p(e.data)},o=function(e){s.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(a=d.documentElement,o=function(e){var t=d.createElement("script");t.onreadystatechange=function(){p(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):o=function(e){setTimeout(p,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=Function(""+e));for(var t=Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var n={callback:e,args:t};return u[l]=n,o(l),l++},h.clearImmediate=f}function f(e){delete u[e]}function p(e){if(c)setTimeout(p,0,e);else{var r=u[e];if(r){c=!0;try{!function(e){var r=e.callback,n=e.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(t,n)}}(r)}finally{f(e),c=!1}}}}}("undefined"==typeof self?void 0===r.g?this:r.g:self)}})[189](),e.exports={}},9917:function(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},4879:function(e,t,r){"use strict";let n,i,s,a,o,l,u,c,d,h,f,p,g,m,y;r.d(t,{Q6:function(){return H}});let v=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function b(e){var t;let r;return t=function(e){let t=0;function r(){return e[t++]<<8|e[t++]}let n=r(),i=1,s=[0,1];for(let e=1;e<n;e++)s.push(i+=r());let a=r(),o=t;t+=a;let l=0,u=0;function c(){return 0==l&&(u=u<<8|e[t++],l=8),u>>--l&1}let d=2147483648-1,h=0;for(let e=0;e<31;e++)h=h<<1|c();let f=[],p=0,g=2147483648;for(;;){let e=Math.floor(((h-p+1)*i-1)/g),t=0,r=n;for(;r-t>1;){let n=t+r>>>1;e<s[n]?r=n:t=n}if(0==t)break;f.push(t);let a=p+Math.floor(g*s[t]/i),o=p+Math.floor(g*s[t+1]/i)-1;for(;((a^o)&1073741824)==0;)h=h<<1&d|c(),a=a<<1&d,o=o<<1&d|1;for(;a&~o&536870912;)h=1073741824&h|h<<1&d>>>1|c(),a=a<<1^1073741824,o=(1073741824^o)<<1|1073741825;p=a,g=1+o-a}let m=n-4;return f.map(t=>{switch(t-m){case 3:return m+65792+(e[o++]<<16|e[o++]<<8|e[o++]);case 2:return m+256+(e[o++]<<8|e[o++]);case 1:return m+e[o++];default:return t-1}})}(function(e){let t=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,r)=>t[e.charCodeAt(0)]=r);let r=e.length,n=new Uint8Array(6*r>>3);for(let i=0,s=0,a=0,o=0;i<r;i++)o=o<<6|t[e.charCodeAt(i)],(a+=6)>=8&&(n[s++]=o>>(a-=8));return n}(e)),r=0,()=>t[r++]}function w(e,t=0){let r=[];for(;;){let n=e(),i=e();if(!i)break;t+=n;for(let e=0;e<i;e++)r.push(t+e);t+=i+1}return r}function A(e){return E(()=>{let t=w(e);if(t.length)return t})}function x(e){let t=[];for(;;){let r=e();if(0==r)break;t.push(function(e,t){let r=1+t(),n=t(),i=E(t);return k(i.length,1+e,t).flatMap((e,t)=>{let[s,...a]=e;return Array(i[t]).fill().map((e,t)=>{let i=t*n;return[s+t*r,a.map(e=>e+i)]})})}(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(k(1+e(),1+r,e).map(e=>[e[0],e.slice(1)]))}return t.flat()}function E(e){let t=[];for(;;){let r=e(t.length);if(!r)break;t.push(r)}return t}function k(e,t,r){let n=Array(e).fill().map(()=>[]);for(let i=0;i<t;i++)(function(e,t){let r=Array(e);for(let i=0,s=0;i<e;i++){var n;r[i]=s+=1&(n=t())?~n>>1:n>>1}return r})(e,r).forEach((e,t)=>n[t].push(e));return n}function P(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function I(e){let t=e.length;if(t<4096)return String.fromCodePoint(...e);let r=[];for(let n=0;n<t;)r.push(String.fromCodePoint(...e.slice(n,n+=4096)));return r.join("")}function S(e,t){let r=e.length,n=r-t.length;for(let i=0;0==n&&i<r;i++)n=e[i]-t[i];return n}function O(e){return e>>24&255}function C(e){return 16777215&e}function T(e){return e>=44032&&e<55204}function _(e){n||function(){let e=b("AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g");for(let[t,r]of(n=new Map(A(e).flatMap((e,t)=>e.map(e=>[e,t+1<<24]))),i=new Set(w(e)),s=new Map,a=new Map,x(e))){if(!i.has(t)&&2==r.length){let[e,n]=r,i=a.get(e);i||(i=new Map,a.set(e,i)),i.set(n,t)}s.set(t,r.reverse())}}();let t=[],r=[],o=!1;function l(e){let r=n.get(e);r&&(o=!0,e|=r),t.push(e)}for(let n of e)for(;;){if(n<128)t.push(n);else if(T(n)){let e=n-44032,t=e/588|0,r=e%588/28|0,i=e%28;l(4352+t),l(4449+r),i>0&&l(4519+i)}else{let e=s.get(n);e?r.push(...e):l(n)}if(!r.length)break;n=r.pop()}if(o&&t.length>1){let e=O(t[0]);for(let r=1;r<t.length;r++){let n=O(t[r]);if(0==n||e<=n){e=n;continue}let i=r-1;for(;;){let r=t[i+1];if(t[i+1]=t[i],t[i]=r,!i||(e=O(t[--i]))<=n)break}e=O(t[r])}}return t}function B(e){return function(e){let t=[],r=[],n=-1,i=0;for(let s of e){let e=O(s),o=C(s);if(-1==n)0==e?n=o:t.push(o);else if(i>0&&i>=e)0==e?(t.push(n,...r),r.length=0,n=o):r.push(o),i=e;else{let s=function(e,t){if(e>=4352&&e<4371&&t>=4449&&t<4470)return 44032+(e-4352)*588+(t-4449)*28;if(T(e)&&t>4519&&t<4547&&(e-44032)%28==0)return e+(t-4519);{let r=a.get(e);return r&&(r=r.get(t))?r:-1}}(n,o);s>=0?n=s:0==i&&0==e?(t.push(n),n=o):(r.push(o),i=e)}}return n>=0&&t.push(n,...r),t}(_(e))}let R=e=>Array.from(e);function N(e,t){return e.P.has(t)||e.Q.has(t)}class F extends Array{get is_emoji(){return!0}}function L(){let e,t;if(o)return;let r=b("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI"),n=()=>w(r),i=()=>new Set(n()),s=(e,t)=>t.forEach(t=>e.add(t));o=new Map(x(r)),l=i(),u=n(),c=new Set(n().map(e=>u[e])),u=new Set(u),d=i(),i();let a=A(r),v=r(),k=()=>{let e=new Set;return n().forEach(t=>s(e,a[t])),s(e,n()),e};h=E(e=>{let t=E(r).map(e=>e+96);if(t.length){let n=e>=v;return t[0]-=32,t=I(t),n&&(t=`Restricted[${t}]`),{N:t,P:k(),Q:k(),M:!r(),R:n}}}),f=i(),p=new Map;let P=n().concat(R(f)).sort((e,t)=>e-t);for(let{V:e,M:t}of(P.forEach((e,t)=>{let n=r(),i=P[t]=n?P[t-n]:{V:[],M:new Map};i.V.push(e),f.has(e)||p.set(e,i)}),new Set(p.values()))){let r=[];for(let t of e){let e=h.filter(e=>N(e,t)),n=r.find(({G:t})=>e.some(e=>t.has(e)));n||(n={G:new Set,V:[]},r.push(n)),n.V.push(t),s(n.G,e)}let n=r.flatMap(e=>R(e.G));for(let{G:e,V:i}of r){let r=new Set(n.filter(t=>!e.has(t)));for(let e of i)t.set(e,r)}}g=new Set;let O=new Set,T=e=>g.has(e)?O.add(e):g.add(e);for(let e of h){for(let t of e.P)T(t);for(let t of e.Q)T(t)}for(let e of g)p.has(e)||O.has(e)||p.set(e,1);for(let n of(s(g,_(g).map(C)),m=(e=[],t=w(r),function t({S:r,B:n},i,s){if(!(4&r)||s!==i[i.length-1])for(let a of(2&r&&(s=i[i.length-1]),1&r&&e.push(i),n))for(let e of a.Q)t(a,[...i,e],s)}(function e(n){return{S:r(),B:E(()=>{let n=w(r).map(e=>t[e]);if(n.length)return e(n)}),Q:n}}([]),[]),e).map(e=>F.from(e)).sort(S),y=new Map,m)){let e=[y];for(let t of n){let r=e.map(e=>{let r=e.get(t);return r||(r=new Map,e.set(t,r)),r});65039===t?e.push(...r):e=r}for(let t of e)t.V=n}}function M(e){return(j(e)?"":`${D(U([e]))} `)+P(e)}function D(e){return`"${e}"\u200E`}function U(e,t=1/0,r=P){var n;let i=[];n=e[0],L(),u.has(n)&&i.push(""),e.length>t&&(t>>=1,e=[...e.slice(0,t),8230,...e.slice(-t)]);let s=0,a=e.length;for(let t=0;t<a;t++){let n=e[t];j(n)&&(i.push(I(e.slice(s,t))),i.push(r(n)),s=t+1)}return i.push(I(e.slice(s,a))),i.join("")}function j(e){return L(),d.has(e)}function H(e){var t;return(t=function(e,t,r){if(!e)return[];L();let n=0;return e.split(".").map(e=>{let i=function(e){let t=[];for(let r=0,n=e.length;r<n;){let n=e.codePointAt(r);r+=n<65536?1:2,t.push(n)}return t}(e),s={input:i,offset:n};n+=i.length+1;try{let e,n=s.tokens=function(e,t,r){let n=[],i=[];for(e=e.slice().reverse();e.length;){let s=function(e,t){let r,n=y,i=e.length;for(;i&&(n=n.get(e[--i]));){let{V:t}=n;t&&(r=t,e.length=i)}return r}(e);if(s)i.length&&(n.push(t(i)),i=[]),n.push(r(s));else{let t=e.pop();if(g.has(t))i.push(t);else{let e=o.get(t);if(e)i.push(...e);else if(!l.has(t))throw G(t)}}}return i.length&&n.push(t(i)),n}(i,t,r),a=n.length;if(!a)throw Error("empty label");let d=s.output=n.flat();if(!function(e){for(let t=e.lastIndexOf(95);t>0;)if(95!==e[--t])throw Error("underscore allowed only at start")}(d),!(s.emoji=a>1||n[0].is_emoji)&&d.every(e=>e<128))!function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw Error(`invalid label extension: "${I(e.slice(0,4))}"`)}(d),e="ASCII";else{let t=n.flatMap(e=>e.is_emoji?[]:e);if(t.length){if(u.has(d[0]))throw q("leading combining mark");for(let e=1;e<a;e++){let t=n[e];if(!t.is_emoji&&u.has(t[0]))throw q(`emoji + combining mark: "${I(n[e-1])} + ${U([t[0]])}"`)}!function(e){let t=e[0],r=v.get(t);if(r)throw q(`leading ${r}`);let n=e.length,i=-1;for(let s=1;s<n;s++){t=e[s];let n=v.get(t);if(n){if(i==s)throw q(`${r} + ${n}`);i=s+1,r=n}}if(i==n)throw q(`trailing ${r}`)}(d);let r=R(new Set(t)),[i]=function(e){let t=h;for(let r of e){let e=t.filter(e=>N(e,r));if(!e.length){if(h.some(e=>N(e,r)))throw $(t[0],r);throw G(r)}if(t=e,1==e.length)break}return t}(r);(function(e,t){for(let r of t)if(!N(e,r))throw $(e,r);if(e.M){let e=_(t).map(C);for(let t=1,r=e.length;t<r;t++)if(c.has(e[t])){let n=t+1;for(let i;n<r&&c.has(i=e[n]);n++)for(let r=t;r<n;r++)if(e[r]==i)throw Error(`duplicate non-spacing marks: ${M(i)}`);if(n-t>4)throw Error(`excessive non-spacing marks: ${D(U(e.slice(t-1,n)))} (${n-t}/4)`);t=n}}})(i,t),function(e,t){let r;let n=[];for(let e of t){let t=p.get(e);if(1===t)return;if(t){let n=t.M.get(e);if(!(r=r?r.filter(e=>n.has(e)):R(n)).length)return}else n.push(e)}if(r){for(let t of r)if(n.every(e=>N(t,e)))throw Error(`whole-script confusable: ${e.N}/${t.N}`)}}(i,r),e=i.N}else e="Emoji"}s.type=e}catch(e){s.error=e}return s})}(e,B,z)).map(({input:e,error:r,output:n})=>{if(r){let n=r.message;throw Error(1==t.length?n:`Invalid label ${D(U(e,63))}: ${n}`)}return I(n)}).join(".")}function G(e){return Error(`disallowed character: ${M(e)}`)}function $(e,t){let r=M(t),n=h.find(e=>e.P.has(t));return n&&(r=`${n.N} ${r}`),Error(`illegal mixture: ${e.N} + ${r}`)}function q(e){return Error(`illegal placement: ${e}`)}function z(e){return e.filter(e=>65039!=e)}},5525:function(e,t,r){"use strict";r.d(t,{Q:function(){return s8}});var n={};async function i(e){let t=Object.keys(e);return(await Promise.all(t.map(t=>Promise.resolve(e[t])))).reduce((e,r,n)=>(e[t[n]]=r,e),{})}function s(e,t,r){for(let n in t){let i=t[n],s=r?r[n]:null;s&&function(e,t,r){let n=t.split("|").map(e=>e.trim());for(let r=0;r<n.length;r++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}let i=Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}(i,s,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function a(e){if(null==e)return"null";if(Array.isArray(e))return"[ "+e.map(a).join(", ")+" ]";if(e instanceof Uint8Array){let t="0123456789abcdef",r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4]+t[15&e[n]];return r}if("object"==typeof e&&"function"==typeof e.toJSON)return a(e.toJSON());switch(typeof e){case"boolean":case"symbol":case"number":return e.toString();case"bigint":return BigInt(e).toString();case"string":return JSON.stringify(e);case"object":{let t=Object.keys(e);return t.sort(),"{ "+t.map(t=>`${a(t)}: ${a(e[t])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function o(e,t){return e&&e.code===t}function l(e){return o(e,"CALL_EXCEPTION")}function u(e,t,r){let n,i=e;{let n=[];if(r){if("message"in r||"code"in r||"name"in r)throw Error(`value will overwrite populated values: ${a(r)}`);for(let e in r){if("shortMessage"===e)continue;let t=r[e];n.push(e+"="+a(t))}}n.push(`code=${t}`),n.push("version=6.13.4"),n.length&&(e+=" ("+n.join(", ")+")")}switch(t){case"INVALID_ARGUMENT":n=TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":n=RangeError(e);break;default:n=Error(e)}return s(n,{code:t}),r&&Object.assign(n,r),null==n.shortMessage&&s(n,{shortMessage:i}),n}function c(e,t,r,n){if(!e)throw u(t,r,n)}function d(e,t,r,n){c(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function h(e,t,r){null==r&&(r=""),r&&(r=": "+r),c(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),c(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}r.r(n),r.d(n,{dQ:function(){return n7},ci:function(){return n0},bytesToNumberBE:function(){return n3},ty:function(){return n4},eV:function(){return n9},n$:function(){return ir},ql:function(){return n5},hexToBytes:function(){return n2},tL:function(){return n8},S5:function(){return n6},FF:function(){return is}});let f=["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test"!=="test".normalize(t))throw Error("bad");if("NFD"===t){let e=String.fromCharCode(233).normalize("NFD"),t=String.fromCharCode(101,769);if(e!==t)throw Error("broken")}e.push(t)}catch(e){}return e},[]);function p(e,t,r){if(null==r&&(r=""),e!==t){let e=r,t="new";r&&(e+=".",t+=" "+r),c(!1,`private constructor; use ${e}from* methods`,"UNSUPPORTED_OPERATION",{operation:t})}}function g(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if("string"==typeof e&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){let t=new Uint8Array((e.length-2)/2),r=2;for(let n=0;n<t.length;n++)t[n]=parseInt(e.substring(r,r+2),16),r+=2;return t}d(!1,"invalid BytesLike value",t||"value",e)}function m(e,t){return g(e,t,!1)}function y(e,t){return g(e,t,!0)}function v(e,t){return!!("string"==typeof e&&e.match(/^0x[0-9A-Fa-f]*$/))&&("number"!=typeof t||e.length===2+2*t)&&(!0!==t||e.length%2==0)}function b(e){return v(e,!0)||e instanceof Uint8Array}let w="0123456789abcdef";function A(e){let t=m(e),r="0x";for(let e=0;e<t.length;e++){let n=t[e];r+=w[(240&n)>>4]+w[15&n]}return r}function x(e){return"0x"+e.map(e=>A(e).substring(2)).join("")}function E(e){return v(e,!0)?(e.length-2)/2:m(e).length}function k(e,t,r){let n=m(e);return null!=r&&r>n.length&&c(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),A(n.slice(null==t?0:t,null==r?n.length:r))}function P(e,t,r){let n=m(e);c(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});let i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),A(i)}function I(e,t){return P(e,t,!0)}let S=BigInt(0),O=BigInt(1);function C(e,t){let r=_(e,"value"),n=BigInt(F(t,"width")),i=O<<n-O;return r<S?(c((r=-r)<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),(~r&(O<<n)-O)+O):(c(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e}),r)}function T(e,t){return B(e,"value")&(O<<BigInt(F(t,"bits")))-O}function _(e,t){switch(typeof e){case"bigint":return e;case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),BigInt(e);case"string":try{if(""===e)throw Error("empty string");if("-"===e[0]&&"-"!==e[1])return-BigInt(e.substring(1));return BigInt(e)}catch(r){d(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}d(!1,"invalid BigNumberish value",t||"value",e)}function B(e,t){let r=_(e,t);return c(r>=S,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}let R="0123456789abcdef";function N(e){if(e instanceof Uint8Array){let t="0x0";for(let r of e)t+=R[r>>4]+R[15&r];return BigInt(t)}return _(e)}function F(e,t){switch(typeof e){case"bigint":return d(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),Number(e);case"number":return d(Number.isInteger(e),"underflow",t||"value",e),d(e>=-9007199254740991&&e<=9007199254740991,"overflow",t||"value",e),e;case"string":try{if(""===e)throw Error("empty string");return F(BigInt(e),t)}catch(r){d(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}d(!1,"invalid numeric value",t||"value",e)}function L(e,t){let r=B(e,"value").toString(16);if(null==t)r.length%2&&(r="0"+r);else{let n=F(t,"width");for(c(2*n>=r.length,`value exceeds width (${n} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});r.length<2*n;)r="0"+r}return"0x"+r}function M(e){let t=B(e,"value");if(t===S)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);let n=new Uint8Array(r.length/2);for(let e=0;e<n.length;e++){let t=2*e;n[e]=parseInt(r.substring(t,t+2),16)}return n}function D(e){let t=A(b(e)?e:M(e)).substring(2);for(;t.startsWith("0");)t=t.substring(1);return""===t&&(t="0"),"0x"+t}let U=new Uint8Array(32),j=["then"],H={},G=new WeakMap;function $(e){return G.get(e)}function q(e,t){let r=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}class z extends Array{#e;constructor(...e){var t,r;let n=e[0],i=e[1],s=(e[2]||[]).slice(),a=!0;n!==H&&(i=e,s=[],a=!1),super(i.length),i.forEach((e,t)=>{this[t]=e});let o=s.reduce((e,t)=>("string"==typeof t&&e.set(t,(e.get(t)||0)+1),e),new Map);if(t=Object.freeze(i.map((e,t)=>{let r=s[t];return null!=r&&1===o.get(r)?r:null})),G.set(this,t),this.#e=[],null==this.#e&&this.#e,!a)return;Object.freeze(this);let l=new Proxy(this,{get:(e,t,r)=>{if("string"==typeof t){if(t.match(/^[0-9]+$/)){let r=F(t,"%index");if(r<0||r>=this.length)throw RangeError("out of result range");let n=e[r];return n instanceof Error&&q(`index ${r}`,n),n}if(j.indexOf(t)>=0)return Reflect.get(e,t,r);let n=e[t];if(n instanceof Function)return function(...t){return n.apply(this===r?e:this,t)};if(!(t in e))return e.getValue.apply(this===r?e:this,[t])}return Reflect.get(e,t,r)}});return r=$(this),G.set(l,r),l}toArray(e){let t=[];return this.forEach((r,n)=>{r instanceof Error&&q(`index ${n}`,r),e&&r instanceof z&&(r=r.toArray(e)),t.push(r)}),t}toObject(e){let t=$(this);return t.reduce((r,n,i)=>(c(null!=n,`value at index ${i} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function e(t,r,n){return t.indexOf(null)>=0?r.map((t,r)=>t instanceof z?e($(t),t,n):t):t.reduce((t,i,s)=>{let a=r.getValue(i);return i in t||(n&&a instanceof z&&(a=e($(a),a,n)),t[i]=a),t},{})}(t,this,e)),{})}slice(e,t){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==t&&(t=this.length),t<0&&(t+=this.length)<0&&(t=0),t>this.length&&(t=this.length);let r=$(this),n=[],i=[];for(let s=e;s<t;s++)n.push(this[s]),i.push(r[s]);return new z(H,n,i)}filter(e,t){let r=$(this),n=[],i=[];for(let s=0;s<this.length;s++){let a=this[s];a instanceof Error&&q(`index ${s}`,a),e.call(t,a,s,this)&&(n.push(a),i.push(r[s]))}return new z(H,n,i)}map(e,t){let r=[];for(let n=0;n<this.length;n++){let i=this[n];i instanceof Error&&q(`index ${n}`,i),r.push(e.call(t,i,n,this))}return r}getValue(e){let t=$(this).indexOf(e);if(-1===t)return;let r=this[t];return r instanceof Error&&q(`property ${JSON.stringify(e)}`,r.error),r}static fromItems(e,t){return new z(H,e,t)}}function V(e){let t=M(e);return c(t.length<=32,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:32,offset:t.length}),32!==t.length&&(t=y(x([U.slice(t.length%32),t]))),t}class Q{name;type;localName;dynamic;constructor(e,t,r,n){s(this,{name:e,type:t,localName:r,dynamic:n},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,t){d(!1,e,this.localName,t)}}class Z{#t;#r;constructor(){this.#t=[],this.#r=0}get data(){return x(this.#t)}get length(){return this.#r}#n(e){return this.#t.push(e),this.#r+=e.length,e.length}appendWriter(e){return this.#n(y(e.data))}writeBytes(e){let t=y(e),r=t.length%32;return r&&(t=y(x([t,U.slice(r)]))),this.#n(t)}writeValue(e){return this.#n(V(e))}writeUpdatableValue(){let e=this.#t.length;return this.#t.push(U),this.#r+=32,t=>{this.#t[e]=V(t)}}}class J{allowLoose;#t;#i;#s;#a;#o;constructor(e,t,r){s(this,{allowLoose:!!t}),this.#t=y(e),this.#s=0,this.#a=null,this.#o=null!=r?r:1024,this.#i=0}get data(){return A(this.#t)}get dataLength(){return this.#t.length}get consumed(){return this.#i}get bytes(){return new Uint8Array(this.#t)}#l(e){if(this.#a)return this.#a.#l(e);this.#s+=e,c(this.#o<1||this.#s<=this.#o*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#o} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:y(this.#t),offset:this.#i,length:e,info:{bytesRead:this.#s,dataLength:this.dataLength}})}#u(e,t,r){let n=32*Math.ceil(t/32);return this.#i+n>this.#t.length&&(this.allowLoose&&r&&this.#i+t<=this.#t.length?n=t:c(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:y(this.#t),length:this.#t.length,offset:this.#i+n})),this.#t.slice(this.#i,this.#i+n)}subReader(e){let t=new J(this.#t.slice(this.#i+e),this.allowLoose,this.#o);return t.#a=this,t}readBytes(e,t){let r=this.#u(0,e,!!t);return this.#l(e),this.#i+=r.length,r.slice(0,e)}readValue(){return N(this.readBytes(32))}readIndex(){return F(N(this.readBytes(32)))}}function K(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Wrong positive integer: ${e}`)}function W(e,...t){if(!(e instanceof Uint8Array))throw Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Y(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function X(e,t){W(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let ee=BigInt(4294967296-1),et=BigInt(32);function er(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&ee),l:Number(e>>et&ee)}:{h:0|Number(e>>et&ee),l:0|Number(e&ee)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}let en=(e,t,r)=>e<<r|t>>>32-r,ei=(e,t,r)=>t<<r|e>>>32-r,es=(e,t,r)=>t<<r-32|e>>>64-r,ea=(e,t,r)=>e<<r-32|t>>>64-r;var eo={split:er,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let el="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eu=e=>e instanceof Uint8Array,ec=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ed=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),eh=(e,t)=>e<<32-t|e>>>t;if(68!==new Uint8Array(new Uint32Array([287454020]).buffer)[0])throw Error("Non little-endian hardware is not supported");function ef(e){if("string"==typeof e&&(e=function(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}(e)),!eu(e))throw Error(`expected Uint8Array, got ${typeof e}`);return e}class ep{clone(){return this._cloneInto()}}function eg(e){let t=t=>e().update(ef(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function em(e=32){if(el&&"function"==typeof el.getRandomValues)return el.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let[ey,ev,eb]=[[],[],[]],ew=BigInt(0),eA=BigInt(1),ex=BigInt(2),eE=BigInt(7),ek=BigInt(256),eP=BigInt(113);for(let e=0,t=eA,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ey.push(2*(5*n+r)),ev.push((e+1)*(e+2)/2%64);let i=ew;for(let e=0;e<7;e++)(t=(t<<eA^(t>>eE)*eP)%ek)&ex&&(i^=eA<<(eA<<BigInt(e))-eA);eb.push(i)}let[eI,eS]=er(eb,!0),eO=(e,t,r)=>r>32?es(e,t,r):en(e,t,r),eC=(e,t,r)=>r>32?ea(e,t,r):ei(e,t,r);class eT extends ep{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,K(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ec(this.state)}keccak(){!function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=eO(s,a,1)^r[n],l=eC(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=ev[r],s=eO(t,i,n),a=eC(t,i,n),o=ey[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=eI[n],e[1]^=eS[n]}r.fill(0)}(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Y(this);let{blockLen:t,state:r}=this,n=(e=ef(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){Y(this,!1),W(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return K(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(X(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new eT(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let e_=eg(()=>new eT(136,1,32)),eB=!1,eR=function(e){return e_(e)},eN=eR;function eF(e){let t=m(e,"data");return A(eN(t))}eF._=eR,eF.lock=function(){eB=!0},eF.register=function(e){if(eB)throw TypeError("keccak256 is locked");eN=e},Object.freeze(eF);let eL=BigInt(0),eM=BigInt(36);function eD(e){let t=(e=e.toLowerCase()).substring(2).split(""),r=new Uint8Array(40);for(let e=0;e<40;e++)r[e]=t[e].charCodeAt(0);let n=m(eF(r));for(let e=0;e<40;e+=2)n[e>>1]>>4>=8&&(t[e]=t[e].toUpperCase()),(15&n[e>>1])>=8&&(t[e+1]=t[e+1].toUpperCase());return"0x"+t.join("")}let eU={};for(let e=0;e<10;e++)eU[String(e)]=String(e);for(let e=0;e<26;e++)eU[String.fromCharCode(65+e)]=String(10+e);let ej=function(){let e={};for(let t=0;t<36;t++)e["0123456789abcdefghijklmnopqrstuvwxyz"[t]]=BigInt(t);return e}();function eH(e){if(d("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let t=eD(e);return d(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){d(e.substring(2,4)===function(e){let t=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>eU[e]).join("");for(;t.length>=15;){let e=t.substring(0,15);t=parseInt(e,10)%97+t.substring(e.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}(e),"bad icap checksum","address",e);let t=(function(e){e=e.toLowerCase();let t=eL;for(let r=0;r<e.length;r++)t=t*eM+ej[e[r]];return t})(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return eD("0x"+t)}d(!1,"invalid address","address",e)}let eG={};function e$(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new eV(eG,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function eq(e,t){return new eV(eG,`bytes${t||""}`,e,{size:t})}let ez=Symbol.for("_ethers_typed");class eV{type;value;#c;_typedSymbol;constructor(e,t,r,n){null==n&&(n=null),p(eG,e,"Typed"),s(this,{_typedSymbol:ez,type:t,value:r}),this.#c=n,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#c}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#c?-1:!1===this.#c?this.value.length:null}static from(e,t){return new eV(eG,e,t)}static uint8(e){return e$(e,8)}static uint16(e){return e$(e,16)}static uint24(e){return e$(e,24)}static uint32(e){return e$(e,32)}static uint40(e){return e$(e,40)}static uint48(e){return e$(e,48)}static uint56(e){return e$(e,56)}static uint64(e){return e$(e,64)}static uint72(e){return e$(e,72)}static uint80(e){return e$(e,80)}static uint88(e){return e$(e,88)}static uint96(e){return e$(e,96)}static uint104(e){return e$(e,104)}static uint112(e){return e$(e,112)}static uint120(e){return e$(e,120)}static uint128(e){return e$(e,128)}static uint136(e){return e$(e,136)}static uint144(e){return e$(e,144)}static uint152(e){return e$(e,152)}static uint160(e){return e$(e,160)}static uint168(e){return e$(e,168)}static uint176(e){return e$(e,176)}static uint184(e){return e$(e,184)}static uint192(e){return e$(e,192)}static uint200(e){return e$(e,200)}static uint208(e){return e$(e,208)}static uint216(e){return e$(e,216)}static uint224(e){return e$(e,224)}static uint232(e){return e$(e,232)}static uint240(e){return e$(e,240)}static uint248(e){return e$(e,248)}static uint256(e){return e$(e,256)}static uint(e){return e$(e,256)}static int8(e){return e$(e,-8)}static int16(e){return e$(e,-16)}static int24(e){return e$(e,-24)}static int32(e){return e$(e,-32)}static int40(e){return e$(e,-40)}static int48(e){return e$(e,-48)}static int56(e){return e$(e,-56)}static int64(e){return e$(e,-64)}static int72(e){return e$(e,-72)}static int80(e){return e$(e,-80)}static int88(e){return e$(e,-88)}static int96(e){return e$(e,-96)}static int104(e){return e$(e,-104)}static int112(e){return e$(e,-112)}static int120(e){return e$(e,-120)}static int128(e){return e$(e,-128)}static int136(e){return e$(e,-136)}static int144(e){return e$(e,-144)}static int152(e){return e$(e,-152)}static int160(e){return e$(e,-160)}static int168(e){return e$(e,-168)}static int176(e){return e$(e,-176)}static int184(e){return e$(e,-184)}static int192(e){return e$(e,-192)}static int200(e){return e$(e,-200)}static int208(e){return e$(e,-208)}static int216(e){return e$(e,-216)}static int224(e){return e$(e,-224)}static int232(e){return e$(e,-232)}static int240(e){return e$(e,-240)}static int248(e){return e$(e,-248)}static int256(e){return e$(e,-256)}static int(e){return e$(e,-256)}static bytes1(e){return eq(e,1)}static bytes2(e){return eq(e,2)}static bytes3(e){return eq(e,3)}static bytes4(e){return eq(e,4)}static bytes5(e){return eq(e,5)}static bytes6(e){return eq(e,6)}static bytes7(e){return eq(e,7)}static bytes8(e){return eq(e,8)}static bytes9(e){return eq(e,9)}static bytes10(e){return eq(e,10)}static bytes11(e){return eq(e,11)}static bytes12(e){return eq(e,12)}static bytes13(e){return eq(e,13)}static bytes14(e){return eq(e,14)}static bytes15(e){return eq(e,15)}static bytes16(e){return eq(e,16)}static bytes17(e){return eq(e,17)}static bytes18(e){return eq(e,18)}static bytes19(e){return eq(e,19)}static bytes20(e){return eq(e,20)}static bytes21(e){return eq(e,21)}static bytes22(e){return eq(e,22)}static bytes23(e){return eq(e,23)}static bytes24(e){return eq(e,24)}static bytes25(e){return eq(e,25)}static bytes26(e){return eq(e,26)}static bytes27(e){return eq(e,27)}static bytes28(e){return eq(e,28)}static bytes29(e){return eq(e,29)}static bytes30(e){return eq(e,30)}static bytes31(e){return eq(e,31)}static bytes32(e){return eq(e,32)}static address(e){return new eV(eG,"address",e)}static bool(e){return new eV(eG,"bool",!!e)}static bytes(e){return new eV(eG,"bytes",e)}static string(e){return new eV(eG,"string",e)}static array(e,t){throw Error("not implemented yet")}static tuple(e,t){throw Error("not implemented yet")}static overrides(e){return new eV(eG,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===ez}static dereference(e,t){if(eV.isTyped(e)){if(e.type!==t)throw Error(`invalid type: expecetd ${t}, got ${e.type}`);return e.value}return e}}class eQ extends Q{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,t){let r=eV.dereference(t,"string");try{r=eH(r)}catch(e){return this._throwError(e.message,t)}return e.writeValue(r)}decode(e){return eH(L(e.readValue(),20))}}class eZ extends Q{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,t){return this.coder.encode(e,t)}decode(e){return this.coder.decode(e)}}function eJ(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&"object"==typeof r){let e={};n=t.map(t=>{let n=t.localName;return c(n,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),c(!e[n],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:t},value:r}),e[n]=!0,r[n]})}else d(!1,"invalid tuple value","tuple",r);d(t.length===n.length,"types/value length mismatch","tuple",r);let i=new Z,s=new Z,a=[];return t.forEach((e,t)=>{let r=n[t];if(e.dynamic){let t=s.length;e.encode(s,r);let n=i.writeUpdatableValue();a.push(e=>{n(e+t)})}else e.encode(i,r)}),a.forEach(e=>{e(i.length)}),e.appendWriter(i)+e.appendWriter(s)}function eK(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach(t=>{let s=null;if(t.dynamic){let r=e.readIndex(),n=i.subReader(r);try{s=t.decode(n)}catch(e){if(o(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}}else try{s=t.decode(e)}catch(e){if(o(e,"BUFFER_OVERRUN"))throw e;(s=e).baseType=t.name,s.name=t.localName,s.type=t.type}if(void 0==s)throw Error("investigate");r.push(s),n.push(t.localName||null)}),z.fromItems(r,n)}class eW extends Q{coder;length;constructor(e,t,r){super("array",e.type+"["+(t>=0?t:"")+"]",r,-1===t||e.dynamic),s(this,{coder:e,length:t})}defaultValue(){let e=this.coder.defaultValue(),t=[];for(let r=0;r<this.length;r++)t.push(e);return t}encode(e,t){let r=eV.dereference(t,"array");Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;-1===n&&(n=r.length,e.writeValue(r.length)),h(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let e=0;e<r.length;e++)i.push(this.coder);return eJ(e,i,r)}decode(e){let t=this.length;-1===t&&c(32*(t=e.readIndex())<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:32*t,length:e.dataLength});let r=[];for(let e=0;e<t;e++)r.push(new eZ(this.coder));return eK(e,r)}}class eY extends Q{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,t){let r=eV.dereference(t,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class eX extends Q{constructor(e,t){super(e,e,t,!0)}defaultValue(){return"0x"}encode(e,t){return t=y(t),e.writeValue(t.length)+e.writeBytes(t)}decode(e){return e.readBytes(e.readIndex(),!0)}}class e0 extends eX{constructor(e){super("bytes",e)}decode(e){return A(super.decode(e))}}class e1 extends Q{size;constructor(e,t){let r="bytes"+String(e);super(r,r,t,!1),s(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,t){let r=y(eV.dereference(t,this.type));return r.length!==this.size&&this._throwError("incorrect data length",t),e.writeBytes(r)}decode(e){return A(e.readBytes(this.size))}}let e2=new Uint8Array([]);class e3 extends Q{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,t){return null!=t&&this._throwError("not null",t),e.writeBytes(e2)}decode(e){return e.readBytes(0),null}}let e4=BigInt(0),e8=BigInt(1),e6=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class e5 extends Q{size;signed;constructor(e,t,r){let n=(t?"int":"uint")+8*e;super(n,n,r,!1),s(this,{size:e,signed:t},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,t){let r=_(eV.dereference(t,this.type)),n=T(e6,256);if(this.signed){let e=T(n,8*this.size-1);(r>e||r<-(e+e8))&&this._throwError("value out-of-bounds",t),r=C(r,256)}else(r<e4||r>T(n,8*this.size))&&this._throwError("value out-of-bounds",t);return e.writeValue(r)}decode(e){let t=T(e.readValue(),8*this.size);return this.signed&&(t=function(e,t){let r=B(e,"value"),n=BigInt(F(t,"width"));return(c(r>>n===S,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-O)?-((~r&(O<<n)-O)+O):r}(t,8*this.size)),t}}function e9(e,t,r,n,i){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let n=t+1;n<r.length&&r[n]>>6==2;n++)e++;return e}return"OVERRUN"===e?r.length-t-1:0}let e7=Object.freeze({error:function(e,t,r,n,i){d(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)},ignore:e9,replace:function(e,t,r,n,i){return"OVERLONG"===e?(d("number"==typeof i,"invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),e9(e,t,r,n,i))}});function te(e,t){d("string"==typeof e,"invalid string value","str",e),null!=t&&(c(f.indexOf(t)>=0,"platform missing String.prototype.normalize","UNSUPPORTED_OPERATION",{operation:"String.prototype.normalize",info:{form:t}}),e=e.normalize(t));let r=[];for(let t=0;t<e.length;t++){let n=e.charCodeAt(t);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(63&n|128);else if((64512&n)==55296){t++;let i=e.charCodeAt(t);d(t<e.length&&(64512&i)==56320,"invalid surrogate pair","str",e);let s=65536+((1023&n)<<10)+(1023&i);r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(63&s|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(63&n|128)}return new Uint8Array(r)}function tt(e,t){return(function(e,t){null==t&&(t=e7.error);let r=m(e,"bytes"),n=[],i=0;for(;i<r.length;){let e=r[i++];if(e>>7==0){n.push(e);continue}let s=null,a=null;if((224&e)==192)s=1,a=127;else if((240&e)==224)s=2,a=2047;else if((248&e)==240)s=3,a=65535;else{(192&e)==128?i+=t("UNEXPECTED_CONTINUE",i-1,r,n):i+=t("BAD_PREFIX",i-1,r,n);continue}if(i-1+s>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let o=e&(1<<8-s-1)-1;for(let e=0;e<s;e++){let e=r[i];if((192&e)!=128){i+=t("MISSING_CONTINUE",i,r,n),o=null;break}o=o<<6|63&e,i++}if(null!==o){if(o>1114111){i+=t("OUT_OF_RANGE",i-1-s,r,n,o);continue}if(o>=55296&&o<=57343){i+=t("UTF16_SURROGATE",i-1-s,r,n,o);continue}if(o<=a){i+=t("OVERLONG",i-1-s,r,n,o);continue}n.push(o)}}return n})(e,t).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}class tr extends eX{constructor(e){super("string",e)}defaultValue(){return""}encode(e,t){return super.encode(e,te(eV.dereference(t,"string")))}decode(e){return tt(super.decode(e))}}class tn extends Q{coders;constructor(e,t){let r=!1,n=[];e.forEach(e=>{e.dynamic&&(r=!0),n.push(e.type)}),super("tuple","tuple("+n.join(",")+")",t,r),s(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(t=>{e.push(t.defaultValue())});let t=this.coders.reduce((e,t)=>{let r=t.localName;return r&&(e[r]||(e[r]=0),e[r]++),e},{});return this.coders.forEach((r,n)=>{let i=r.localName;i&&1===t[i]&&("length"===i&&(i="_length"),null==e[i]&&(e[i]=e[n]))}),Object.freeze(e)}encode(e,t){let r=eV.dereference(t,"tuple");return eJ(e,this.coders,r)}decode(e){return eK(e,this.coders)}}function ti(e){return eF(te(e))}function ts(e){let t=new Set;return e.forEach(e=>t.add(e)),Object.freeze(t)}let ta=ts("external public payable override".split(" ")),to="constant external internal payable private public pure view override",tl=ts(to.split(" ")),tu="constructor error event fallback function receive struct",tc=ts(tu.split(" ")),td="calldata memory storage payable indexed",th=ts(td.split(" ")),tf=ts([tu,td,"tuple returns",to].join(" ").split(" ")),tp={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tg=RegExp("^(\\s*)"),tm=RegExp("^([0-9]+)"),ty=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),tv=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),tb=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");class tw{#i;#d;get offset(){return this.#i}get length(){return this.#d.length-this.#i}constructor(e){this.#i=0,this.#d=e.slice()}clone(){return new tw(this.#d)}reset(){this.#i=0}#h(e=0,t=0){return new tw(this.#d.slice(e,t).map(t=>Object.freeze(Object.assign({},t,{match:t.match-e,linkBack:t.linkBack-e,linkNext:t.linkNext-e}))))}popKeyword(e){let t=this.peek();if("KEYWORD"!==t.type||!e.has(t.text))throw Error(`expected keyword ${t.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let t=this.peek();throw Error(`expected ${e}; got ${t.type} ${JSON.stringify(t.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=this.#h(this.#i+1,e.match+1);return this.#i=e.match+1,t}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let t=[];for(;this.#i<e.match-1;){let e=this.peek().linkNext;t.push(this.#h(this.#i+1,e)),this.#i=e}return this.#i=e.match+1,t}peek(){if(this.#i>=this.#d.length)throw Error("out-of-bounds");return this.#d[this.#i]}peekKeyword(e){let t=this.peekType("KEYWORD");return null!=t&&e.has(t)?t:null}peekType(e){if(0===this.length)return null;let t=this.peek();return t.type===e?t.text:null}pop(){let e=this.peek();return this.#i++,e}toString(){let e=[];for(let t=this.#i;t<this.#d.length;t++){let r=this.#d[t];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}}function tA(e){let t=[],r=t=>{let r=s<e.length?JSON.stringify(e[s]):"$EOI";throw Error(`invalid token ${r} at ${s}: ${t}`)},n=[],i=[],s=0;for(;s<e.length;){let a=e.substring(s),o=a.match(tg);o&&(s+=o[1].length,a=e.substring(s));let l={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};t.push(l);let u=tp[a[0]]||"";if(u){if(l.type=u,l.text=a[0],s++,"OPEN_PAREN"===u)n.push(t.length-1),i.push(t.length-1);else if("CLOSE_PAREN"==u)0===n.length&&r("no matching open bracket"),l.match=n.pop(),t[l.match].match=t.length-1,l.depth--,l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1;else if("COMMA"===u)l.linkBack=i.pop(),t[l.linkBack].linkNext=t.length-1,i.push(t.length-1);else if("OPEN_BRACKET"===u)l.type="BRACKET";else if("CLOSE_BRACKET"===u){let e=t.pop().text;if(t.length>0&&"NUMBER"===t[t.length-1].type){let r=t.pop().text;e=r+e,t[t.length-1].value=F(r)}if(0===t.length||"BRACKET"!==t[t.length-1].type)throw Error("missing opening bracket");t[t.length-1].text+=e}continue}if(o=a.match(ty)){if(l.text=o[1],s+=l.text.length,tf.has(l.text)){l.type="KEYWORD";continue}if(l.text.match(tb)){l.type="TYPE";continue}l.type="ID";continue}if(o=a.match(tm)){l.text=o[1],l.type="NUMBER",s+=l.text.length;continue}throw Error(`unexpected token ${JSON.stringify(a[0])} at position ${s}`)}return new tw(t.map(e=>Object.freeze(e)))}function tx(e,t){let r=[];for(let n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw Error(`conflicting types: ${r.join(", ")}`)}function tE(e,t){if(t.peekKeyword(tc)){let r=t.pop().text;if(r!==e)throw Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function tk(e,t){let r=new Set;for(;;){let n=e.peekType("KEYWORD");if(null==n||t&&!t.has(n))break;if(e.pop(),r.has(n))throw Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function tP(e){let t=tk(e,tl);return(tx(t,ts("constant payable nonpayable".split(" "))),tx(t,ts("pure view payable nonpayable".split(" "))),t.has("view"))?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function tI(e,t){return e.popParams().map(e=>tj.from(e,t))}function tS(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return _(e.pop().text);throw Error("invalid gas")}return null}function tO(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let tC=new RegExp(/^(.*)\[([0-9]*)\]$/);function tT(e){let t=e.match(tb);if(d(t,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(t[2]){let r=parseInt(t[2]);d(0!==r&&r<=32,"invalid bytes length","type",e)}else if(t[3]){let r=parseInt(t[3]);d(0!==r&&r<=256&&r%8==0,"invalid numeric width","type",e)}return e}let t_={},tB=Symbol.for("_ethers_internal"),tR="_ParamTypeInternal",tN="_ErrorInternal",tF="_EventInternal",tL="_ConstructorInternal",tM="_FallbackInternal",tD="_FunctionInternal",tU="_StructInternal";class tj{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,t,r,n,i,a,o,l){if(p(e,t_,"ParamType"),Object.defineProperty(this,tB,{value:tR}),a&&(a=Object.freeze(a.slice())),"array"===n){if(null==o||null==l)throw Error("")}else if(null!=o||null!=l)throw Error("");if("tuple"===n){if(null==a)throw Error("")}else if(null!=a)throw Error("");s(this,{name:t,type:r,baseType:n,indexed:i,components:a,arrayLength:o,arrayChildren:l})}format(e){if(null==e&&(e="sighash"),"json"===e){let t=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=t,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let r={type:"tuple"===this.baseType?"tuple":this.type,name:t};return"boolean"==typeof this.indexed&&(r.indexed=this.indexed),this.isTuple()&&(r.components=this.components.map(t=>JSON.parse(t.format(e)))),JSON.stringify(r)}let t="";return this.isArray()?t+=this.arrayChildren.format(e)+`[${this.arrayLength<0?"":String(this.arrayLength)}]`:this.isTuple()?t+="("+this.components.map(t=>t.format(e)).join("full"===e?", ":",")+")":t+=this.type,"sighash"!==e&&(!0===this.indexed&&(t+=" indexed"),"full"===e&&this.name&&(t+=" "+this.name)),t}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,t){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let r=this;return e.map(e=>r.arrayChildren.walk(e,t))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let r=this;return e.map((e,n)=>r.components[n].walk(e,t))}return t(this.type,e)}#f(e,t,r,n){if(this.isArray()){if(!Array.isArray(t))throw Error("invalid array value");if(-1!==this.arrayLength&&t.length!==this.arrayLength)throw Error("array is wrong length");let i=this.arrayChildren,s=t.slice();s.forEach((t,n)=>{i.#f(e,t,r,e=>{s[n]=e})}),n(s);return}if(this.isTuple()){let i;let s=this.components;if(Array.isArray(t))i=t.slice();else{if(null==t||"object"!=typeof t)throw Error("invalid tuple value");i=s.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in t))throw Error(`missing value for component ${e.name}`);return t[e.name]})}if(i.length!==this.components.length)throw Error("array is wrong length");i.forEach((t,n)=>{s[n].#f(e,t,r,e=>{i[n]=e})}),n(i);return}let i=r(this.type,t);i.then?e.push(async function(){n(await i)}()):n(i)}async walkAsync(e,t){let r=[],n=[e];return this.#f(r,e,t,e=>{n[0]=e}),r.length&&await Promise.all(r),n[0]}static from(e,t){if(tj.isParamType(e))return e;if("string"==typeof e)try{return tj.from(tA(e),t)}catch(t){d(!1,"invalid param type","obj",e)}else if(e instanceof tw){let r="",n="",i=null;tk(e,ts(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(n="tuple",i=e.popParams().map(e=>tj.from(e)),r=`tuple(${i.map(e=>e.format()).join(",")})`):n=r=tT(e.popType("TYPE"));let s=null,a=null;for(;e.length&&e.peekType("BRACKET");){let t=e.pop();s=new tj(t_,"",r,n,null,i,a,s),a=t.value,r+=t.text,n="array",i=null}let o=null;if(tk(e,th).has("indexed")){if(!t)throw Error("");o=!0}let l=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new tj(t_,l,r,n,o,i,a,s)}let r=e.name;d(!r||"string"==typeof r&&r.match(tv),"invalid name","obj.name",r);let n=e.indexed;null!=n&&(d(t,"parameter cannot be indexed","obj.indexed",e.indexed),n=!!n);let i=e.type,s=i.match(tC);if(s){let t=parseInt(s[2]||"-1"),a=tj.from({type:s[1],components:e.components});return new tj(t_,r||"",i,"array",n,null,t,a)}if("tuple"===i||i.startsWith("tuple(")||i.startsWith("(")){let t=null!=e.components?e.components.map(e=>tj.from(e)):null;return new tj(t_,r||"",i,"tuple",n,t,null,null)}return new tj(t_,r||"",i=tT(e.type),i,n,null,null,null)}static isParamType(e){return e&&e[tB]===tR}}class tH{type;inputs;constructor(e,t,r){p(e,t_,"Fragment"),s(this,{type:t,inputs:r=Object.freeze(r.slice())})}static from(e){if("string"==typeof e){try{tH.from(JSON.parse(e))}catch(e){}return tH.from(tA(e))}if(e instanceof tw)switch(e.peekKeyword(tc)){case"constructor":return tV.from(e);case"error":return tq.from(e);case"event":return tz.from(e);case"fallback":case"receive":return tQ.from(e);case"function":return tZ.from(e);case"struct":return tJ.from(e)}else if("object"==typeof e){switch(e.type){case"constructor":return tV.from(e);case"error":return tq.from(e);case"event":return tz.from(e);case"fallback":case"receive":return tQ.from(e);case"function":return tZ.from(e);case"struct":return tJ.from(e)}c(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}d(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return tV.isFragment(e)}static isError(e){return tq.isFragment(e)}static isEvent(e){return tz.isFragment(e)}static isFunction(e){return tZ.isFragment(e)}static isStruct(e){return tJ.isFragment(e)}}class tG extends tH{name;constructor(e,t,r,n){super(e,t,n),d("string"==typeof r&&r.match(tv),"invalid identifier","name",r),n=Object.freeze(n.slice()),s(this,{name:r})}}function t$(e,t){return"("+t.map(t=>t.format(e)).join("full"===e?", ":",")+")"}class tq extends tG{constructor(e,t,r){super(e,"error",t,r),Object.defineProperty(this,tB,{value:tN})}get selector(){return ti(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("error"),t.push(this.name+t$(e,this.inputs)),t.join(" ")}static from(e){if(tq.isFragment(e))return e;if("string"==typeof e)return tq.from(tA(e));if(e instanceof tw){let t=tE("error",e),r=tI(e);return tO(e),new tq(t_,t,r)}return new tq(t_,e.name,e.inputs?e.inputs.map(tj.from):[])}static isFragment(e){return e&&e[tB]===tN}}class tz extends tG{anonymous;constructor(e,t,r,n){super(e,"event",t,r),Object.defineProperty(this,tB,{value:tF}),s(this,{anonymous:n})}get topicHash(){return ti(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("event"),t.push(this.name+t$(e,this.inputs)),"sighash"!==e&&this.anonymous&&t.push("anonymous"),t.join(" ")}static getTopicHash(e,t){return new tz(t_,e,t=(t||[]).map(e=>tj.from(e)),!1).topicHash}static from(e){if(tz.isFragment(e))return e;if("string"==typeof e)try{return tz.from(tA(e))}catch(t){d(!1,"invalid event fragment","obj",e)}else if(e instanceof tw){let t=tE("event",e),r=tI(e,!0),n=!!tk(e,ts(["anonymous"])).has("anonymous");return tO(e),new tz(t_,t,r,n)}return new tz(t_,e.name,e.inputs?e.inputs.map(e=>tj.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[tB]===tF}}class tV extends tH{payable;gas;constructor(e,t,r,n,i){super(e,t,r),Object.defineProperty(this,tB,{value:tL}),s(this,{payable:n,gas:i})}format(e){if(c(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e)))});let t=[`constructor${t$(e,this.inputs)}`];return this.payable&&t.push("payable"),null!=this.gas&&t.push(`@${this.gas.toString()}`),t.join(" ")}static from(e){if(tV.isFragment(e))return e;if("string"==typeof e)try{return tV.from(tA(e))}catch(t){d(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof tw){tk(e,ts(["constructor"]));let t=tI(e),r=!!tk(e,ta).has("payable"),n=tS(e);return tO(e),new tV(t_,"constructor",t,r,n)}return new tV(t_,"constructor",e.inputs?e.inputs.map(tj.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[tB]===tL}}class tQ extends tH{payable;constructor(e,t,r){super(e,"fallback",t),Object.defineProperty(this,tB,{value:tM}),s(this,{payable:r})}format(e){let t=0===this.inputs.length?"receive":"fallback";return"json"===e?JSON.stringify({type:t,stateMutability:this.payable?"payable":"nonpayable"}):`${t}()${this.payable?" payable":""}`}static from(e){if(tQ.isFragment(e))return e;if("string"==typeof e)try{return tQ.from(tA(e))}catch(t){d(!1,"invalid fallback fragment","obj",e)}else if(e instanceof tw){let t=e.toString();if(d(e.peekKeyword(ts(["fallback","receive"])),"type must be fallback or receive","obj",t),"receive"===e.popKeyword(ts(["fallback","receive"]))){let t=tI(e);return d(0===t.length,"receive cannot have arguments","obj.inputs",t),tk(e,ts(["payable"])),tO(e),new tQ(t_,[],!0)}let r=tI(e);r.length?d(1===r.length&&"bytes"===r[0].type,"invalid fallback inputs","obj.inputs",r.map(e=>e.format("minimal")).join(", ")):r=[tj.from("bytes")];let n=tP(e);if(d("nonpayable"===n||"payable"===n,"fallback cannot be constants","obj.stateMutability",n),tk(e,ts(["returns"])).has("returns")){let t=tI(e);d(1===t.length&&"bytes"===t[0].type,"invalid fallback outputs","obj.outputs",t.map(e=>e.format("minimal")).join(", "))}return tO(e),new tQ(t_,r,"payable"===n)}return"receive"===e.type?new tQ(t_,[],!0):"fallback"===e.type?new tQ(t_,[tj.from("bytes")],"payable"===e.stateMutability):void d(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[tB]===tM}}class tZ extends tG{constant;outputs;stateMutability;payable;gas;constructor(e,t,r,n,i,a){super(e,"function",t,n),Object.defineProperty(this,tB,{value:tD}),s(this,{constant:"view"===r||"pure"===r,gas:a,outputs:i=Object.freeze(i.slice()),payable:"payable"===r,stateMutability:r})}get selector(){return ti(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(t=>JSON.parse(t.format(e))),outputs:this.outputs.map(t=>JSON.parse(t.format(e)))});let t=[];return"sighash"!==e&&t.push("function"),t.push(this.name+t$(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&t.push(this.stateMutability),this.outputs&&this.outputs.length&&(t.push("returns"),t.push(t$(e,this.outputs))),null!=this.gas&&t.push(`@${this.gas.toString()}`)),t.join(" ")}static getSelector(e,t){return new tZ(t_,e,"view",t=(t||[]).map(e=>tj.from(e)),[],null).selector}static from(e){if(tZ.isFragment(e))return e;if("string"==typeof e)try{return tZ.from(tA(e))}catch(t){d(!1,"invalid function fragment","obj",e)}else if(e instanceof tw){let t=tE("function",e),r=tI(e),n=tP(e),i=[];tk(e,ts(["returns"])).has("returns")&&(i=tI(e));let s=tS(e);return tO(e),new tZ(t_,t,n,r,i,s)}let t=e.stateMutability;return null!=t||(t="payable","boolean"==typeof e.constant?(t="view",e.constant||(t="payable","boolean"!=typeof e.payable||e.payable||(t="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(t="nonpayable")),new tZ(t_,e.name,t,e.inputs?e.inputs.map(tj.from):[],e.outputs?e.outputs.map(tj.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[tB]===tD}}class tJ extends tG{constructor(e,t,r){super(e,"struct",t,r),Object.defineProperty(this,tB,{value:tU})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return tJ.from(tA(e))}catch(t){d(!1,"invalid struct fragment","obj",e)}else if(e instanceof tw){let t=tE("struct",e),r=tI(e);return tO(e),new tJ(t_,t,r)}return new tJ(t_,e.name,e.inputs?e.inputs.map(tj.from):[])}static isFragment(e){return e&&e[tB]===tU}}let tK=new Map;tK.set(0,"GENERIC_PANIC"),tK.set(1,"ASSERT_FALSE"),tK.set(17,"OVERFLOW"),tK.set(18,"DIVIDE_BY_ZERO"),tK.set(33,"ENUM_RANGE_ERROR"),tK.set(34,"BAD_STORAGE_DATA"),tK.set(49,"STACK_UNDERFLOW"),tK.set(50,"ARRAY_RANGE_ERROR"),tK.set(65,"OUT_OF_MEMORY"),tK.set(81,"UNINITIALIZED_FUNCTION_CALL");let tW=new RegExp(/^bytes([0-9]*)$/),tY=new RegExp(/^(u?int)([0-9]*)$/),tX=null,t0=1024;class t1{#p(e){if(e.isArray())return new eW(this.#p(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new tn(e.components.map(e=>this.#p(e)),e.name);switch(e.baseType){case"address":return new eQ(e.name);case"bool":return new eY(e.name);case"string":return new tr(e.name);case"bytes":return new e0(e.name);case"":return new e3(e.name)}let t=e.type.match(tY);if(t){let r=parseInt(t[2]||"256");return d(0!==r&&r<=256&&r%8==0,"invalid "+t[1]+" bit length","param",e),new e5(r/8,"int"===t[1],e.name)}if(t=e.type.match(tW)){let r=parseInt(t[1]);return d(0!==r&&r<=32,"invalid bytes length","param",e),new e1(r,e.name)}d(!1,"invalid type","type",e.type)}getDefaultValue(e){return new tn(e.map(e=>this.#p(tj.from(e))),"_").defaultValue()}encode(e,t){h(t.length,e.length,"types/values length mismatch");let r=new tn(e.map(e=>this.#p(tj.from(e))),"_"),n=new Z;return r.encode(n,t),n.data}decode(e,t,r){return new tn(e.map(e=>this.#p(tj.from(e))),"_").decode(new J(t,r,t0))}static _setDefaultMaxInflation(e){d("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),t0=e}static defaultAbiCoder(){return null==tX&&(tX=new t1),tX}static getBuiltinCallException(e,t,r){return function(e,t,r,n){let i="missing revert data",s=null,a=null;if(r){i="execution reverted";let e=m(r);if(r=A(r),0===e.length)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(e.length%32!=4)i+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===A(e.slice(0,4)))try{s=n.decode(["string"],e.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch(e){i+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===A(e.slice(0,4)))try{let t=Number(n.decode(["uint256"],e.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[t]},s=`Panic due to ${tK.get(t)||"UNKNOWN"}(${t})`,i+=`: ${s}`}catch(e){i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}let o={to:t.to?eH(t.to):null,data:t.data||"0x"};return t.from&&(o.from=eH(t.from)),u(i,"CALL_EXCEPTION",{action:e,data:r,reason:s,transaction:o,invocation:null,revert:a})}(e,t,r,t1.defaultAbiCoder())}}function t2(e){return e&&"function"==typeof e.getAddress}async function t3(e,t){let r=await t;return(null==r||"0x0000000000000000000000000000000000000000"===r)&&(c("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),d(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),eH(r)}function t4(e,t){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?eH(e):(c(null!=t,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),t3(e,t.resolveName(e))):t2(e)?t3(e,e.getAddress()):e&&"function"==typeof e.then?t3(e,e):void d(!1,"unsupported addressable value","target",e)}let t8=new Uint8Array(32);t8.fill(0);let t6=BigInt(-1),t5=BigInt(0),t9=BigInt(1),t7=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),re=L(t9,32),rt=L(t5,32),rr={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},rn=["name","version","chainId","verifyingContract","salt"];function ri(e){return function(t){return d("string"==typeof t,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,t),t}}let rs={name:ri("name"),version:ri("version"),chainId:function(e){let t=_(e,"domain.chainId");return(d(t>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(t))?Number(t):D(t)},verifyingContract:function(e){try{return eH(e).toLowerCase()}catch(e){}d(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let t=m(e,"domain.salt");return d(32===t.length,'invalid domain value "salt"',"domain.salt",e),A(t)}};function ra(e){{let t=e.match(/^(u?)int(\d+)$/);if(t){let r=""===t[1],n=parseInt(t[2]);d(n%8==0&&0!==n&&n<=256&&t[2]===String(n),"invalid numeric width","type",e);let i=T(t7,r?n-1:n),s=r?(i+t9)*t6:t5;return function(t){let n=_(t,"value");return d(n>=s&&n<=i,`value out-of-bounds for ${e}`,"value",n),L(r?C(n,256):n,32)}}}{let t=e.match(/^bytes(\d+)$/);if(t){let r=parseInt(t[1]);return d(0!==r&&r<=32&&t[1]===String(r),"invalid bytes width","type",e),function(t){return d(m(t).length===r,`invalid length for ${e}`,"value",t),function(e){let t=m(e),r=t.length%32;return r?x([t,t8.slice(r)]):A(t)}(t)}}}switch(e){case"address":return function(e){return I(eH(e),32)};case"bool":return function(e){return e?re:rt};case"bytes":return function(e){return eF(e)};case"string":return function(e){return ti(e)}}return null}function ro(e,t){return`${e}(${t.map(({name:e,type:t})=>t+" "+e).join(",")})`}function rl(e){let t=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return t?{base:t[1],index:t[2]+t[4],array:{base:t[1],prefix:t[1]+t[2],count:t[5]?parseInt(t[5]):-1}}:{base:e}}class ru{primaryType;#g;get types(){return JSON.parse(this.#g)}#m;#y;constructor(e){this.#m=new Map,this.#y=new Map;let t=new Map,r=new Map,n=new Map,i={};for(let s in Object.keys(e).forEach(s=>{i[s]=e[s].map(({name:t,type:r})=>{let{base:n,index:i}=rl(r);return"int"!==n||e.int||(n="int256"),"uint"!==n||e.uint||(n="uint256"),{name:t,type:n+(i||"")}}),t.set(s,new Set),r.set(s,[]),n.set(s,new Set)}),this.#g=JSON.stringify(i),i){let n=new Set;for(let a of i[s]){d(!n.has(a.name),`duplicate variable name ${JSON.stringify(a.name)} in ${JSON.stringify(s)}`,"types",e),n.add(a.name);let i=rl(a.type).base;d(i!==s,`circular type reference to ${JSON.stringify(i)}`,"types",e),ra(i)||(d(r.has(i),`unknown type ${JSON.stringify(i)}`,"types",e),r.get(i).push(s),t.get(s).add(i))}}let a=Array.from(r.keys()).filter(e=>0===r.get(e).length);for(let[o,l]of(d(0!==a.length,"missing primary type","types",e),d(1===a.length,`ambiguous primary types or unused types: ${a.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),s(this,{primaryType:a[0]}),!function i(s,a){for(let o of(d(!a.has(s),`circular type reference to ${JSON.stringify(s)}`,"types",e),a.add(s),t.get(s)))if(r.has(o))for(let e of(i(o,a),a))n.get(e).add(o);a.delete(s)}(this.primaryType,new Set),n)){let e=Array.from(l);e.sort(),this.#m.set(o,ro(o,i[o])+e.map(e=>ro(e,i[e])).join(""))}}getEncoder(e){let t=this.#y.get(e);return t||(t=this.#v(e),this.#y.set(e,t)),t}#v(e){{let t=ra(e);if(t)return t}let t=rl(e).array;if(t){let e=t.prefix,r=this.getEncoder(e);return n=>{d(-1===t.count||t.count===n.length,`array length mismatch; expected length ${t.count}`,"value",n);let i=n.map(r);return this.#m.has(e)&&(i=i.map(eF)),eF(x(i))}}let r=this.types[e];if(r){let t=ti(this.#m.get(e));return e=>{let n=r.map(({name:t,type:r})=>{let n=this.getEncoder(r)(e[t]);return this.#m.has(r)?eF(n):n});return n.unshift(t),x(n)}}d(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let t=this.#m.get(e);return d(t,`unknown type: ${JSON.stringify(e)}`,"name",e),t}encodeData(e,t){return this.getEncoder(e)(t)}hashStruct(e,t){return eF(this.encodeData(e,t))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,t,r){if(ra(e))return r(e,t);let n=rl(e).array;if(n)return d(-1===n.count||n.count===t.length,`array length mismatch; expected length ${n.count}`,"value",t),t.map(e=>this._visit(n.prefix,e,r));let i=this.types[e];if(i)return i.reduce((e,{name:n,type:i})=>(e[n]=this._visit(i,t[n],r),e),{});d(!1,`unknown type: ${e}`,"type",e)}visit(e,t){return this._visit(this.primaryType,e,t)}static from(e){return new ru(e)}static getPrimaryType(e){return ru.from(e).primaryType}static hashStruct(e,t,r){return ru.from(t).hashStruct(e,r)}static hashDomain(e){let t=[];for(let r in e){if(null==e[r])continue;let n=rr[r];d(n,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),t.push({name:r,type:n})}return t.sort((e,t)=>rn.indexOf(e.name)-rn.indexOf(t.name)),ru.hashStruct("EIP712Domain",{EIP712Domain:t},e)}static encode(e,t,r){return x(["0x1901",ru.hashDomain(e),ru.from(t).hash(r)])}static hash(e,t,r){return eF(ru.encode(e,t,r))}static async resolveNames(e,t,r,n){for(let t in e=Object.assign({},e))null==e[t]&&delete e[t];let i={};e.verifyingContract&&!v(e.verifyingContract,20)&&(i[e.verifyingContract]="0x");let s=ru.from(t);for(let e in s.visit(r,(e,t)=>("address"!==e||v(t,20)||(i[t]="0x"),t)),i)i[e]=await n(e);return e.verifyingContract&&i[e.verifyingContract]&&(e.verifyingContract=i[e.verifyingContract]),r=s.visit(r,(e,t)=>"address"===e&&i[t]?i[t]:t),{domain:e,value:r}}static getPayload(e,t,r){ru.hashDomain(e);let n={},i=[];rn.forEach(t=>{let r=e[t];null!=r&&(n[t]=rs[t](r),i.push({name:t,type:rr[t]}))});let s=ru.from(t),a=Object.assign({},t=s.types);return d(null==a.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",t),a.EIP712Domain=i,s.encode(r),{types:a,domain:n,primaryType:s.primaryType,message:s.visit(r,(e,t)=>{if(e.match(/^bytes(\d*)/))return A(m(t));if(e.match(/^u?int/))return _(t).toString();switch(e){case"address":return t.toLowerCase();case"bool":return!!t;case"string":return d("string"==typeof t,"invalid string","value",t),t}d(!1,"unsupported type","type",e)})}}}function rc(e,t){return{address:eH(e),storageKeys:t.map((e,t)=>(d(v(e,32),"invalid slot",`storageKeys[${t}]`,e),e.toLowerCase()))}}function rd(e){if(Array.isArray(e))return e.map((t,r)=>Array.isArray(t)?(d(2===t.length,"invalid slot set",`value[${r}]`,t),rc(t[0],t[1])):(d(null!=t&&"object"==typeof t,"invalid address-slot set","value",e),rc(t.address,t.storageKeys)));d(null!=e&&"object"==typeof e,"invalid access list","value",e);let t=Object.keys(e).map(t=>{let r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return rc(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function rh(e){return async function(e,t){let r;c(null==t||!t.cancelled,"request cancelled before sending","CANCELLED");let n=e.url.split(":")[0].toLowerCase();c("http"===n||"https"===n,`unsupported protocol ${n}`,"UNSUPPORTED_OPERATION",{info:{protocol:n},operation:"request"}),c("https"===n||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let i=null,s=new AbortController,a=setTimeout(()=>{i=u("request timeout","TIMEOUT"),s.abort()},e.timeout);t&&t.addListener(()=>{i=u("request cancelled","CANCELLED"),s.abort()});let o={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:s.signal};try{r=await fetch(e.url,o)}catch(e){if(clearTimeout(a),i)throw i;throw e}clearTimeout(a);let l={};r.headers.forEach((e,t)=>{l[t.toLowerCase()]=e});let d=await r.arrayBuffer(),h=null==d?null:new Uint8Array(d);return{statusCode:r.status,statusMessage:r.statusText,headers:l,body:h}}}rh({});let rf=rh(),rp=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),rg=RegExp("^ipfs://(ipfs/)?(.*)$","i"),rm=!1;async function ry(e,t){try{var r;let t=e.match(rp);if(!t)throw Error("invalid data");return new rk(200,"OK",{"content-type":t[1]||"text/plain"},t[2]?function(e){let t=new Uint8Array((e=atob(e)).length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return m(t)}(t[3]):(r=t[3],te(r.replace(/%([0-9a-f][0-9a-f])/gi,(e,t)=>String.fromCharCode(parseInt(t,16))))))}catch(t){return new rk(599,"BAD REQUEST (invalid data: URI)",{},null,new rE(e))}}function rv(e){return async function(t,r){try{let r=t.match(rg);if(!r)throw Error("invalid link");return new rE(`${e}${r[2]}`)}catch(e){return new rk(599,"BAD REQUEST (invalid IPFS URI)",{},null,new rE(t))}}}let rb={data:ry,ipfs:rv("https://gateway.ipfs.io/ipfs/")},rw=new WeakMap;class rA{#b;#w;constructor(e){this.#b=[],this.#w=!1,rw.set(e,()=>{if(!this.#w){for(let e of(this.#w=!0,this.#b))setTimeout(()=>{e()},0);this.#b=[]}})}addListener(e){c(!this.#w,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#b.push(e)}get cancelled(){return this.#w}checkSignal(){c(!this.cancelled,"cancelled","CANCELLED",{})}}function rx(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}class rE{#A;#x;#E;#k;#P;#I;#S;#O;#C;#T;#_;#B;#R;#N;#F;get url(){return this.#I}set url(e){this.#I=String(e)}get body(){return null==this.#S?null:new Uint8Array(this.#S)}set body(e){if(null==e)this.#S=void 0,this.#O=void 0;else if("string"==typeof e)this.#S=te(e),this.#O="text/plain";else if(e instanceof Uint8Array)this.#S=e,this.#O="application/octet-stream";else if("object"==typeof e)this.#S=te(JSON.stringify(e)),this.#O="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#S}get method(){return this.#k?this.#k:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#k=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#E);return this.#C&&(e.authorization=`Basic ${function(e){let t=m(e),r="";for(let e=0;e<t.length;e++)r+=String.fromCharCode(t[e]);return btoa(r)}(te(this.#C))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#O&&(e["content-type"]=this.#O),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,t){this.#E[String(e).toLowerCase()]=String(t)}clearHeaders(){this.#E={}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#C||null}setCredentials(e,t){d(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#C=`${e}:${t}`}get allowGzip(){return this.#x}set allowGzip(e){this.#x=!!e}get allowInsecureAuthentication(){return!!this.#A}set allowInsecureAuthentication(e){this.#A=!!e}get timeout(){return this.#P}set timeout(e){d(e>=0,"timeout must be non-zero","timeout",e),this.#P=e}get preflightFunc(){return this.#T||null}set preflightFunc(e){this.#T=e}get processFunc(){return this.#_||null}set processFunc(e){this.#_=e}get retryFunc(){return this.#B||null}set retryFunc(e){this.#B=e}get getUrlFunc(){return this.#F||rf}set getUrlFunc(e){this.#F=e}constructor(e){this.#I=String(e),this.#A=!1,this.#x=!0,this.#E={},this.#k="",this.#P=3e5,this.#N={slotInterval:250,maxAttempts:12},this.#F=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#S?A(this.#S):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#N.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#N.maxAttempts=e.maxAttempts)}async #L(e,t,r,n,i){if(e>=this.#N.maxAttempts)return i.makeServerError("exceeded maximum retry limit");c(rP()<=t,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:n}),r>0&&await new Promise(e=>setTimeout(e,r));let s=this.clone(),a=(s.url.split(":")[0]||"").toLowerCase();if(a in rb){let e=await rb[a](s.url,rx(n.#R));if(e instanceof rk){let t=e;if(this.processFunc){rx(n.#R);try{t=await this.processFunc(s,t)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&t.makeServerError("error in post-processing function",e).assertOk()}}return t}s=e}this.preflightFunc&&(s=await this.preflightFunc(s));let o=await this.getUrlFunc(s,rx(n.#R)),l=new rk(o.statusCode,o.statusMessage,o.headers,o.body,n);if(301===l.statusCode||302===l.statusCode){try{let r=l.headers.location||"";return s.redirect(r).#L(e+1,t,0,n,l)}catch(e){}return l}if(429===l.statusCode&&(null==this.retryFunc||await this.retryFunc(s,l,e))){let r=l.headers["retry-after"],i=this.#N.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof r&&r.match(/^[1-9][0-9]*$/)&&(i=parseInt(r)),s.clone().#L(e+1,t,i,n,l)}if(this.processFunc){rx(n.#R);try{l=await this.processFunc(s,l)}catch(i){(null==i.throttle||"number"!=typeof i.stall)&&l.makeServerError("error in post-processing function",i).assertOk();let r=this.#N.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return i.stall>=0&&(r=i.stall),s.clone().#L(e+1,t,r,n,l)}}return l}send(){return c(null==this.#R,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#R=new rA(this),this.#L(0,rP()+this.timeout,0,this,new rk(0,"",{},null,this))}cancel(){c(null!=this.#R,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=rw.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let t=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();c("GET"===this.method&&("https"!==t||"http"!==r)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let n=new rE(e);return n.method="GET",n.allowGzip=this.allowGzip,n.timeout=this.timeout,n.#E=Object.assign({},this.#E),this.#S&&(n.#S=new Uint8Array(this.#S)),n.#O=this.#O,n}clone(){let e=new rE(this.url);return e.#k=this.#k,this.#S&&(e.#S=this.#S),e.#O=this.#O,e.#E=Object.assign({},this.#E),e.#C=this.#C,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#T=this.#T,e.#_=this.#_,e.#B=this.#B,e.#N=Object.assign({},this.#N),e.#F=this.#F,e}static lockConfig(){rm=!0}static getGateway(e){return rb[e.toLowerCase()]||null}static registerGateway(e,t){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(rm)throw Error("gateways locked");rb[e]=t}static registerGetUrl(e){if(rm)throw Error("gateways locked");rf=e}static createGetUrlFunc(e){return rh(e)}static createDataGateway(){return ry}static createIpfsGatewayFunc(e){return rv(e)}}class rk{#M;#D;#E;#S;#U;#j;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#S?A(this.#S):"null"}>`}get statusCode(){return this.#M}get statusMessage(){return this.#D}get headers(){return Object.assign({},this.#E)}get body(){return null==this.#S?null:new Uint8Array(this.#S)}get bodyText(){try{return null==this.#S?"":tt(this.#S)}catch(e){c(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){c(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,t=Object.keys(e),r=0;return{next:()=>{if(r<t.length){let n=t[r++];return{value:[n,e[n]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,t,r,n,i){this.#M=e,this.#D=t,this.#E=Object.keys(r).reduce((e,t)=>(e[t.toLowerCase()]=String(r[t]),e),{}),this.#S=null==n?null:new Uint8Array(n),this.#U=i||null,this.#j={message:""}}makeServerError(e,t){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);let n=new rk(599,r,this.headers,this.body,this.#U||void 0);return n.#j={message:e,error:t},n}throwThrottleError(e,t){null==t?t=-1:d(Number.isInteger(t)&&t>=0,"invalid stall timeout","stall",t);let r=Error(e||"throttling requests");throw s(r,{stall:t,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#S}get request(){return this.#U}ok(){return""===this.#j.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:t}=this.#j;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let n=null;try{this.#S&&(n=tt(this.#S))}catch(e){}c(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:t,info:{requestUrl:r,responseBody:n,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}}function rP(){return new Date().getTime()}let rI="0x0000000000000000000000000000000000000000";class rS{fragment;name;signature;topic;args;constructor(e,t,r){let n=e.name,i=e.format();s(this,{fragment:e,name:n,signature:i,topic:t,args:r})}}class rO{fragment;name;args;signature;selector;value;constructor(e,t,r,n){let i=e.name,a=e.format();s(this,{fragment:e,name:i,args:r,signature:a,selector:t,value:n})}}class rC{fragment;name;args;signature;selector;constructor(e,t,r){let n=e.name,i=e.format();s(this,{fragment:e,name:n,args:r,signature:i,selector:t})}}class rT{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){s(this,{hash:e,_isIndexed:!0})}}let r_={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},rB={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&r_[e.toString()]&&(t=r_[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};class rR{fragments;deploy;fallback;receive;#H;#G;#$;#q;constructor(e){let t=[];t="string"==typeof e?JSON.parse(e):e,this.#$=new Map,this.#H=new Map,this.#G=new Map;let r=[];for(let e of t)try{r.push(tH.from(e))}catch(t){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,t.message)}s(this,{fragments:Object.freeze(r)});let n=null,i=!1;this.#q=this.getAbiCoder(),this.fragments.forEach((e,t)=>{let r;switch(e.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}s(this,{deploy:e});return;case"fallback":0===e.inputs.length?i=!0:(d(!n||e.payable!==n.payable,"conflicting fallback fragments",`fragments[${t}]`,e),i=(n=e).payable);return;case"function":r=this.#$;break;case"event":r=this.#G;break;case"error":r=this.#H;break;default:return}let a=e.format();r.has(a)||r.set(a,e)}),this.deploy||s(this,{deploy:tV.from("constructor()")}),s(this,{fallback:n,receive:i})}format(e){let t=e?"minimal":"full";return this.fragments.map(e=>e.format(t))}formatJson(){return JSON.stringify(this.fragments.map(e=>e.format("json")).map(e=>JSON.parse(e)))}getAbiCoder(){return t1.defaultAbiCoder()}#z(e,t,r){if(v(e)){let t=e.toLowerCase();for(let e of this.#$.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#$)t.split("(")[0]===e&&n.push(r);if(t){let e=t.length>0?t[t.length-1]:null,r=t.length,i=!0;eV.isTyped(e)&&"overrides"===e.type&&(i=!1,r--);for(let e=n.length-1;e>=0;e--){let t=n[e].inputs.length;t===r||i&&t===r-1||n.splice(e,1)}for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(eV.isTyped(t[i])){if(i>=r.length){if("overrides"===t[i].type)continue;n.splice(e,1);break}if(t[i].type!==r[i].baseType){n.splice(e,1);break}}}}if(1===n.length&&t&&t.length!==n[0].inputs.length){let e=t[t.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&n.splice(0,1)}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous function description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#$.get(tZ.from(e).format())||null}getFunctionName(e){let t=this.#z(e,null,!1);return d(t,"no matching function","key",e),t.name}hasFunction(e){return!!this.#z(e,null,!1)}getFunction(e,t){return this.#z(e,t||null,!0)}forEachFunction(e){let t=Array.from(this.#$.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#$.get(n),r)}}#V(e,t,r){if(v(e)){let t=e.toLowerCase();for(let e of this.#G.values())if(t===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let n=[];for(let[t,r]of this.#G)t.split("(")[0]===e&&n.push(r);if(t){for(let e=n.length-1;e>=0;e--)n[e].inputs.length<t.length&&n.splice(e,1);for(let e=n.length-1;e>=0;e--){let r=n[e].inputs;for(let i=0;i<t.length;i++)if(eV.isTyped(t[i])&&t[i].type!==r[i].baseType){n.splice(e,1);break}}}if(0===n.length)return null;if(n.length>1&&r){let t=n.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous event description (i.e. matches ${t})`,"key",e)}return n[0]}return this.#G.get(tz.from(e).format())||null}getEventName(e){let t=this.#V(e,null,!1);return d(t,"no matching event","key",e),t.name}hasEvent(e){return!!this.#V(e,null,!1)}getEvent(e,t){return this.#V(e,t||null,!0)}forEachEvent(e){let t=Array.from(this.#G.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#G.get(n),r)}}getError(e,t){if(v(e)){let t=e.toLowerCase();if(rB[t])return tq.from(rB[t].signature);for(let e of this.#H.values())if(t===e.selector)return e;return null}if(-1===e.indexOf("(")){let t=[];for(let[r,n]of this.#H)r.split("(")[0]===e&&t.push(n);if(0===t.length)return"Error"===e?tq.from("error Error(string)"):"Panic"===e?tq.from("error Panic(uint256)"):null;if(t.length>1){let r=t.map(e=>JSON.stringify(e.format())).join(", ");d(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return t[0]}return"Error(string)"===(e=tq.from(e).format())?tq.from("error Error(string)"):"Panic(uint256)"===e?tq.from("error Panic(uint256)"):this.#H.get(e)||null}forEachError(e){let t=Array.from(this.#H.keys());t.sort((e,t)=>e.localeCompare(t));for(let r=0;r<t.length;r++){let n=t[r];e(this.#H.get(n),r)}}_decodeParams(e,t){return this.#q.decode(e,t)}_encodeParams(e,t){return this.#q.encode(e,t)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return d(k(t,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",t),this._decodeParams(e.inputs,k(t,4))}encodeErrorResult(e,t){if("string"==typeof e){let t=this.getError(e);d(t,"unknown error","fragment",e),e=t}return x([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return d(k(t,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",t),this._decodeParams(e.inputs,k(t,4))}encodeFunctionData(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return x([e.selector,this._encodeParams(e.inputs,t||[])])}decodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}let r="invalid length for result data",n=y(t);if(n.length%32==0)try{return this.#q.decode(e.outputs,n)}catch(e){r="could not decode result data"}c(!1,r,"BAD_DATA",{value:A(n),info:{method:e.name,signature:e.format()}})}makeError(e,t){let r=m(e,"data"),n=t1.getBuiltinCallException("call",t,r);if(n.message.startsWith("execution reverted (unknown custom error)")){let e=A(r.slice(0,4)),t=this.getError(e);if(t)try{let e=this.#q.decode(t.inputs,r.slice(4));n.revert={name:t.name,signature:t.format(),args:e},n.reason=n.revert.signature,n.message=`execution reverted: ${n.reason}`}catch(e){n.message="execution reverted (coult not decode custom error)"}}let i=this.parseTransaction(t);return i&&(n.invocation={method:i.name,signature:i.signature,args:i.args}),n}encodeFunctionResult(e,t){if("string"==typeof e){let t=this.getFunction(e);d(t,"unknown function","fragment",e),e=t}return A(this.#q.encode(e.outputs,t||[]))}encodeFilterTopics(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}c(t.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:t.length,expectedCount:e.inputs.length});let r=[];e.anonymous||r.push(e.topicHash);let n=(e,t)=>"string"===e.type?ti(t):"bytes"===e.type?eF(A(t)):("bool"===e.type&&"boolean"==typeof t?t=t?"0x01":"0x00":e.type.match(/^u?int/)?t=L(t):e.type.match(/^bytes/)?t=P(t,32,!1):"address"===e.type&&this.#q.encode(["address"],[t]),I(A(t),32));for(t.forEach((t,i)=>{let s=e.inputs[i];if(!s.indexed){d(null==t,"cannot filter non-indexed parameters; must be null","contract."+s.name,t);return}null==t?r.push(null):"array"===s.baseType||"tuple"===s.baseType?d(!1,"filtering with tuples or arrays not supported","contract."+s.name,t):Array.isArray(t)?r.push(t.map(e=>n(s,e))):r.push(n(s,t))});r.length&&null===r[r.length-1];)r.pop();return r}encodeEventLog(e,t){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}let r=[],n=[],i=[];return e.anonymous||r.push(e.topicHash),d(t.length===e.inputs.length,"event arguments/values mismatch","values",t),e.inputs.forEach((e,s)=>{let a=t[s];if(e.indexed){if("string"===e.type)r.push(ti(a));else if("bytes"===e.type)r.push(eF(a));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else r.push(this.#q.encode([e.type],[a]))}else n.push(e),i.push(a)}),{data:this.#q.encode(n,i),topics:r}}decodeEventLog(e,t,r){if("string"==typeof e){let t=this.getEvent(e);d(t,"unknown event","eventFragment",e),e=t}if(null!=r&&!e.anonymous){let t=e.topicHash;d(v(r[0],32)&&r[0].toLowerCase()===t,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}let n=[],i=[],s=[];e.inputs.forEach((e,t)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(n.push(tj.from({type:"bytes32",name:e.name})),s.push(!0)):(n.push(e),s.push(!1)):(i.push(e),s.push(!1))});let a=null!=r?this.#q.decode(n,x(r)):null,o=this.#q.decode(i,t,!0),l=[],u=[],c=0,h=0;return e.inputs.forEach((e,t)=>{let r=null;if(e.indexed){if(null==a)r=new rT(null);else if(s[t])r=new rT(a[h++]);else try{r=a[h++]}catch(e){r=e}}else try{r=o[c++]}catch(e){r=e}l.push(r),u.push(e.name||null)}),z.fromItems(l,u)}parseTransaction(e){let t=m(e.data,"tx.data"),r=_(null!=e.value?e.value:0,"tx.value"),n=this.getFunction(A(t.slice(0,4)));if(!n)return null;let i=this.#q.decode(n.inputs,t.slice(4));return new rO(n,n.selector,i,r)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let t=this.getEvent(e.topics[0]);return!t||t.anonymous?null:new rS(t,t.topicHash,this.decodeEventLog(t,e.data,e.topics))}parseError(e){let t=A(e),r=this.getError(k(t,0,4));if(!r)return null;let n=this.#q.decode(r.inputs,k(t,4));return new rC(r,r.selector,n)}static from(e){return e instanceof rR?e:new rR("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}}let rN=BigInt(0);function rF(e){return null==e?null:e}function rL(e){return null==e?null:e.toString()}class rM{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,t,r){s(this,{gasPrice:rF(e),maxFeePerGas:rF(t),maxPriorityFeePerGas:rF(r)})}toJSON(){let{gasPrice:e,maxFeePerGas:t,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:rL(e),maxFeePerGas:rL(t),maxPriorityFeePerGas:rL(r)}}}function rD(e){let t={};for(let r of(e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=A(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))r in e&&null!=e[r]&&(t[r]=_(e[r],`request.${r}`));for(let r of"type,nonce".split(/,/))r in e&&null!=e[r]&&(t[r]=F(e[r],`request.${r}`));return e.accessList&&(t.accessList=rd(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(e=>b(e)?A(e):Object.assign({},e))),t}class rU{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#Q;constructor(e,t){this.#Q=e.transactions.map(e=>"string"!=typeof e?new rG(e,t):e),s(this,{provider:t,hash:rF(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:rF(e.prevRandao),extraData:e.extraData,baseFeePerGas:rF(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#Q.map(e=>"string"==typeof e?e:e.hash)}get prefetchedTransactions(){let e=this.#Q.slice();return 0===e.length?[]:(c("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:t,extraData:r,gasLimit:n,gasUsed:i,hash:s,miner:a,prevRandao:o,nonce:l,number:u,parentHash:c,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,timestamp:p,transactions:g}=this;return{_type:"Block",baseFeePerGas:rL(e),difficulty:rL(t),extraData:r,gasLimit:rL(n),gasUsed:rL(i),blobGasUsed:rL(this.blobGasUsed),excessBlobGas:rL(this.excessBlobGas),hash:s,miner:a,prevRandao:o,nonce:l,number:u,parentHash:c,timestamp:p,parentBeaconBlockRoot:d,stateRoot:h,receiptsRoot:f,transactions:g}}[Symbol.iterator](){let e=0,t=this.transactions;return{next:()=>e<this.length?{value:t[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#Q.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let t;if("number"==typeof e)t=this.#Q[e];else{let r=e.toLowerCase();for(let e of this.#Q){if("string"==typeof e){if(e!==r)continue;t=e;break}if(e.hash!==r){t=e;break}}}if(null==t)throw Error("no such tx");return"string"==typeof t?await this.provider.getTransaction(t):t}getPrefetchedTransaction(e){let t=this.prefetchedTransactions;if("number"==typeof e)return t[e];for(let r of(e=e.toLowerCase(),t))if(r.hash===e)return r;d(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}}class rj{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,t){this.provider=t;let r=Object.freeze(e.topics.slice());s(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:a,transactionHash:o,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:t,blockNumber:r,data:n,index:i,removed:s,topics:a,transactionHash:o,transactionIndex:l}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return c(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return c(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:this.transactionHash,blockHash:this.blockHash,blockNumber:this.blockNumber,address:this.address,data:this.data,topics:Object.freeze(this.topics.slice()),index:this.index}}}}class rH{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#Z;constructor(e,t){this.#Z=Object.freeze(e.logs.map(e=>new rj(e,t)));let r=rN;null!=e.effectiveGasPrice?r=e.effectiveGasPrice:null!=e.gasPrice&&(r=e.gasPrice),s(this,{provider:t,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#Z}toJSON(){let{to:e,from:t,contractAddress:r,hash:n,index:i,blockHash:s,blockNumber:a,logsBloom:o,logs:l,status:u,root:c}=this;return{_type:"TransactionReceipt",blockHash:s,blockNumber:a,contractAddress:r,cumulativeGasUsed:rL(this.cumulativeGasUsed),from:t,gasPrice:rL(this.gasPrice),blobGasUsed:rL(this.blobGasUsed),blobGasPrice:rL(this.blobGasPrice),gasUsed:rL(this.gasUsed),hash:n,index:i,logs:l,logsBloom:o,root:c,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return rq(this)}reorderedEvent(e){return c(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),r$(this,e)}}class rG{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#J;constructor(e,t){this.provider=t,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#J=-1}toJSON(){let{blockNumber:e,blockHash:t,index:r,hash:n,type:i,to:s,from:a,nonce:o,data:l,signature:u,accessList:c,blobVersionedHashes:d}=this;return{_type:"TransactionResponse",accessList:c,blockNumber:e,blockHash:t,blobVersionedHashes:d,chainId:rL(this.chainId),data:l,from:a,gasLimit:rL(this.gasLimit),gasPrice:rL(this.gasPrice),hash:n,maxFeePerGas:rL(this.maxFeePerGas),maxPriorityFeePerGas:rL(this.maxPriorityFeePerGas),maxFeePerBlobGas:rL(this.maxFeePerBlobGas),nonce:o,signature:u,to:s,index:r,type:i,value:rL(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let t=await this.getTransaction();t&&(e=t.blockNumber)}if(null==e)return null;let t=this.provider.getBlock(e);if(null==t)throw Error("TODO");return t}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:t}=await i({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:t-e.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,t){let r=null==e?1:e,n=null==t?0:t,s=this.#J,a=-1,l=-1===s,d=async()=>{if(l)return null;let{blockNumber:e,nonce:t}=await i({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(t<this.nonce){s=e;return}if(l)return null;let n=await this.getTransaction();if(!n||null==n.blockNumber)for(-1===a&&(a=s-3)<this.#J&&(a=this.#J);a<=e;){if(l)return null;let t=await this.provider.getBlock(a,!0);if(null==t)break;for(let e of t)if(e===this.hash)return;for(let n=0;n<t.length;n++){let i=await t.getTransaction(n);if(i.from===this.from&&i.nonce===this.nonce){if(l)return null;let t=await this.provider.getTransactionReceipt(i.hash);if(null==t||e-t.blockNumber+1<r)return;let n="replaced";i.data===this.data&&i.to===this.to&&i.value===this.value?n="repriced":"0x"===i.data&&i.from===i.to&&i.value===rN&&(n="cancelled"),c(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===n||"cancelled"===n,reason:n,replacement:i.replaceableTransaction(s),hash:i.hash,receipt:t})}}a++}},h=e=>{if(null==e||0!==e.status)return e;c(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},f=await this.provider.getTransactionReceipt(this.hash);if(0===r)return h(f);if(f){if(await f.confirmations()>=r)return h(f)}else if(await d(),0===r)return null;let p=new Promise((e,t)=>{let i=[],a=()=>{i.forEach(e=>e())};if(i.push(()=>{l=!0}),n>0){let e=setTimeout(()=>{a(),t(u("wait for transaction timeout","TIMEOUT"))},n);i.push(()=>{clearTimeout(e)})}let c=async n=>{if(await n.confirmations()>=r){a();try{e(h(n))}catch(e){t(e)}}};if(i.push(()=>{this.provider.off(this.hash,c)}),this.provider.on(this.hash,c),s>=0){let e=async()=>{try{await d()}catch(e){if(o(e,"TRANSACTION_REPLACED")){a(),t(e);return}}l||this.provider.once("block",e)};i.push(()=>{this.provider.off("block",e)}),this.provider.once("block",e)}});return await p}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),rq(this)}reorderedEvent(e){return c(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),c(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),r$(this,e)}replaceableTransaction(e){d(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let t=new rG(this,this.provider);return t.#J=e,t}}function r$(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function rq(e){return{orphan:"drop-transaction",tx:e}}class rz{filter;emitter;#K;constructor(e,t,r){this.#K=t,s(this,{emitter:e,filter:r})}async removeListener(){null!=this.#K&&await this.emitter.off(this.filter,this.#K)}}class rV extends rj{interface;fragment;args;constructor(e,t,r){super(e,e.provider),s(this,{args:t.decodeEventLog(r,e.data,e.topics),fragment:r,interface:t})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class rQ extends rj{error;constructor(e,t){super(e,e.provider),s(this,{error:t})}}class rZ extends rH{#W;constructor(e,t,r){super(r,t),this.#W=e}get logs(){return super.logs.map(e=>{let t=e.topics.length?this.#W.getEvent(e.topics[0]):null;if(t)try{return new rV(e,this.#W,t)}catch(t){return new rQ(e,t)}return e})}}class rJ extends rG{#W;constructor(e,t,r){super(r,t),this.#W=e}async wait(e,t){let r=await super.wait(e,t);return null==r?null:new rZ(this.#W,this.provider,r)}}class rK extends rz{log;constructor(e,t,r,n){super(e,t,r),s(this,{log:n})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class rW extends rK{constructor(e,t,r,n,i){super(e,t,r,new rV(i,e.interface,n)),s(this,{args:e.interface.decodeEventLog(n,this.log.data,this.log.topics),fragment:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}let rY=BigInt(0);function rX(e){return e&&"function"==typeof e.call}function r0(e){return e&&"function"==typeof e.estimateGas}function r1(e){return e&&"function"==typeof e.resolveName}function r2(e){return e&&"function"==typeof e.sendTransaction}function r3(e){if(null!=e){if(r1(e))return e;if(e.provider)return e.provider}}class r4{#Y;fragment;constructor(e,t,r){if(s(this,{fragment:t}),t.inputs.length<r.length)throw Error("too many arguments");let n=r8(e.runner,"resolveName"),i=r1(n)?n:null;this.#Y=async function(){let n=await Promise.all(t.inputs.map((e,t)=>null==r[t]?null:e.walkAsync(r[t],(e,t)=>"address"===e?Array.isArray(t)?Promise.all(t.map(e=>t4(e,i))):t4(t,i):t)));return e.interface.encodeFilterTopics(t,n)}()}getTopicFilter(){return this.#Y}}function r8(e,t){return null==e?null:"function"==typeof e[t]?e:e.provider&&"function"==typeof e.provider[t]?e.provider:null}function r6(e){return null==e?null:e.provider||null}async function r5(e,t){let r=eV.dereference(e,"overrides");d("object"==typeof r,"invalid overrides parameter","overrides",e);let n=rD(r);return d(null==n.to||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),d(null==n.data||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function r9(e,t,r){let n=r8(e,"resolveName"),i=r1(n)?n:null;return await Promise.all(t.map((e,t)=>e.walkAsync(r[t],(e,t)=>(t=eV.dereference(t,e),"address"===e)?t4(t,i):t)))}let r7=Symbol.for("_ethersInternal_contract"),ne=new WeakMap;function nt(e){return ne.get(e[r7])}async function nr(e,t){let r;let n=null;if(Array.isArray(t)){let n=function(t){if(v(t,32))return t;let r=e.interface.getEvent(t);return d(r,"unknown fragment","name",t),r.topicHash};r=t.map(e=>null==e?null:Array.isArray(e)?e.map(n):n(e))}else"*"===t?r=[null]:"string"==typeof t?v(t,32)?r=[t]:(d(n=e.interface.getEvent(t),"unknown fragment","event",t),r=[n.topicHash]):t&&"object"==typeof t&&"getTopicFilter"in t&&"function"==typeof t.getTopicFilter&&t.fragment?r=await t.getTopicFilter():"fragment"in t?r=[(n=t.fragment).topicHash]:d(!1,"unknown event name","event",t);return{fragment:n,tag:(r=r.map(e=>{if(null==e)return null;if(Array.isArray(e)){let t=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===t.length?t[0]:(t.sort(),t)}return e.toLowerCase()})).map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&"),topics:r}}async function nn(e,t){let{subs:r}=nt(e);return r.get((await nr(e,t)).tag)||null}async function ni(e,t,r){let n=r6(e.runner);c(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});let{fragment:i,tag:s,topics:a}=await nr(e,r),{addr:o,subs:l}=nt(e),u=l.get(s);if(!u){let t={address:o||e,topics:a},c=t=>{let n=i;if(null==n)try{n=e.interface.getEvent(t.topics[0])}catch(e){}if(n){let s=n,a=i?e.interface.decodeEventLog(i,t.data,t.topics):[];no(e,r,a,n=>new rW(e,n,r,s,t))}else no(e,r,[],n=>new rK(e,n,r,t))},d=[];u={tag:s,listeners:[],start:()=>{d.length||d.push(n.on(t,c))},stop:async()=>{if(0==d.length)return;let e=d;d=[],await Promise.all(e),n.off(t,c)}},l.set(s,u)}return u}let ns=Promise.resolve();async function na(e,t,r,n){await ns;let i=await nn(e,t);if(!i)return!1;let s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:t,once:i})=>{let s=Array.from(r);n&&s.push(n(i?null:t));try{t.call(e,...s)}catch(e){}return!i}),0===i.listeners.length&&(i.stop(),nt(e).subs.delete(i.tag)),s>0}async function no(e,t,r,n){try{await ns}catch(e){}let i=na(e,t,r,n);return ns=i,await i}let nl=["then"];class nu{target;interface;runner;filters;[r7];fallback;constructor(e,t,r,n){var i;let a;d("string"==typeof e||t2(e),"invalid value for Contract target","target",e),null==r&&(r=null);let h=rR.from(t);s(this,{target:e,runner:r,interface:h}),Object.defineProperty(this,r7,{value:{}});let f=null,p=null;if(n){let e=r6(r);p=new rJ(this.interface,e,n)}let g=new Map;if("string"==typeof e){if(v(e))f=e,a=Promise.resolve(e);else{let t=r8(r,"resolveName");if(!r1(t))throw u("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=t.resolveName(e).then(t=>{if(null==t)throw u("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return nt(this).addr=t,t})}}else a=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return nt(this).addr=e,e});return i={addrPromise:a,addr:f,deployTx:p,subs:g},ne.set(this[r7],i),s(this,{filters:new Proxy({},{get:(e,t,r)=>{if("symbol"==typeof t||nl.indexOf(t)>=0)return Reflect.get(e,t,r);try{return this.getEvent(t)}catch(e){if(!o(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>nl.indexOf(t)>=0?Reflect.has(e,t):Reflect.has(e,t)||this.interface.hasEvent(String(t))})}),s(this,{fallback:h.receive||h.fallback?function(e){let t=async function(t){let r=await r5(t,["data"]);r.to=await e.getAddress(),r.from&&(r.from=await t4(r.from,r3(e.runner)));let n=e.interface,i=_(r.value||rY,"overrides.value")===rY,s="0x"===(r.data||"0x");return!n.fallback||n.fallback.payable||!n.receive||s||i||d(!1,"cannot send data to receive or send value to non-payable fallback","overrides",t),d(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),d(n.receive||n.fallback&&n.fallback.payable||i,"cannot send value to non-payable fallback","overrides.value",r.value),d(n.fallback||s,"cannot send data to receive-only contract","overrides.data",r.data),r},r=async function(r){let n=r8(e.runner,"call");c(rX(n),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let i=await t(r);try{return await n.call(i)}catch(t){if(l(t)&&t.data)throw e.interface.makeError(t.data,i);throw t}},n=async function(r){let n=e.runner;c(r2(n),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await n.sendTransaction(await t(r)),s=r6(e.runner);return new rJ(e.interface,s,i)},i=async function(r){let n=r8(e.runner,"estimateGas");return c(r0(n),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await n.estimateGas(await t(r))},a=async e=>await n(e);return s(a,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:r}),a}(this):null}),new Proxy(this,{get:(e,t,r)=>{if("symbol"==typeof t||t in e||nl.indexOf(t)>=0)return Reflect.get(e,t,r);try{return e.getFunction(t)}catch(e){if(!o(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,t)=>"symbol"==typeof t||t in e||nl.indexOf(t)>=0?Reflect.has(e,t):e.interface.hasFunction(t)})}connect(e){return new nu(this.target,this.interface,e)}attach(e){return new nu(e,this.interface,this.runner)}async getAddress(){return await nt(this).addrPromise}async getDeployedCode(){let e=r6(this.runner);c(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let t=await e.getCode(await this.getAddress());return"0x"===t?null:t}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;if(null!=await this.getDeployedCode())return this;let t=r6(this.runner);return c(null!=t,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,r)=>{let n=async()=>{try{let r=await this.getDeployedCode();if(null!=r)return e(this);t.once("block",n)}catch(e){r(e)}};n()})}deploymentTransaction(){return nt(this).deployTx}getFunction(e){return"string"!=typeof e&&(e=e.format()),function(e,t){let r=function(...r){let n=e.interface.getFunction(t,r);return c(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=async function(...t){let n=r(...t),s={};if(n.inputs.length+1===t.length&&(s=await r5(t.pop())).from&&(s.from=await t4(s.from,r3(e.runner))),n.inputs.length!==t.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let a=await r9(e.runner,n.inputs,t);return Object.assign({},s,await i({to:e.getAddress(),data:e.interface.encodeFunctionData(n,a)}))},a=async function(...e){let t=await d(...e);return 1===t.length?t[0]:t},o=async function(...t){let r=e.runner;c(r2(r),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let i=await r.sendTransaction(await n(...t)),s=r6(e.runner);return new rJ(e.interface,s,i)},u=async function(...t){let r=r8(e.runner,"estimateGas");return c(r0(r),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await r.estimateGas(await n(...t))},d=async function(...t){let i=r8(e.runner,"call");c(rX(i),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let s=await n(...t),a="0x";try{a=await i.call(s)}catch(t){if(l(t)&&t.data)throw e.interface.makeError(t.data,s);throw t}let o=r(...t);return e.interface.decodeFunctionResult(o,a)},h=async(...e)=>r(...e).constant?await a(...e):await o(...e);return s(h,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:u,populateTransaction:n,send:o,staticCall:a,staticCallResult:d}),Object.defineProperty(h,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getFunction(t);return c(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),h}(this,e)}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,t){let r=function(...r){let n=e.interface.getEvent(t,r);return c(n,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:r}}),n},n=function(...t){return new r4(e,r(...t),t)};return s(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{let r=e.interface.getEvent(t);return c(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),r}}),n}(this,e)}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,t,r){null==t&&(t=0),null==r&&(r="latest");let{addr:n,addrPromise:i}=nt(this),s=n||await i,{fragment:a,topics:o}=await nr(this,e),l={address:s,topics:o,fromBlock:t,toBlock:r},u=r6(this.runner);return c(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(e=>{let t=a;if(null==t)try{t=this.interface.getEvent(e.topics[0])}catch(e){}if(t)try{return new rV(e,this.interface,t)}catch(t){return new rQ(e,t)}return new rj(e,u)})}async on(e,t){let r=await ni(this,"on",e);return r.listeners.push({listener:t,once:!1}),r.start(),this}async once(e,t){let r=await ni(this,"once",e);return r.listeners.push({listener:t,once:!0}),r.start(),this}async emit(e,...t){return await no(this,e,t,null)}async listenerCount(e){if(e){let t=await nn(this,e);return t?t.listeners.length:0}let{subs:t}=nt(this),r=0;for(let{listeners:e}of t.values())r+=e.length;return r}async listeners(e){if(e){let t=await nn(this,e);return t?t.listeners.map(({listener:e})=>e):[]}let{subs:t}=nt(this),r=[];for(let{listeners:e}of t.values())r=r.concat(e.map(({listener:e})=>e));return r}async off(e,t){let r=await nn(this,e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return(null==t||0===r.listeners.length)&&(r.stop(),nt(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){let t=await nn(this,e);if(!t)return this;t.stop(),nt(this).subs.delete(t.tag)}else{let{subs:e}=nt(this);for(let{tag:t,stop:r}of e.values())r(),e.delete(t)}return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return await this.off(e,t)}static buildClass(e){class t extends nu{constructor(t,r=null){super(t,e,r)}}return t}static from(e,t,r){return null==r&&(r=null),new this(e,t,r)}}function nc(){return nu}class nd extends nc(){}var nh=r(4879);let nf=new Uint8Array(32);function np(e){return d(0!==e.length,"invalid ENS name; empty component","comp",e),e}function ng(e){let t=te(function(e){try{if(0===e.length)throw Error("empty label");return(0,nh.Q6)(e)}catch(t){d(!1,`invalid ENS name (${t.message})`,"name",e)}}(e)),r=[];if(0===e.length)return r;let n=0;for(let e=0;e<t.length;e++)46===t[e]&&(r.push(np(t.slice(n,e))),n=e+1);return d(n<t.length,"invalid ENS name; empty component","name",e),r.push(np(t.slice(n))),r}function nm(e){d("string"==typeof e,"invalid ENS name; not a string","name",e),d(e.length,"invalid ENS name (empty label)","name",e);let t=nf,r=ng(e);for(;r.length;)t=eF(x([t,eF(r.pop())]));return A(t)}nf.fill(0);class ny extends ep{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=ed(this.buffer)}update(e){Y(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=ef(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=ed(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Y(this),X(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,u=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+u,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=ed(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let nv=(e,t,r)=>e&t^~e&r,nb=(e,t,r)=>e&t^e&r^t&r,nw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),nA=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),nx=new Uint32Array(64);class nE extends ny{constructor(){super(64,32,8,!1),this.A=0|nA[0],this.B=0|nA[1],this.C=0|nA[2],this.D=0|nA[3],this.E=0|nA[4],this.F=0|nA[5],this.G=0|nA[6],this.H=0|nA[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)nx[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=nx[e-15],r=nx[e-2],n=eh(t,7)^eh(t,18)^t>>>3,i=eh(r,17)^eh(r,19)^r>>>10;nx[e]=i+nx[e-7]+n+nx[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(eh(a,6)^eh(a,11)^eh(a,25))+nv(a,o,l)+nw[e]+nx[e]|0,c=(eh(r,2)^eh(r,13)^eh(r,22))+nb(r,n,i)|0;u=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,s,a,o,l,u)}roundClean(){nx.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let nk=eg(()=>new nE),[nP,nI]=eo.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),nS=new Uint32Array(80),nO=new Uint32Array(80);class nC extends ny{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:u,Fh:c,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,a,o,l,u,c,d,h,f,p,g]}set(e,t,r,n,i,s,a,o,l,u,c,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|u,this.Fh=0|c,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)nS[r]=e.getUint32(t),nO[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|nS[e-15],r=0|nO[e-15],n=eo.rotrSH(t,r,1)^eo.rotrSH(t,r,8)^eo.shrSH(t,r,7),i=eo.rotrSL(t,r,1)^eo.rotrSL(t,r,8)^eo.shrSL(t,r,7),s=0|nS[e-2],a=0|nO[e-2],o=eo.rotrSH(s,a,19)^eo.rotrBH(s,a,61)^eo.shrSH(s,a,6),l=eo.rotrSL(s,a,19)^eo.rotrBL(s,a,61)^eo.shrSL(s,a,6),u=eo.add4L(i,l,nO[e-7],nO[e-16]),c=eo.add4H(u,n,o,nS[e-7],nS[e-16]);nS[e]=0|c,nO[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:u,Eh:c,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=eo.rotrSH(c,d,14)^eo.rotrSH(c,d,18)^eo.rotrBH(c,d,41),v=eo.rotrSL(c,d,14)^eo.rotrSL(c,d,18)^eo.rotrBL(c,d,41),b=c&h^~c&p,w=d&f^~d&g,A=eo.add5L(y,v,w,nI[e],nO[e]),x=eo.add5H(A,m,t,b,nP[e],nS[e]),E=0|A,k=eo.rotrSH(r,n,28)^eo.rotrBH(r,n,34)^eo.rotrBH(r,n,39),P=eo.rotrSL(r,n,28)^eo.rotrBL(r,n,34)^eo.rotrBL(r,n,39),I=r&i^r&a^i&a,S=n&s^n&o^s&o;m=0|p,y=0|g,p=0|h,g=0|f,h=0|c,f=0|d,({h:c,l:d}=eo.add(0|l,0|u,0|x,0|E)),l=0|a,u=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let O=eo.add3L(E,P,S);r=eo.add3H(O,x,k,I),n=0|O}({h:r,l:n}=eo.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=eo.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=eo.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:u}=eo.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:c,l:d}=eo.add(0|this.Eh,0|this.El,0|c,0|d)),({h:h,l:f}=eo.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=eo.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=eo.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,a,o,l,u,c,d,h,f,p,g,m,y)}roundClean(){nS.fill(0),nO.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let nT=eg(()=>new nC),n_=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();function nB(e){switch(e){case"sha256":return nk.create();case"sha512":return nT.create()}d(!1,"invalid hashing algorithm name","algorithm",e)}n_.crypto||n_.msCrypto;let nR=function(e){return nB("sha256").update(e).digest()},nN=function(e){return nB("sha512").update(e).digest()},nF=nR,nL=nN,nM=!1,nD=!1;function nU(e){let t=m(e,"data");return A(nF(t))}function nj(e){let t=m(e,"data");return A(nL(t))}nU._=nR,nU.lock=function(){nM=!0},nU.register=function(e){if(nM)throw Error("sha256 is locked");nF=e},Object.freeze(nU),nj._=nN,nj.lock=function(){nD=!0},nj.register=function(e){if(nD)throw Error("sha512 is locked");nL=e},Object.freeze(nU);let nH="0x0000000000000000000000000000000000000000000000000000000000000000",nG=BigInt(0),n$=BigInt(1),nq=BigInt(2),nz=BigInt(27),nV=BigInt(28),nQ=BigInt(35),nZ={};class nJ{#X;#ee;#et;#er;get r(){return this.#X}set r(e){d(32===E(e),"invalid r","value",e),this.#X=A(e)}get s(){return this.#ee}set s(e){d(32===E(e),"invalid s","value",e);let t=A(e);d(8>parseInt(t.substring(0,3)),"non-canonical s","value",t),this.#ee=t}get v(){return this.#et}set v(e){let t=F(e,"value");d(27===t||28===t,"invalid v","v",e),this.#et=t}get networkV(){return this.#er}get legacyChainId(){let e=this.networkV;return null==e?null:nJ.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){let e=m(this.s);return this.yParity&&(e[0]|=128),A(e)}get compactSerialized(){return x([this.r,this.yParityAndS])}get serialized(){return x([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,t,r,n){p(e,nZ,"Signature"),this.#X=t,this.#ee=r,this.#et=n,this.#er=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new nJ(nZ,this.r,this.s,this.v);return this.networkV&&(e.#er=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let t=_(e,"v");return t==nz||t==nV?nG:(d(t>=nQ,"invalid EIP-155 v","v",e),(t-nQ)/nq)}static getChainIdV(e,t){return _(e)*nq+BigInt(35+t-27)}static getNormalizedV(e){let t=_(e);return t===nG||t===nz?27:t===n$||t===nV?28:(d(t>=nQ,"invalid v","v",e),t&n$?27:28)}static from(e){function t(t,r){d(t,r,"signature",e)}if(null==e)return new nJ(nZ,nH,nH,27);if("string"==typeof e){let r=m(e,"signature");if(64===r.length){let e=A(r.slice(0,32)),t=r.slice(32,64),n=128&t[0]?28:27;return t[0]&=127,new nJ(nZ,e,A(t),n)}if(65===r.length){let e=A(r.slice(0,32)),n=r.slice(32,64);t((128&n[0])==0,"non-canonical s");let i=nJ.getNormalizedV(r[64]);return new nJ(nZ,e,A(n),i)}t(!1,"invalid raw signature length")}if(e instanceof nJ)return e.clone();let r=e.r;t(null!=r,"missing r");let n=I(M(r),32),i=function(e,r){if(null!=e)return I(M(e),32);if(null!=r){t(v(r,32),"invalid yParityAndS");let e=m(r);return e[0]&=127,A(e)}t(!1,"missing s")}(e.s,e.yParityAndS);t((128&m(i)[0])==0,"non-canonical s");let{networkV:s,v:a}=function(e,r,n){if(null!=e){let t=_(e);return{networkV:t>=nQ?t:void 0,v:nJ.getNormalizedV(t)}}if(null!=r)return t(v(r,32),"invalid yParityAndS"),{v:128&m(r)[0]?28:27};if(null!=n){switch(F(n,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}t(!1,"invalid yParity")}t(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),o=new nJ(nZ,n,i,a);return s&&(o.#er=s),t(null==e.yParity||F(e.yParity,"sig.yParity")===o.yParity,"yParity mismatch"),t(null==e.yParityAndS||e.yParityAndS===o.yParityAndS,"yParityAndS mismatch"),o}}BigInt(0);let nK=BigInt(1),nW=BigInt(2),nY=e=>e instanceof Uint8Array,nX=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function n0(e){if(!nY(e))throw Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=nX[e[r]];return t}function n1(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}function n2(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let r=new Uint8Array(t/2);for(let t=0;t<r.length;t++){let n=2*t,i=Number.parseInt(e.slice(n,n+2),16);if(Number.isNaN(i)||i<0)throw Error("Invalid byte sequence");r[t]=i}return r}function n3(e){return n1(n0(e))}function n4(e){if(!nY(e))throw Error("Uint8Array expected");return n1(n0(Uint8Array.from(e).reverse()))}function n8(e,t){return n2(e.toString(16).padStart(2*t,"0"))}function n6(e,t){return n8(e,t).reverse()}function n5(e,t,r){let n;if("string"==typeof t)try{n=n2(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(nY(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function n9(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!nY(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}let n7=e=>(nW<<BigInt(e-1))-nK,ie=e=>new Uint8Array(e),it=e=>Uint8Array.from(e);function ir(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=ie(e),i=ie(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=ie())=>{i=o(it([0]),e),n=o(),0!==e.length&&(i=o(it([1]),e),n=o())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return n9(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(u()));)l();return a(),r}}let ii={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||e instanceof Uint8Array,isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function is(e,t,r={}){let n=(t,r,n)=>{let i=ii[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let ia=BigInt(0),io=BigInt(1),il=BigInt(2),iu=BigInt(3),ic=BigInt(4),id=BigInt(5),ih=BigInt(8);function ip(e,t){let r=e%t;return r>=ia?r:t+r}function ig(e,t,r){let n=e;for(;t-- >ia;)n*=n,n%=r;return n}function im(e,t){if(e===ia||t<=ia)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ip(e,t),n=t,i=ia,s=io,a=io,o=ia;for(;r!==ia;){let e=n/r,t=n%r,l=i-a*e,u=s-o*e;n=r,r=t,i=a,s=o,a=l,o=u}if(n!==io)throw Error("invert: does not exist");return ip(i,t)}BigInt(9),BigInt(16);let iy=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function iv(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function ib(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function iw(e){let t=ib(e);return t+Math.ceil(t/2)}class iA extends ep{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,function(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");K(e.outputLen),K(e.blockLen)}(e);let r=ef(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return Y(this),this.iHash.update(e),this}digestInto(e){Y(this),W(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ix=(e,t,r)=>new iA(e,t).update(r).digest();ix.create=(e,t)=>new iA(e,t);let iE=BigInt(0),ik=BigInt(1);function iP(e){return is(e.Fp,iy.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),is(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...iv(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:iI,hexToBytes:iS}=n,iO={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=iO;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:iI(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=iO,r="string"==typeof e?iS(e):e;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=iO._parseInt(r.subarray(2)),{d:a,l:o}=iO._parseInt(s);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,a=i.length/2,o=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${o}${n}`}},iC=BigInt(0),iT=BigInt(1),i_=(BigInt(2),BigInt(3));BigInt(4);let iB=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),iR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iN=BigInt(1),iF=BigInt(2),iL=(e,t)=>(e+t/iF)/t,iM=function(e,t,r=!1,n={}){if(e<=ia)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=iv(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(e){if(e%ic===iu){let t=(e+io)/ic;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%ih===id){let t=(e-id)/ih;return function(e,r){let n=e.mul(r,il),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,il),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n;let i=(e-io)/il;for(t=e-io,r=0;t%il===ia;t/=il,r++);for(n=il;n<e&&function(e,t,r){if(r<=ia||t<ia)throw Error("Expected power/modulo > 0");if(r===io)return ia;let n=io;for(;t>ia;)t&io&&(n=n*e%r),e=e*e%r,t>>=io;return n}(n,i,e)!==e-io;n++);if(1===r){let t=(e+io)/ic;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+io)/il;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(a,s),c=e.pow(a,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,io<<BigInt(o-t-1));l=e.sqr(r),u=e.mul(u,r),c=e.mul(c,l),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:n7(i),ZERO:ia,ONE:io,create:t=>ip(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return ia<=t&&t<e},is0:e=>e===ia,isOdd:e=>(e&io)===io,neg:t=>ip(-t,e),eql:(e,t)=>e===t,sqr:t=>ip(t*t,e),add:(t,r)=>ip(t+r,e),sub:(t,r)=>ip(t-r,e),mul:(t,r)=>ip(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<ia)throw Error("Expected power > 0");if(r===ia)return e.ONE;if(r===io)return t;let n=e.ONE,i=t;for(;r>ia;)r&io&&(n=e.mul(n,i)),i=e.sqr(i),r>>=io;return n})(o,e,t),div:(t,r)=>ip(t*im(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>im(t,e),sqrt:n.sqrt||(e=>a(o,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?n6(e,s):n8(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?n4(e):n3(e)}});return Object.freeze(o)}(iB,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%iB,u=l*l*e%iB,c=ig(u,t,iB)*u%iB,d=ig(c,t,iB)*u%iB,h=ig(d,iF,iB)*l%iB,f=ig(h,n,iB)*h%iB,p=ig(f,i,iB)*f%iB,g=ig(p,a,iB)*p%iB,m=ig(g,o,iB)*g%iB,y=ig(m,a,iB)*p%iB,v=ig(y,t,iB)*u%iB,b=ig(v,s,iB)*f%iB,w=ig(b,r,iB)*l%iB,A=ig(w,iF,iB);if(!iM.eql(iM.sqr(A),e))throw Error("Cannot find square root");return A}}),iD=function(e,t){let r=t=>(function(e){let t=function(e){let t=iP(e);return is(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function a(e){return ip(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:c}=function(e){let t=function(e){let t=iP(e);is(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return n9(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),a=r.mul(s,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&iC<e&&e<t.n}function o(e){if(!a(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=n0(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:n3(n5("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=ip(r,a)),o(r),r}let u=new Map;function c(e){if(!(e instanceof d))throw Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof d)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(i(n5("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),a=s(e);if(!r.eql(i,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:n,pz:i}=this,{px:s,py:a,pz:o}=e,l=r.eql(r.mul(t,o),r.mul(s,i)),u=r.eql(r.mul(n,o),r.mul(a,i));return l&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,i_),{px:s,py:a,pz:o}=this,l=r.ZERO,u=r.ZERO,c=r.ZERO,h=r.mul(s,s),f=r.mul(a,a),p=r.mul(o,o),g=r.mul(s,a);return g=r.add(g,g),c=r.mul(s,o),c=r.add(c,c),l=r.mul(e,c),u=r.mul(i,p),u=r.add(l,u),l=r.sub(f,u),u=r.add(f,u),u=r.mul(l,u),l=r.mul(g,l),c=r.mul(i,c),p=r.mul(e,p),g=r.sub(h,p),g=r.mul(e,g),g=r.add(g,c),c=r.add(h,h),h=r.add(c,h),h=r.add(h,p),h=r.mul(h,g),u=r.add(u,h),p=r.mul(a,o),p=r.add(p,p),h=r.mul(p,g),l=r.sub(l,h),c=r.mul(p,f),c=r.add(c,c),new d(l,u,c=r.add(c,c))}add(e){c(e);let{px:n,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,u=r.ZERO,h=r.ZERO,f=r.ZERO,p=t.a,g=r.mul(t.b,i_),m=r.mul(n,a),y=r.mul(i,o),v=r.mul(s,l),b=r.add(n,i),w=r.add(a,o);b=r.mul(b,w),w=r.add(m,y),b=r.sub(b,w),w=r.add(n,s);let A=r.add(a,l);return w=r.mul(w,A),A=r.add(m,v),w=r.sub(w,A),A=r.add(i,s),u=r.add(o,l),A=r.mul(A,u),u=r.add(y,v),A=r.sub(A,u),f=r.mul(p,w),u=r.mul(g,v),f=r.add(u,f),u=r.sub(y,f),f=r.add(y,f),h=r.mul(u,f),y=r.add(m,m),y=r.add(y,m),v=r.mul(p,v),w=r.mul(g,w),y=r.add(y,v),v=r.sub(m,v),v=r.mul(p,v),w=r.add(w,v),m=r.mul(y,w),h=r.add(h,m),m=r.mul(A,w),u=r.mul(b,u),u=r.sub(u,m),m=r.mul(b,y),f=r.mul(A,f),new d(u,h,f=r.add(f,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)})}multiplyUnsafe(e){let n=d.ZERO;if(e===iC)return n;if(o(e),e===iT)return this;let{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:l,k2:u}=i.splitScalar(e),c=n,h=n,p=this;for(;a>iC||u>iC;)a&iT&&(c=c.add(p)),u&iT&&(h=h.add(p)),p=p.double(),a>>=iT,u>>=iT;return s&&(c=c.negate()),l&&(h=h.negate()),h=new d(r.mul(h.px,i.beta),h.py,h.pz),c.add(h)}multiply(e){let n,i;o(e);let{endo:s}=t;if(s){let{k1neg:t,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:u,f:c}=this.wNAF(a),{p:h,f:p}=this.wNAF(l);u=f.constTimeNegate(t,u),h=f.constTimeNegate(o,h),h=new d(r.mul(h.px,s.beta),h.py,h.pz),n=u.add(h),i=c.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=d.BASE,i=(e,t)=>t!==iC&&t!==iT&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let a=r.mul(t,e),o=r.mul(n,e),l=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===iT)return!0;if(r)return r(d,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===iT?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(d,this,e)}toHex(e=!0){return n0(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let h=t.nBitLength,f=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>iE;)r&ik&&(n=n.add(i)),i=i.double(),r>>=ik;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){let{windows:a,windowSize:o}=n(t),l=e.ZERO,u=e.BASE,c=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){let t=e*o,n=Number(s&c);s>>=h,n>o&&(n-=d,s+=ik);let a=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?u=u.add(r(f,i[t])):l=l.add(r(p,i[a]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),a=n9;return n?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e=n3(a);if(!(iC<e&&e<r.ORDER))throw Error("Point is not on curve");let t=u(e),i=r.sqrt(t);return(1&n)==1!=((i&iT)===iT)&&(i=r.neg(i)),{x:e,y:i}}if(t===s&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),d=e=>n0(n8(e,t.nByteLength)),h=(e,t,r)=>n3(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(h(e=n5("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=iO.toSig(n5("DER",e));return new f(t,r)}assertValidity(){if(!c(this.r))throw Error("r must be 0 < r < CURVE.n");if(!c(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:l}=this,u=m(n5("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let c=2===l||3===l?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&l)==0?"02":"03",f=o.fromHex(h+d(c)),p=im(c,n),g=a(-u*p),y=a(s*p),v=o.BASE.multiplyAndAddUnsafe(f,g,y);if(!v)throw Error("point at infinify");return v.assertValidity(),v}hasHighS(){return this.s>n>>iT}normalizeS(){return this.hasHighS()?new f(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return n2(this.toDERHex())}toDERHex(){return iO.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return n2(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function p(e){let t=e instanceof Uint8Array,r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof o}let g=t.bits2int||function(e){let r=n3(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return a(g(e))},y=n7(t.nBitLength);function v(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(iC<=e&&e<y))throw Error(`bigint expected < 2^${t.nBitLength}`);return n8(e,t.nByteLength)}let b={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,s=b){let{seed:u,k2sig:d}=function(e,i,s=b){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:u,randomBytes:d}=t,{lowS:h,prehash:p,extraEntropy:y}=s;null==h&&(h=!0),e=n5("msgHash",e),p&&(e=n5("prehashed msgHash",u(e)));let w=m(e),A=l(i),x=[v(A),v(w)];if(null!=y){let e=!0===y?d(r.BYTES):y;x.push(n5("extraEntropy",e))}return{seed:n9(...x),k2sig:function(e){let t=g(e);if(!c(t))return;let r=im(t,n),i=o.BASE.multiply(t).toAffine(),s=a(i.x);if(s===iC)return;let l=a(r*a(w+s*A));if(l===iC)return;let u=(i.x===s?0:2)|Number(i.y&iT),d=l;if(h&&l>n>>iT)d=l>n>>iT?a(-l):l,u^=1;return new f(s,d,u)}}}(e,i,s);return ir(t.hash.outputLen,t.nByteLength,t.hmac)(u,d)},verify:function(e,r,i,s=w){let l,u;if(r=n5("msgHash",r),i=n5("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:c,prehash:d}=s;try{if("string"==typeof e||e instanceof Uint8Array)try{u=f.fromDER(e)}catch(t){if(!(t instanceof iO.Err))throw t;u=f.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;u=new f(t,r)}else throw Error("PARSE");l=o.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&u.hasHighS())return!1;d&&(r=t.hash(r));let{r:h,s:p}=u,g=m(r),y=im(p,n),v=a(g*y),b=a(h*y),A=o.BASE.multiplyAndAddUnsafe(l,v,b)?.toAffine();return!!A&&a(A.x)===h},ProjectivePoint:o,Signature:f,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=iw(t.n);return function(e,t,r=!1){let n=e.length,i=ib(t),s=iw(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=ip(r?n3(e):n4(e),t-io)+io;return r?n6(a,i):n8(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>ix(t,e,function(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;return e.forEach(e=>{if(!eu(e))throw Error("Uint8Array expected");t.set(e,r),r+=e.length}),t}(...r)),randomBytes:em});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:iM,n:iR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-iN*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=iL(t*e,iR),a=iL(-r*e,iR),o=ip(e-s*t-a*n,iR),l=ip(-s*r-a*t,iR),u=o>i,c=l>i;if(u&&(o=iR-o),c&&(l=iR-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:o,k2neg:c,k2:l}}}},nk);BigInt(0),iD.ProjectivePoint;class iU{#en;constructor(e){d(32===E(e),"invalid private key","privateKey","[REDACTED]"),this.#en=A(e)}get privateKey(){return this.#en}get publicKey(){return iU.computePublicKey(this.#en)}get compressedPublicKey(){return iU.computePublicKey(this.#en,!0)}sign(e){d(32===E(e),"invalid digest length","digest",e);let t=iD.sign(y(e),y(this.#en),{lowS:!0});return nJ.from({r:L(t.r,32),s:L(t.s,32),v:t.recovery?28:27})}computeSharedSecret(e){let t=iU.computePublicKey(e);return A(iD.getSharedSecret(y(this.#en),m(t),!1))}static computePublicKey(e,t){let r=m(e,"key");if(32===r.length)return A(iD.getPublicKey(r,!!t));if(64===r.length){let e=new Uint8Array(65);e[0]=4,e.set(r,1),r=e}return A(iD.ProjectivePoint.fromHex(r).toRawBytes(t))}static recoverPublicKey(e,t){d(32===E(e),"invalid digest length","digest",e);let r=nJ.from(t),n=iD.Signature.fromCompact(y(x([r.r,r.s]))),i=(n=n.addRecoveryBit(r.yParity)).recoverPublicKey(y(e));return d(null!=i,"invalid signautre for digest","signature",t),"0x"+i.toHex(!1)}static addPoints(e,t,r){let n=iD.ProjectivePoint.fromHex(iU.computePublicKey(e).substring(2)),i=iD.ProjectivePoint.fromHex(iU.computePublicKey(t).substring(2));return"0x"+n.add(i).toHex(!!r)}}function ij(e,t,r){let n=0;for(let i=0;i<r;i++)n=256*n+e[t+i];return n}function iH(e,t,r,n){let i=[];for(;r<t+1+n;){let s=iG(e,r);i.push(s.result),c((r+=s.consumed)<=t+1+n,"child data too short","BUFFER_OVERRUN",{buffer:e,length:n,offset:t})}return{consumed:1+n,result:i}}function iG(e,t){c(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let r=t=>{c(t<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:t})};if(e[t]>=248){let n=e[t]-247;r(t+1+n);let i=ij(e,t+1,n);return r(t+1+n+i),iH(e,t,t+1+n,n+i)}if(e[t]>=192){let n=e[t]-192;return r(t+1+n),iH(e,t,t+1,n)}if(e[t]>=184){let n=e[t]-183;r(t+1+n);let i=ij(e,t+1,n);r(t+1+n+i);let s=A(e.slice(t+1+n,t+1+n+i));return{consumed:1+n+i,result:s}}if(e[t]>=128){let n=e[t]-128;r(t+1+n);let i=A(e.slice(t+1,t+1+n));return{consumed:1+n,result:i}}return{consumed:1,result:function(e){let t=e.toString(16);for(;t.length<2;)t="0"+t;return"0x"+t}(e[t])}}function i$(e){let t=m(e,"data"),r=iG(t,0);return d(r.consumed===t.length,"unexpected junk after rlp payload","data",e),r.result}function iq(e){let t=[];for(;e;)t.unshift(255&e),e>>=8;return t}let iz="0123456789abcdef";function iV(e){let t="0x";for(let r of function e(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(t){r=r.concat(e(t))}),r.length<=55)return r.unshift(192+r.length),r;let n=iq(r.length);return n.unshift(247+n.length),n.concat(r)}let r=Array.prototype.slice.call(m(t,"object"));if(1===r.length&&r[0]<=127)return r;if(r.length<=55)return r.unshift(128+r.length),r;let n=iq(r.length);return n.unshift(183+n.length),n.concat(r)}(e))t+=iz[r>>4]+iz[15&r];return t}let iQ=BigInt(0),iZ=BigInt(2),iJ=BigInt(27),iK=BigInt(28),iW=BigInt(35),iY=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function iX(e,t){let r=e.toString(16);for(;r.length<2;)r="0"+r;return"0x"+(r+=nU(t).substring(4))}function i0(e){return"0x"===e?null:eH(e)}function i1(e,t){try{return rd(e)}catch(r){d(!1,r.message,t,e)}}function i2(e,t){return"0x"===e?0:F(e,t)}function i3(e,t){if("0x"===e)return iQ;let r=_(e,t);return d(r<=iY,"value exceeds uint size",t,r),r}function i4(e,t){let r=_(e,"value"),n=M(r);return d(n.length<=32,"value too large",`tx.${t}`,r),n}function i8(e){return rd(e).map(e=>[e.address,e.storageKeys])}function i6(e,t){let r;try{if(r=i2(t[0],"yParity"),0!==r&&1!==r)throw Error("bad yParity")}catch(e){d(!1,"invalid yParity","yParity",t[0])}let n=I(t[1],32),i=I(t[2],32),s=nJ.from({r:n,s:i,yParity:r});e.signature=s}class i5{#ei;#es;#t;#ea;#eo;#el;#eu;#ec;#ed;#eh;#ef;#ep;#eg;#em;#ey;#ev;get type(){return this.#ei}set type(e){switch(e){case null:this.#ei=null;break;case 0:case"legacy":this.#ei=0;break;case 1:case"berlin":case"eip-2930":this.#ei=1;break;case 2:case"london":case"eip-1559":this.#ei=2;break;case 3:case"cancun":case"eip-4844":this.#ei=3;break;default:d(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=this.#es;return null==e&&3===this.type?rI:e}set to(e){this.#es=null==e?null:eH(e)}get nonce(){return this.#ea}set nonce(e){this.#ea=F(e,"value")}get gasLimit(){return this.#eo}set gasLimit(e){this.#eo=_(e)}get gasPrice(){let e=this.#el;return null==e&&(0===this.type||1===this.type)?iQ:e}set gasPrice(e){this.#el=null==e?null:_(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#eu;return null==e?2===this.type||3===this.type?iQ:null:e}set maxPriorityFeePerGas(e){this.#eu=null==e?null:_(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#ec;return null==e?2===this.type||3===this.type?iQ:null:e}set maxFeePerGas(e){this.#ec=null==e?null:_(e,"maxFeePerGas")}get data(){return this.#t}set data(e){this.#t=A(e)}get value(){return this.#ed}set value(e){this.#ed=_(e,"value")}get chainId(){return this.#eh}set chainId(e){this.#eh=_(e)}get signature(){return this.#ef||null}set signature(e){this.#ef=null==e?null:nJ.from(e)}get accessList(){let e=this.#ep||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#ep=null==e?null:rd(e)}get maxFeePerBlobGas(){let e=this.#eg;return null==e&&3===this.type?iQ:e}set maxFeePerBlobGas(e){this.#eg=null==e?null:_(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#em;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){d(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let t=0;t<e.length;t++)d(v(e[t],32),"invalid blobVersionedHash",`value[${t}]`,e[t])}this.#em=e}get blobs(){return null==this.#ev?null:this.#ev.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#ev=null;return}let t=[],r=[];for(let n=0;n<e.length;n++){let i=e[n];if(b(i)){c(this.#ey,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=m(i);if(d(e.length<=131072,"blob is too large",`blobs[${n}]`,i),131072!==e.length){let t=new Uint8Array(131072);t.set(e),e=t}let s=this.#ey.blobToKzgCommitment(e),a=A(this.#ey.computeBlobKzgProof(e,s));t.push({data:A(e),commitment:A(s),proof:a}),r.push(iX(1,s))}else{let e=A(i.commitment);t.push({data:A(i.data),commitment:e,proof:A(i.proof)}),r.push(iX(1,e))}}this.#ev=t,this.#em=r}get kzg(){return this.#ey}set kzg(e){this.#ey=e}constructor(){this.#ei=null,this.#es=null,this.#ea=0,this.#eo=iQ,this.#el=null,this.#eu=null,this.#ec=null,this.#t="0x",this.#ed=iQ,this.#eh=iQ,this.#ef=null,this.#ep=null,this.#eg=null,this.#em=null,this.#ev=null,this.#ey=null}get hash(){return null==this.signature?null:eF(this.#eb(!0,!1))}get unsignedHash(){return eF(this.unsignedSerialized)}get from(){var e,t,r;return null==this.signature?null:(e=this.unsignedHash,t=this.signature,eH(eF("0x"+("string"==typeof(r=iU.recoverPublicKey(e,t))?iU.computePublicKey(r,!1):r.publicKey).substring(4)).substring(26)))}get fromPublicKey(){return null==this.signature?null:iU.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#eb(e,t){c(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let r=e?this.signature:null;switch(this.inferType()){case 0:return function(e,t){let r=[i4(e.nonce,"nonce"),i4(e.gasPrice||0,"gasPrice"),i4(e.gasLimit,"gasLimit"),e.to||"0x",i4(e.value,"value"),e.data],n=iQ;if(e.chainId!=iQ)n=_(e.chainId,"tx.chainId"),d(!t||null==t.networkV||t.legacyChainId===n,"tx.chainId/sig.v mismatch","sig",t);else if(e.signature){let t=e.signature.legacyChainId;null!=t&&(n=t)}if(!t)return n!==iQ&&(r.push(M(n)),r.push("0x"),r.push("0x")),iV(r);let i=BigInt(27+t.yParity);return n!==iQ?i=nJ.getChainIdV(n,t.v):BigInt(t.v)!==i&&d(!1,"tx.chainId/sig.v mismatch","sig",t),r.push(M(i)),r.push(M(t.r)),r.push(M(t.s)),iV(r)}(this,r);case 1:return function(e,t){let r=[i4(e.chainId,"chainId"),i4(e.nonce,"nonce"),i4(e.gasPrice||0,"gasPrice"),i4(e.gasLimit,"gasLimit"),e.to||"0x",i4(e.value,"value"),e.data,i8(e.accessList||[])];return t&&(r.push(i4(t.yParity,"recoveryParam")),r.push(M(t.r)),r.push(M(t.s))),x(["0x01",iV(r)])}(this,r);case 2:return function(e,t){let r=[i4(e.chainId,"chainId"),i4(e.nonce,"nonce"),i4(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),i4(e.maxFeePerGas||0,"maxFeePerGas"),i4(e.gasLimit,"gasLimit"),e.to||"0x",i4(e.value,"value"),e.data,i8(e.accessList||[])];return t&&(r.push(i4(t.yParity,"yParity")),r.push(M(t.r)),r.push(M(t.s))),x(["0x02",iV(r)])}(this,r);case 3:return function(e,t,r){let n=[i4(e.chainId,"chainId"),i4(e.nonce,"nonce"),i4(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),i4(e.maxFeePerGas||0,"maxFeePerGas"),i4(e.gasLimit,"gasLimit"),e.to||rI,i4(e.value,"value"),e.data,i8(e.accessList||[]),i4(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,t){d(Array.isArray(e),`invalid ${t}`,"value",e);for(let t=0;t<e.length;t++)d(v(e[t],32),"invalid ${ param } hash",`value[${t}]`,e[t]);return e}(e.blobVersionedHashes||[],"blobVersionedHashes")];return t&&(n.push(i4(t.yParity,"yParity")),n.push(M(t.r)),n.push(M(t.s)),r)?x(["0x03",iV([n,r.map(e=>e.data),r.map(e=>e.commitment),r.map(e=>e.proof)])]):x(["0x03",iV(n)])}(this,r,t?this.blobs:null)}c(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#eb(!0,!0)}get unsignedSerialized(){return this.#eb(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,t=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,r=null!=this.accessList,n=null!=this.#eg||this.#em;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&c(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),c(!t||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),c(0!==this.type||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let i=[];return null!=this.type?i.push(this.type):t?i.push(2):e?(i.push(1),r||i.push(0)):r?(i.push(1),i.push(2)):(n&&this.to||(i.push(0),i.push(1),i.push(2)),i.push(3)),i.sort(),i}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return i5.from(this)}toJSON(){let e=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new i5;if("string"==typeof e){let t=m(e);if(t[0]>=127)return i5.from(function(e){let t=i$(e);d(Array.isArray(t)&&(9===t.length||6===t.length),"invalid field count for legacy transaction","data",e);let r={type:0,nonce:i2(t[0],"nonce"),gasPrice:i3(t[1],"gasPrice"),gasLimit:i3(t[2],"gasLimit"),to:i0(t[3]),value:i3(t[4],"value"),data:A(t[5]),chainId:iQ};if(6===t.length)return r;let n=i3(t[6],"v"),i=i3(t[7],"r"),s=i3(t[8],"s");if(i===iQ&&s===iQ)r.chainId=n;else{let e=(n-iW)/iZ;e<iQ&&(e=iQ),r.chainId=e,d(e!==iQ||n===iJ||n===iK,"non-canonical legacy v","v",t[6]),r.signature=nJ.from({r:I(t[7],32),s:I(t[8],32),v:n})}return r}(t));switch(t[0]){case 1:return i5.from(function(e){let t=i$(m(e).slice(1));d(Array.isArray(t)&&(8===t.length||11===t.length),"invalid field count for transaction type: 1","data",A(e));let r={type:1,chainId:i3(t[0],"chainId"),nonce:i2(t[1],"nonce"),gasPrice:i3(t[2],"gasPrice"),gasLimit:i3(t[3],"gasLimit"),to:i0(t[4]),value:i3(t[5],"value"),data:A(t[6]),accessList:i1(t[7],"accessList")};return 8===t.length||i6(r,t.slice(8)),r}(t));case 2:return i5.from(function(e){let t=i$(m(e).slice(1));d(Array.isArray(t)&&(9===t.length||12===t.length),"invalid field count for transaction type: 2","data",A(e));let r={type:2,chainId:i3(t[0],"chainId"),nonce:i2(t[1],"nonce"),maxPriorityFeePerGas:i3(t[2],"maxPriorityFeePerGas"),maxFeePerGas:i3(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:i3(t[4],"gasLimit"),to:i0(t[5]),value:i3(t[6],"value"),data:A(t[7]),accessList:i1(t[8],"accessList")};return 9===t.length||i6(r,t.slice(9)),r}(t));case 3:return i5.from(function(e){let t=i$(m(e).slice(1)),r="3",n=null;if(4===t.length&&Array.isArray(t[0])){r="3 (network format)";let e=t[1],i=t[2],s=t[3];d(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),d(Array.isArray(i),"invalid network format: commitments not an array","fields[2]",i),d(Array.isArray(s),"invalid network format: proofs not an array","fields[3]",s),d(e.length===i.length,"invalid network format: blobs/commitments length mismatch","fields",t),d(e.length===s.length,"invalid network format: blobs/proofs length mismatch","fields",t),n=[];for(let r=0;r<t[1].length;r++)n.push({data:e[r],commitment:i[r],proof:s[r]});t=t[0]}d(Array.isArray(t)&&(11===t.length||14===t.length),`invalid field count for transaction type: ${r}`,"data",A(e));let i={type:3,chainId:i3(t[0],"chainId"),nonce:i2(t[1],"nonce"),maxPriorityFeePerGas:i3(t[2],"maxPriorityFeePerGas"),maxFeePerGas:i3(t[3],"maxFeePerGas"),gasPrice:null,gasLimit:i3(t[4],"gasLimit"),to:i0(t[5]),value:i3(t[6],"value"),data:A(t[7]),accessList:i1(t[8],"accessList"),maxFeePerBlobGas:i3(t[9],"maxFeePerBlobGas"),blobVersionedHashes:t[10]};n&&(i.blobs=n),d(null!=i.to,`invalid address for transaction type: ${r}`,"data",e),d(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let t=0;t<i.blobVersionedHashes.length;t++)d(v(i.blobVersionedHashes[t],32),`invalid blobVersionedHash at index ${t}: must be length 32`,"data",e);return 11===t.length||i6(i,t.slice(11)),i}(t))}c(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let t=new i5;return null!=e.type&&(t.type=e.type),null!=e.to&&(t.to=e.to),null!=e.nonce&&(t.nonce=e.nonce),null!=e.gasLimit&&(t.gasLimit=e.gasLimit),null!=e.gasPrice&&(t.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(t.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(t.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(t.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(t.data=e.data),null!=e.value&&(t.value=e.value),null!=e.chainId&&(t.chainId=e.chainId),null!=e.signature&&(t.signature=nJ.from(e.signature)),null!=e.accessList&&(t.accessList=e.accessList),null!=e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(t.kzg=e.kzg),null!=e.blobs&&(t.blobs=e.blobs),null!=e.hash&&(d(t.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),d(t.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&(d(t.isSigned(),"unsigned transaction cannot define '.from'","tx",e),d(t.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),t}}let i9="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);let i7=BigInt(58);function se(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):d(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}class st{name;constructor(e){s(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,t){throw Error("unsupported coin")}async decodeAddress(e,t){throw Error("unsupported coin")}}let sr=RegExp("^(ipfs)://(.*)$","i"),sn=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),sr,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];class si{provider;address;name;#ew;#eA;constructor(e,t,r){s(this,{provider:e,address:t,name:r}),this.#ew=null,this.#eA=new nd(t,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#ew&&(this.#ew=(async()=>{try{return await this.#eA.supportsInterface("0x9061b923")}catch(e){if(o(e,"CALL_EXCEPTION"))return!1;throw this.#ew=null,e}})()),await this.#ew}async #ex(e,t){var r;t=(t||[]).slice();let n=this.#eA.interface;t.unshift(nm(this.name));let i=null;await this.supportsWildcard()&&(c(i=n.getFunction(e),"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),t=[(r=this.name,d(!0,"DNS encoded label cannot exceed 255","length",255),A(x(ng(r).map(e=>{d(e.length<=255,`label ${JSON.stringify(r)} exceeds 255 bytes`,"name",r);let t=new Uint8Array(e.length+1);return t.set(e,1),t[0]=t.length-1,t})))+"00"),n.encodeFunctionData(i,t)],e="resolve(bytes,bytes)"),t.push({enableCcipRead:!0});try{let r=await this.#eA[e](...t);if(i)return n.decodeFunctionResult(i,r)[0];return r}catch(e){if(!o(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#ex("addr(bytes32)");if(null==e||e===rI)return null;return e}catch(e){if(o(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let t=e+2147483648,r=await this.#ex("addr(bytes32,uint)",[t]);if(v(r,20))return eH(r)}let t=null;for(let r of this.provider.plugins)if(r instanceof st&&r.supportsCoinType(e)){t=r;break}if(null==t)return null;let r=await this.#ex("addr(bytes32,uint)",[e]);if(null==r||"0x"===r)return null;let n=await t.decodeAddress(e,r);if(null!=n)return n;c(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){let t=await this.#ex("text(bytes32,string)",[e]);return null==t||"0x"===t?null:t}async getContentHash(){let e=await this.#ex("contenthash(bytes32)");if(null==e||"0x"===e)return null;let t=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(t){let e="e3010170"===t[1]?"ipfs":"ipns",r=parseInt(t[4],16);if(t[5].length===2*r)return`${e}://${function(e){let t=m(e),r=N(t),n="";for(;r;)n=i9[Number(r%i7)]+n,r/=i7;for(let e=0;e<t.length&&!t[e];e++)n=i9[0]+n;return n}("0x"+t[2])}`}let r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&64===r[1].length)return`bzz://${r[1]}`;c(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let t=await this.getText("avatar");if(null==t)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:t});for(let r=0;r<sn.length;r++){let n=t.match(sn[r]);if(null==n)continue;let i=n[1].toLowerCase();switch(i){case"https":case"data":return e.push({type:"url",value:t}),{linkage:e,url:t};case"ipfs":{let r=se(t);return e.push({type:"ipfs",value:t}),e.push({type:"url",value:r}),{linkage:e,url:r}}case"erc721":case"erc1155":{let r="erc721"===i?"tokenURI(uint256)":"uri(uint256)";e.push({type:i,value:t});let s=await this.getAddress();if(null==s)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let a=(n[2]||"").split("/");if(2!==a.length)return e.push({type:`!${i}caip`,value:n[2]||""}),{url:null,linkage:e};let o=a[1],l=new nd(a[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===i){let t=await l.ownerOf(o);if(s!==t)return e.push({type:"!owner",value:t}),{url:null,linkage:e};e.push({type:"owner",value:t})}else if("erc1155"===i){let t=await l.balanceOf(s,o);if(!t)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:t.toString()})}let u=await l[r](o);if(null==u||"0x"===u)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:u}),"erc1155"===i&&(u=u.replace("{id}",L(o,32).substring(2)),e.push({type:"metadata-url-expanded",value:u})),u.match(/^ipfs:/i)&&(u=se(u)),e.push({type:"metadata-url",value:u});let c={},d=await new rE(u).send();d.assertOk();try{c=d.bodyJson}catch(t){try{e.push({type:"!metadata",value:d.bodyText})}catch(r){let t=d.body;t&&e.push({type:"!metadata",value:A(t)})}return{url:null,linkage:e}}if(!c)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(c)});let h=c.image;if("string"!=typeof h)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(h.match(/^(https:\/\/|data:)/i));else{let t=h.match(sr);if(null==t)return e.push({type:"!imageUrl-ipfs",value:h}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:h}),h=se(h)}return e.push({type:"url",value:h}),{linkage:e,url:h}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let t=await e.getNetwork(),r=t.getPlugin("org.ethers.plugins.network.Ens");return c(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:t}}),r.address}static async #eE(e,t){let r=await si.getEnsAddress(e);try{let n=new nd(r,["function resolver(bytes32) view returns (address)"],e),i=await n.resolver(nm(t),{enableCcipRead:!0});if(i===rI)return null;return i}catch(e){throw e}return null}static async fromName(e,t){let r=t;for(;;){if(""===r||"."===r||"eth"!==t&&"eth"===r)return null;let n=await si.#eE(e,r);if(null!=n){let i=new si(e,n,t);if(r!==t&&!await i.supportsWildcard())return null;return i}r=r.split(".").slice(1).join(".")}}}let ss=BigInt(0);function sa(e,t){return function(r){return null==r?t:e(r)}}function so(e,t){return r=>{if(t&&null==r)return null;if(!Array.isArray(r))throw Error("not an array");return r.map(t=>e(t))}}function sl(e,t){return r=>{let n={};for(let i in e){let s=i;if(t&&i in t&&!(s in r)){for(let e of t[i])if(e in r){s=e;break}}try{let t=e[i](r[s]);void 0!==t&&(n[i]=t)}catch(t){let e=t instanceof Error?t.message:"not-an-error";c(!1,`invalid value for value.${i} (${e})`,"BAD_DATA",{value:r})}}return n}}function su(e){return d(v(e,!0),"invalid data","value",e),e}function sc(e){return d(v(e,32),"invalid hash","value",e),e}let sd=sl({address:eH,blockHash:sc,blockNumber:F,data:su,index:F,removed:sa(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}d(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:so(sc),transactionHash:sc,transactionIndex:F},{index:["logIndex"]}),sh=sl({hash:sa(sc),parentHash:sc,parentBeaconBlockRoot:sa(sc,null),number:F,timestamp:F,nonce:sa(su),difficulty:_,gasLimit:_,gasUsed:_,stateRoot:sa(sc,null),receiptsRoot:sa(sc,null),blobGasUsed:sa(_,null),excessBlobGas:sa(_,null),miner:sa(eH),prevRandao:sa(sc,null),extraData:su,baseFeePerGas:sa(_)},{prevRandao:["mixHash"]}),sf=sl({transactionIndex:F,blockNumber:F,transactionHash:sc,address:eH,topics:so(sc),data:su,index:F,blockHash:sc},{index:["logIndex"]}),sp=sl({to:sa(eH,null),from:sa(eH,null),contractAddress:sa(eH,null),index:F,root:sa(A),gasUsed:_,blobGasUsed:sa(_,null),logsBloom:sa(su),blockHash:sc,hash:sc,logs:so(function(e){return sf(e)}),blockNumber:F,cumulativeGasUsed:_,effectiveGasPrice:sa(_),blobGasPrice:sa(_,null),status:sa(F),type:sa(F,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function sg(e){e.to&&_(e.to)===ss&&(e.to="0x0000000000000000000000000000000000000000");let t=sl({hash:sc,index:sa(F,void 0),type:e=>"0x"===e||null==e?0:F(e),accessList:sa(rd,null),blobVersionedHashes:sa(so(sc,!0),null),blockHash:sa(sc,null),blockNumber:sa(F,null),transactionIndex:sa(F,null),from:eH,gasPrice:sa(_),maxPriorityFeePerGas:sa(_),maxFeePerGas:sa(_),maxFeePerBlobGas:sa(_,null),gasLimit:_,to:sa(eH,null),value:_,nonce:F,data:su,creates:sa(eH,null),chainId:sa(_,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==t.to&&null==t.creates&&(t.creates=function(e){let t=eH(e.from),r=_(e.nonce,"tx.nonce").toString(16);return eH(k(eF(iV([t,r="0"===r?"0x":r.length%2?"0x0"+r:"0x"+r])),12))}(t)),(1===e.type||2===e.type)&&null==e.accessList&&(t.accessList=[]),e.signature?t.signature=nJ.from(e.signature):t.signature=nJ.from(e),null==t.chainId){let e=t.signature.legacyChainId;null!=e&&(t.chainId=e)}return t.blockHash&&_(t.blockHash)===ss&&(t.blockHash=null),t}class sm{name;constructor(e){s(this,{name:e})}clone(){return new sm(this.name)}}class sy extends sm{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,t){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let r={effectiveBlock:e};function n(e,n){let i=(t||{})[e];null==i&&(i=n),d("number"==typeof i,`invalud value for ${e}`,"costs",t),r[e]=i}n("txBase",21e3),n("txCreate",32e3),n("txDataZero",4),n("txDataNonzero",16),n("txAccessListStorageKey",1900),n("txAccessListAddress",2400),s(this,r)}clone(){return new sy(this.effectiveBlock,this)}}class sv extends sm{address;targetNetwork;constructor(e,t){super("org.ethers.plugins.network.Ens"),s(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==t?1:t})}clone(){return new sv(this.address,this.targetNetwork)}}class sb extends sm{#I;#ek;get url(){return this.#I}get processFunc(){return this.#ek}constructor(e,t){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#I=e,this.#ek=t}clone(){return this}}let sw=new Map;class sA{#eP;#eh;#eI;constructor(e,t){this.#eP=e,this.#eh=_(t),this.#eI=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#eP}set name(e){this.#eP=e}get chainId(){return this.#eh}set chainId(e){this.#eh=_(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===_(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===_(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===_(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#eI.values())}attachPlugin(e){if(this.#eI.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eI.set(e.name,e.clone()),this}getPlugin(e){return this.#eI.get(e)||null}getPlugins(e){return this.plugins.filter(t=>t.name.split("#")[0]===e)}clone(){let e=new sA(this.name,this.chainId);return this.plugins.forEach(t=>{e.attachPlugin(t.clone())}),e}computeIntrinsicGas(e){let t=this.getPlugin("org.ethers.plugins.network.GasCost")||new sy,r=t.txBase;if(null==e.to&&(r+=t.txCreate),e.data)for(let n=2;n<e.data.length;n+=2)"00"===e.data.substring(n,n+2)?r+=t.txDataZero:r+=t.txDataNonzero;if(e.accessList){let n=rd(e.accessList);for(let e in n)r+=t.txAccessListAddress+t.txAccessListStorageKey*n[e].storageKeys.length}return r}static from(e){if(function(){sk||(sk=!0,e("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),e("ropsten",3,{ensNetwork:3}),e("rinkeby",4,{ensNetwork:4}),e("goerli",5,{ensNetwork:5}),e("kovan",42,{ensNetwork:42}),e("sepolia",11155111,{ensNetwork:11155111}),e("holesky",17e3,{ensNetwork:17e3}),e("classic",61,{}),e("classicKotti",6,{}),e("arbitrum",42161,{ensNetwork:1}),e("arbitrum-goerli",421613,{}),e("arbitrum-sepolia",421614,{}),e("base",8453,{ensNetwork:1}),e("base-goerli",84531,{}),e("base-sepolia",84532,{}),e("bnb",56,{ensNetwork:1}),e("bnbt",97,{}),e("linea",59144,{ensNetwork:1}),e("linea-goerli",59140,{}),e("linea-sepolia",59141,{}),e("matic",137,{ensNetwork:1,plugins:[sE("https://gasstation.polygon.technology/v2")]}),e("matic-amoy",80002,{}),e("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[sE("https://gasstation-testnet.polygon.technology/v2")]}),e("optimism",10,{ensNetwork:1,plugins:[]}),e("optimism-goerli",420,{}),e("optimism-sepolia",11155420,{}),e("xdai",100,{ensNetwork:1}));function e(e,t,r){let n=function(){let n=new sA(e,t);return null!=r.ensNetwork&&n.attachPlugin(new sv(null,r.ensNetwork)),n.attachPlugin(new sy),(r.plugins||[]).forEach(e=>{n.attachPlugin(e)}),n};sA.register(e,n),sA.register(t,n),r.altNames&&r.altNames.forEach(e=>{sA.register(e,n)})}}(),null==e)return sA.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let t=sw.get(e);if(t)return t();if("bigint"==typeof e)return new sA("unknown",e);d(!1,"unknown network","network",e)}if("function"==typeof e.clone)return e.clone();if("object"==typeof e){d("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let t=new sA(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&t.attachPlugin(new sv(e.ensAddress,e.ensNetwork)),t}d(!1,"invalid network","network",e)}static register(e,t){"number"==typeof e&&(e=BigInt(e));let r=sw.get(e);r&&d(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),sw.set(e,t)}}function sx(e,t){let r=String(e);if(!r.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let n=r.split(".");if(1===n.length&&n.push(""),2!==n.length)throw Error(`invalid gwei value: ${e}`);for(;n[1].length<t;)n[1]+="0";if(n[1].length>9){let e=BigInt(n[1].substring(0,9));!n[1].substring(9).match(/^0+$/)&&e++,n[1]=e.toString()}return BigInt(n[0]+n[1])}function sE(e){return new sb(e,async(e,t,r)=>{let n;r.setHeader("User-Agent","ethers");try{let[t,i]=await Promise.all([r.send(),e()]),s=(n=t).bodyJson.standard;return{gasPrice:i.gasPrice,maxFeePerGas:sx(s.maxFee,9),maxPriorityFeePerGas:sx(s.maxPriorityFee,9)}}catch(e){c(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:n,error:e})}})}let sk=!1;function sP(e){return JSON.parse(JSON.stringify(e))}class sI{#eS;#eO;#eC;#eT;constructor(e){this.#eS=e,this.#eO=null,this.#eC=4e3,this.#eT=-2}get pollingInterval(){return this.#eC}set pollingInterval(e){this.#eC=e}async #e_(){try{let e=await this.#eS.getBlockNumber();if(-2===this.#eT){this.#eT=e;return}if(e!==this.#eT){for(let t=this.#eT+1;t<=e;t++){if(null==this.#eO)return;await this.#eS.emit("block",t)}this.#eT=e}}catch(e){}null!=this.#eO&&(this.#eO=this.#eS._setTimeout(this.#e_.bind(this),this.#eC))}start(){this.#eO||(this.#eO=this.#eS._setTimeout(this.#e_.bind(this),this.#eC),this.#e_())}stop(){this.#eO&&(this.#eS._clearTimeout(this.#eO),this.#eO=null)}pause(e){this.stop(),e&&(this.#eT=-2)}resume(){this.start()}}class sS{#eS;#e_;#eB;constructor(e){this.#eS=e,this.#eB=!1,this.#e_=e=>{this._poll(e,this.#eS)}}async _poll(e,t){throw Error("sub-classes must override this")}start(){this.#eB||(this.#eB=!0,this.#e_(-2),this.#eS.on("block",this.#e_))}stop(){this.#eB&&(this.#eB=!1,this.#eS.off("block",this.#e_))}pause(e){this.stop()}resume(){this.start()}}class sO extends sS{#eR;#eN;constructor(e,t){super(e),this.#eR=t,this.#eN=-2}pause(e){e&&(this.#eN=-2),super.pause(e)}async _poll(e,t){let r=await t.getBlock(this.#eR);null!=r&&(-2===this.#eN?this.#eN=r.number:r.number>this.#eN&&(t.emit(this.#eR,r.number),this.#eN=r.number))}}class sC extends sS{#Y;constructor(e,t){super(e),this.#Y=sP(t)}async _poll(e,t){throw Error("@TODO")}}class sT extends sS{#eF;constructor(e,t){super(e),this.#eF=t}async _poll(e,t){let r=await t.getTransactionReceipt(this.#eF);r&&t.emit(this.#eF,r)}}class s_{#eS;#Y;#eO;#eB;#eT;constructor(e,t){this.#eS=e,this.#Y=sP(t),this.#eO=this.#e_.bind(this),this.#eB=!1,this.#eT=-2}async #e_(e){if(-2===this.#eT)return;let t=sP(this.#Y);t.fromBlock=this.#eT+1,t.toBlock=e;let r=await this.#eS.getLogs(t);if(0===r.length){this.#eT<e-60&&(this.#eT=e-60);return}for(let e of r)this.#eS.emit(this.#Y,e),this.#eT=e.blockNumber}start(){this.#eB||(this.#eB=!0,-2===this.#eT&&this.#eS.getBlockNumber().then(e=>{this.#eT=e}),this.#eS.on("block",this.#eO))}stop(){this.#eB&&(this.#eB=!1,this.#eS.off("block",this.#eO))}pause(e){this.stop(),e&&(this.#eT=-2)}resume(){this.start()}}let sB=BigInt(2);function sR(e){return e&&"function"==typeof e.then}function sN(e,t){return e+":"+JSON.stringify(t,(e,t)=>{if(null==t)return"null";if("bigint"==typeof t)return`bigint:${t.toString()}`;if("string"==typeof t)return t.toLowerCase();if("object"==typeof t&&!Array.isArray(t)){let e=Object.keys(t);return e.sort(),e.reduce((e,r)=>(e[r]=t[r],e),{})}return t})}class sF{name;constructor(e){s(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function sL(e){return(e=Array.from(new Set(e).values())).sort(),e}async function sM(e,t){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if(v(e,32)){let t=e.toLowerCase();return{type:"transaction",tag:sN("tx",{hash:t}),hash:t}}if(e.orphan){let t=e;return{type:"orphan",tag:sN("orphan",t),filter:JSON.parse(JSON.stringify(t))}}if(e.address||e.topics){let r=e,n={topics:(r.topics||[]).map(e=>null==e?null:Array.isArray(e)?sL(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(r.address){let e=[],i=[],s=r=>{v(r)?e.push(r):i.push((async()=>{e.push(await t4(r,t))})())};Array.isArray(r.address)?r.address.forEach(s):s(r.address),i.length&&await Promise.all(i),n.address=sL(e.map(e=>e.toLowerCase()))}return{filter:n,tag:sN("event",n),type:"event"}}d(!1,"unknown ProviderEvent","event",e)}function sD(){return new Date().getTime()}let sU={cacheTimeout:250,pollingInterval:4e3};class sj{#eL;#eI;#eM;#eD;#eU;#ej;#eH;#eG;#e$;#eq;#ez;#c;constructor(e,t){if(this.#c=Object.assign({},sU,t||{}),"any"===e)this.#ej=!0,this.#eU=null;else if(e){let t=sA.from(e);this.#ej=!1,this.#eU=Promise.resolve(t),setTimeout(()=>{this.emit("network",t,null)},0)}else this.#ej=!1,this.#eU=null;this.#eG=-1,this.#eH=new Map,this.#eL=new Map,this.#eI=new Map,this.#eM=null,this.#eD=!1,this.#e$=1,this.#eq=new Map,this.#ez=!1}get pollingInterval(){return this.#c.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#eI.values())}attachPlugin(e){if(this.#eI.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#eI.set(e.name,e.connect(this)),this}getPlugin(e){return this.#eI.get(e)||null}get disableCcipRead(){return this.#ez}set disableCcipRead(e){this.#ez=!!e}async #eV(e){let t=this.#c.cacheTimeout;if(t<0)return await this._perform(e);let r=sN(e.method,e),n=this.#eH.get(r);return n||(n=this._perform(e),this.#eH.set(r,n),setTimeout(()=>{this.#eH.get(r)===n&&this.#eH.delete(r)},t)),await n}async ccipReadFetch(e,t,r){if(this.disableCcipRead||0===r.length||null==e.to)return null;let n=e.to.toLowerCase(),i=t.toLowerCase(),s=[];for(let t=0;t<r.length;t++){let a;let o=r[t],l=new rE(o.replace("{sender}",n).replace("{data}",i));-1===o.indexOf("{data}")&&(l.body={data:i,sender:n}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:l,index:t,urls:r});let u="unknown error";try{a=await l.send()}catch(e){s.push(e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:{error:e}});continue}try{let e=a.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:l,result:e}),e.data;e.message&&(u=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:l,result:e})}catch(e){}c(a.statusCode<400||a.statusCode>=500,`response not found during CCIP fetch: ${u}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:o,errorMessage:u}}),s.push(u)}c(!1,`error encountered during CCIP fetch: ${s.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:s}})}_wrapBlock(e,t){return new rU(function(e){let t=sh(e);return t.transactions=e.transactions.map(e=>"string"==typeof e?e:sg(e)),t}(e),this)}_wrapLog(e,t){return new rj(sd(e),this)}_wrapTransactionReceipt(e,t){return new rH(sp(e),this)}_wrapTransactionResponse(e,t){return new rG(sg(e),this)}_detectNetwork(){c(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){c(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=F(await this.#eV({method:"getBlockNumber"}),"%response");return this.#eG>=0&&(this.#eG=e),e}_getAddress(e){return t4(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return v(e)?v(e,32)?e:D(e):("bigint"==typeof e&&(e=F(e,"blockTag")),"number"==typeof e)?e>=0?D(e):this.#eG>=0?D(this.#eG+e):this.getBlockNumber().then(t=>D(t+e)):void d(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let t,r;let n=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?sL(e.map(e=>e.toLowerCase())):e.toLowerCase()),i="blockHash"in e?e.blockHash:void 0,s=(e,t,r)=>{let s;switch(e.length){case 0:break;case 1:s=e[0];break;default:e.sort(),s=e}if(i&&(null!=t||null!=r))throw Error("invalid filter");let a={};return s&&(a.address=s),n.length&&(a.topics=n),t&&(a.fromBlock=t),r&&(a.toBlock=r),i&&(a.blockHash=i),a},a=[];if(e.address){if(Array.isArray(e.address))for(let t of e.address)a.push(this._getAddress(t));else a.push(this._getAddress(e.address))}return"fromBlock"in e&&(t=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(r=this._getBlockTag(e.toBlock)),a.filter(e=>"string"!=typeof e).length||null!=t&&"string"!=typeof t||null!=r&&"string"!=typeof r)?Promise.all([Promise.all(a),t,r]).then(e=>s(e[0],e[1],e[2])):s(a,t,r)}_getTransactionRequest(e){let t=rD(e),r=[];if(["to","from"].forEach(e=>{if(null==t[e])return;let n=t4(t[e],this);sR(n)?r.push(async function(){t[e]=await n}()):t[e]=n}),null!=t.blockTag){let e=this._getBlockTag(t.blockTag);sR(e)?r.push(async function(){t.blockTag=await e}()):t.blockTag=e}return r.length?async function(){return await Promise.all(r),t}():t}async getNetwork(){if(null==this.#eU){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(t){throw this.#eU===e&&(this.#eU=null),t}})();return this.#eU=e,(await e).clone()}let e=this.#eU,[t,r]=await Promise.all([e,this._detectNetwork()]);return t.chainId!==r.chainId&&(this.#ej?(this.emit("network",r,t),this.#eU===e&&(this.#eU=Promise.resolve(r))):c(!1,`network changed: ${t.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),t.clone()}async getFeeData(){let e=await this.getNetwork(),t=async()=>{let{_block:t,gasPrice:r,priorityFee:n}=await i({_block:this.#eQ("latest",!1),gasPrice:(async()=>{try{let e=await this.#eV({method:"getGasPrice"});return _(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#eV({method:"getPriorityFee"});return _(e,"%response")}catch(e){}return null})()}),s=null,a=null,o=this._wrapBlock(t,e);return o&&o.baseFeePerGas&&(a=null!=n?n:BigInt("1000000000"),s=o.baseFeePerGas*sB+a),new rM(r,s,a)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){let e=new rE(r.url),n=await r.processFunc(t,this,e);return new rM(n.gasPrice,n.maxFeePerGas,n.maxPriorityFeePerGas)}return await t()}async estimateGas(e){let t=this._getTransactionRequest(e);return sR(t)&&(t=await t),_(await this.#eV({method:"estimateGas",transaction:t}),"%response")}async #eZ(e,t,r){c(r<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:t,enableCcipRead:!0})});let n=rD(e);try{return A(await this._perform({method:"call",transaction:n,blockTag:t}))}catch(e){if(!this.disableCcipRead&&l(e)&&e.data&&r>=0&&"latest"===t&&null!=n.to&&"0x556f1830"===k(e.data,0,4)){let i;let s=e.data,a=await t4(n.to,this);try{i=function(e){let t={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};c(E(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let r=k(e,0,32);c(k(r,0,12)===k(sq,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),t.sender=k(r,12);try{let r=[],n=F(k(e,32,64)),i=F(k(e,n,n+32)),s=k(e,n+32);for(let e=0;e<i;e++){let t=function(e,t){try{let r=sH(e,t);if(r)return tt(r)}catch(e){}return null}(s,32*e);if(null==t)throw Error("abort");r.push(t)}t.urls=r}catch(e){c(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let r=sH(e,64);if(null==r)throw Error("abort");t.calldata=r}catch(e){c(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}c(k(e,100,128)===k(sq,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),t.selector=k(e,96,100);try{let r=sH(e,128);if(null==r)throw Error("abort");t.extraData=r}catch(e){c(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return t.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>t[e]),t}(k(e.data,4))}catch(e){c(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:n,info:{data:s}})}c(i.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:s,reason:"OffchainLookup",transaction:n,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:i.errorArgs}});let o=await this.ccipReadFetch(n,i.calldata,i.urls);c(null!=o,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:n,info:{data:e.data,errorArgs:i.errorArgs}});let l={to:a,data:x([i.selector,function(e){let t=[],r=0;for(let n=0;n<e.length;n++)t.push(s$),r+=32;for(let n=0;n<e.length;n++){let i=m(e[n]);t[n]=sG(r),t.push(sG(i.length)),t.push(function(e){if(e.length%32==0)return e;let t=new Uint8Array(32*Math.ceil(e.length/32));return t.set(e),t}(i)),r+=32+32*Math.ceil(i.length/32)}return x(t)}([o,i.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:l});try{let e=await this.#eZ(l,t,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},l),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},l),error:e}),e}}throw e}}async #eJ(e){let{value:t}=await i({network:this.getNetwork(),value:e});return t}async call(e){let{tx:t,blockTag:r}=await i({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#eJ(this.#eZ(t,r,e.enableCcipRead?0:-1))}async #eK(e,t,r){let n=this._getAddress(t),i=this._getBlockTag(r);return("string"!=typeof n||"string"!=typeof i)&&([n,i]=await Promise.all([n,i])),await this.#eJ(this.#eV(Object.assign(e,{address:n,blockTag:i})))}async getBalance(e,t){return _(await this.#eK({method:"getBalance"},e,t),"%response")}async getTransactionCount(e,t){return F(await this.#eK({method:"getTransactionCount"},e,t),"%response")}async getCode(e,t){return A(await this.#eK({method:"getCode"},e,t))}async getStorage(e,t,r){let n=_(t,"position");return A(await this.#eK({method:"getStorage",position:n},e,r))}async broadcastTransaction(e){let{blockNumber:t,hash:r,network:n}=await i({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=i5.from(e);if(s.hash!==r)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,n).replaceableTransaction(t)}async #eQ(e,t){if(v(e,32))return await this.#eV({method:"getBlock",blockHash:e,includeTransactions:t});let r=this._getBlockTag(e);return"string"!=typeof r&&(r=await r),await this.#eV({method:"getBlock",blockTag:r,includeTransactions:t})}async getBlock(e,t){let{network:r,params:n}=await i({network:this.getNetwork(),params:this.#eQ(e,!!t)});return null==n?null:this._wrapBlock(n,r)}async getTransaction(e){let{network:t,params:r}=await i({network:this.getNetwork(),params:this.#eV({method:"getTransaction",hash:e})});return null==r?null:this._wrapTransactionResponse(r,t)}async getTransactionReceipt(e){let{network:t,params:r}=await i({network:this.getNetwork(),params:this.#eV({method:"getTransactionReceipt",hash:e})});if(null==r)return null;if(null==r.gasPrice&&null==r.effectiveGasPrice){let t=await this.#eV({method:"getTransaction",hash:e});if(null==t)throw Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=t.gasPrice}return this._wrapTransactionReceipt(r,t)}async getTransactionResult(e){let{result:t}=await i({network:this.getNetwork(),result:this.#eV({method:"getTransactionResult",hash:e})});return null==t?null:A(t)}async getLogs(e){let t=this._getFilter(e);sR(t)&&(t=await t);let{network:r,params:n}=await i({network:this.getNetwork(),params:this.#eV({method:"getLogs",filter:t})});return n.map(e=>this._wrapLog(e,r))}_getProvider(e){c(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await si.fromName(this,e)}async getAvatar(e){let t=await this.getResolver(e);return t?await t.getAvatar():null}async resolveName(e){let t=await this.getResolver(e);return t?await t.getAddress():null}async lookupAddress(e){let t=nm((e=eH(e)).substring(2).toLowerCase()+".addr.reverse");try{let r=await si.getEnsAddress(this),n=new nd(r,["function resolver(bytes32) view returns (address)"],this),i=await n.resolver(t);if(null==i||i===rI)return null;let s=new nd(i,["function name(bytes32) view returns (string)"],this),a=await s.name(t);if(await this.resolveName(a)!==e)return null;return a}catch(e){if(o(e,"BAD_DATA")&&"0x"===e.value||o(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,t,r){let n=null!=t?t:1;return 0===n?this.getTransactionReceipt(e):new Promise(async(t,i)=>{let s=null,a=async r=>{try{let i=await this.getTransactionReceipt(e);if(null!=i&&r-i.blockNumber+1>=n){t(i),s&&(clearTimeout(s),s=null);return}}catch(e){console.log("EEE",e)}this.once("block",a)};null!=r&&(s=setTimeout(()=>{null!=s&&(s=null,this.off("block",a),i(u("timeout","TIMEOUT",{reason:"timeout"})))},r)),a(await this.getBlockNumber())})}async waitForBlock(e){c(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let t=this.#eq.get(e);t&&(t.timer&&clearTimeout(t.timer),this.#eq.delete(e))}_setTimeout(e,t){null==t&&(t=0);let r=this.#e$++,n=()=>{this.#eq.delete(r),e()};if(this.paused)this.#eq.set(r,{timer:null,func:n,time:t});else{let e=setTimeout(n,t);this.#eq.set(r,{timer:e,func:n,time:sD()})}return r}_forEachSubscriber(e){for(let t of this.#eL.values())e(t.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new sF(e.type);case"block":{let e=new sI(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new sO(this,e.type);case"event":return new s_(this,e.filter);case"transaction":return new sT(this,e.hash);case"orphan":return new sC(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,t){for(let r of this.#eL.values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=t,r.started&&t.start(),null!=this.#eM&&t.pause(this.#eM);break}}async #eW(e,t){let r=await sM(e,this);return"event"===r.type&&t&&t.length>0&&!0===t[0].removed&&(r=await sM({orphan:"drop-log",log:t[0]},this)),this.#eL.get(r.tag)||null}async #eY(e){let t=await sM(e,this),r=t.tag,n=this.#eL.get(r);return!n&&(n={subscriber:this._getSubscriber(t),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},this.#eL.set(r,n)),n}async on(e,t){let r=await this.#eY(e);return r.listeners.push({listener:t,once:!1}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eM&&r.subscriber.pause(this.#eM)),this}async once(e,t){let r=await this.#eY(e);return r.listeners.push({listener:t,once:!0}),r.started||(r.subscriber.start(),r.started=!0,null!=this.#eM&&r.subscriber.pause(this.#eM)),this}async emit(e,...t){let r=await this.#eW(e,t);if(!r||0===r.listeners.length)return!1;let n=r.listeners.length;return r.listeners=r.listeners.filter(({listener:r,once:n})=>{let i=new rz(this,n?null:r,e);try{r.call(this,...t,i)}catch(e){}return!n}),0===r.listeners.length&&(r.started&&r.subscriber.stop(),this.#eL.delete(r.tag)),n>0}async listenerCount(e){if(e){let t=await this.#eW(e);return t?t.listeners.length:0}let t=0;for(let{listeners:e}of this.#eL.values())t+=e.length;return t}async listeners(e){if(e){let t=await this.#eW(e);return t?t.listeners.map(({listener:e})=>e):[]}let t=[];for(let{listeners:e}of this.#eL.values())t=t.concat(e.map(({listener:e})=>e));return t}async off(e,t){let r=await this.#eW(e);if(!r)return this;if(t){let e=r.listeners.map(({listener:e})=>e).indexOf(t);e>=0&&r.listeners.splice(e,1)}return t&&0!==r.listeners.length||(r.started&&r.subscriber.stop(),this.#eL.delete(r.tag)),this}async removeAllListeners(e){if(e){let{tag:t,started:r,subscriber:n}=await this.#eY(e);r&&n.stop(),this.#eL.delete(t)}else for(let[e,{started:t,subscriber:r}]of this.#eL)t&&r.stop(),this.#eL.delete(e);return this}async addListener(e,t){return await this.on(e,t)}async removeListener(e,t){return this.off(e,t)}get destroyed(){return this.#eD}destroy(){for(let e of(this.removeAllListeners(),this.#eq.keys()))this._clearTimeout(e);this.#eD=!0}get paused(){return null!=this.#eM}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#eG=-1,null!=this.#eM){if(!!e==this.#eM)return;c(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let t of(this._forEachSubscriber(t=>t.pause(e)),this.#eM=!!e,this.#eq.values()))t.timer&&clearTimeout(t.timer),t.time=sD()-t.time}resume(){if(null!=this.#eM)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#eM=null,this.#eq.values())){let t=e.time;t<0&&(t=0),e.time=sD(),setTimeout(e.func,t)}}}function sH(e,t){if("0x"===e)return null;try{let r=F(k(e,t,t+32)),n=F(k(e,r,r+32));return k(e,r+32,r+32+n)}catch(e){}return null}function sG(e){let t=M(e);if(t.length>32)throw Error("internal; should not happen");let r=new Uint8Array(32);return r.set(t,32-t.length),r}let s$=new Uint8Array([]),sq="0x0000000000000000000000000000000000000000000000000000000000000000";function sz(e,t){if(e.provider)return e.provider;c(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:t})}async function sV(e,t){let r=rD(t);if(null!=r.to&&(r.to=t4(r.to,e)),null!=r.from){let t=r.from;r.from=Promise.all([e.getAddress(),t4(t,e)]).then(([e,t])=>(d(e.toLowerCase()===t.toLowerCase(),"transaction from mismatch","tx.from",t),e))}else r.from=e.getAddress();return await i(r)}class sQ{provider;constructor(e){s(this,{provider:e||null})}async getNonce(e){return sz(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await sV(this,e)}async populateTransaction(e){let t=sz(this,"populateTransaction"),r=await sV(this,e);null==r.nonce&&(r.nonce=await this.getNonce("pending")),null==r.gasLimit&&(r.gasLimit=await this.estimateGas(r));let n=await this.provider.getNetwork();null!=r.chainId?d(_(r.chainId)===n.chainId,"transaction chainId mismatch","tx.chainId",e.chainId):r.chainId=n.chainId;let s=null!=r.maxFeePerGas||null!=r.maxPriorityFeePerGas;if(null!=r.gasPrice&&(2===r.type||s)?d(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===r.type||1===r.type)&&s&&d(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===r.type||null==r.type)&&null!=r.maxFeePerGas&&null!=r.maxPriorityFeePerGas)r.type=2;else if(0===r.type||1===r.type){let e=await t.getFeeData();c(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice)}else{let e=await t.getFeeData();if(null==r.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(r.type=2,null!=r.gasPrice){let e=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=e,r.maxPriorityFeePerGas=e}else null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?(c(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==r.gasPrice&&(r.gasPrice=e.gasPrice),r.type=0):c(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"})}else(2===r.type||3===r.type)&&(null==r.maxFeePerGas&&(r.maxFeePerGas=e.maxFeePerGas),null==r.maxPriorityFeePerGas&&(r.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await i(r)}async estimateGas(e){return sz(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return sz(this,"call").call(await this.populateCall(e))}async resolveName(e){let t=sz(this,"resolveName");return await t.resolveName(e)}async sendTransaction(e){let t=sz(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;let n=i5.from(r);return await t.broadcastTransaction(await this.signTransaction(n))}}class sZ{#eS;#eX;#eO;#eB;#e0;#e1;constructor(e){this.#eS=e,this.#eX=null,this.#eO=this.#e_.bind(this),this.#eB=!1,this.#e0=null,this.#e1=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,t){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #e_(e){try{null==this.#eX&&(this.#eX=this._subscribe(this.#eS));let e=null;try{e=await this.#eX}catch(e){if(!o(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#eX=null,this.#eS._recoverSubscriber(this,this._recover(this.#eS));return}let t=await this.#eS.getNetwork();if(this.#e0||(this.#e0=t),this.#e0.chainId!==t.chainId)throw Error("chaid changed");if(this.#e1)return;let r=await this.#eS.send("eth_getFilterChanges",[e]);await this._emitResults(this.#eS,r)}catch(e){console.log("@TODO",e)}this.#eS.once("block",this.#eO)}#e2(){let e=this.#eX;e&&(this.#eX=null,e.then(e=>{this.#eS.destroyed||this.#eS.send("eth_uninstallFilter",[e])}))}start(){this.#eB||(this.#eB=!0,this.#e_(-2))}stop(){this.#eB&&(this.#eB=!1,this.#e1=!0,this.#e2(),this.#eS.off("block",this.#eO))}pause(e){e&&this.#e2(),this.#eS.off("block",this.#eO)}resume(){this.start()}}class sJ extends sZ{#e3;constructor(e,t){super(e),this.#e3=JSON.parse(JSON.stringify(t))}_recover(e){return new s_(e,this.#e3)}async _subscribe(e){return await e.send("eth_newFilter",[this.#e3])}async _emitResults(e,t){for(let r of t)e.emit(this.#e3,e._wrapLog(r,e._network))}}class sK extends sZ{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,t){for(let r of t)e.emit("pending",r)}}let sW="bigint,boolean,function,number,string,symbol".split(/,/g);function sY(e){if(null==e||sW.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(sY);if("object"==typeof e)return Object.keys(e).reduce((t,r)=>(t[r]=e[r],t),{});throw Error(`should not happen: ${e} (${typeof e})`)}function sX(e){return e?e.toLowerCase():e}function s0(e){return e&&"number"==typeof e.pollingInterval}let s1={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class s2 extends sQ{address;constructor(e,t){super(e),s(this,{address:t=eH(t)})}connect(e){c(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let t=sY(e),r=[];if(t.from){let n=t.from;r.push((async()=>{let r=await t4(n,this.provider);d(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r})())}else t.from=this.address;if(null==t.gasLimit&&r.push((async()=>{t.gasLimit=await this.provider.estimateGas({...t,from:this.address})})()),null!=t.to){let e=t.to;r.push((async()=>{t.to=await t4(e,this.provider)})())}r.length&&await Promise.all(r);let n=this.provider.getRpcTransaction(t);return this.provider.send("eth_sendTransaction",[n])}async sendTransaction(e){let t=await this.provider.getBlockNumber(),r=await this.sendUncheckedTransaction(e);return await new Promise((e,n)=>{let i=[1e3,100],s=0,a=async()=>{try{let n=await this.provider.getTransaction(r);if(null!=n){e(n.replaceableTransaction(t));return}}catch(e){if(o(e,"CANCELLED")||o(e,"BAD_DATA")||o(e,"NETWORK_ERROR")||o(e,"UNSUPPORTED_OPERATION")){null==e.info&&(e.info={}),e.info.sendTransactionHash=r,n(e);return}if(o(e,"INVALID_ARGUMENT")&&(s++,null==e.info&&(e.info={}),e.info.sendTransactionHash=r,s>10)){n(e);return}this.provider.emit("error",u("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{a()},i.pop()||4e3)};a()})}async signTransaction(e){let t=sY(e);if(t.from){let r=await t4(t.from,this.provider);d(null!=r&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),t.from=r}else t.from=this.address;let r=this.provider.getRpcTransaction(t);return await this.provider.send("eth_signTransaction",[r])}async signMessage(e){let t="string"==typeof e?te(e):e;return await this.provider.send("personal_sign",[A(t),this.address.toLowerCase()])}async signTypedData(e,t,r){let n=sY(r),i=await ru.resolveNames(e,t,n,async e=>{let t=await t4(e);return d(null!=t,"TypedData does not support null address","value",e),t});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(ru.getPayload(i.domain,t,i.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let t="string"==typeof e?te(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),A(t)])}}class s3 extends sj{#c;#e4;#e8;#e6;#e5;#e0;#e9;#e7(){if(this.#e6)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#e6=setTimeout(()=>{this.#e6=null;let e=this.#e8;for(this.#e8=[];e.length;){let t=[e.shift()];for(;e.length&&t.length!==this.#c.batchMaxCount;)if(t.push(e.shift()),JSON.stringify(t.map(e=>e.payload)).length>this.#c.batchMaxSize){e.unshift(t.pop());break}(async()=>{let e=1===t.length?t[0].payload:t.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let r=await this._send(e);for(let{resolve:e,reject:n,payload:i}of(this.emit("debug",{action:"receiveRpcResult",result:r}),t)){if(this.destroyed){n(u("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:i.method}));continue}let t=r.filter(e=>e.id===i.id)[0];if(null==t){let e=u("missing response for request","BAD_DATA",{value:r,info:{payload:i}});this.emit("error",e),n(e);continue}if("error"in t){n(this.getRpcError(i,t));continue}e(t.result)}}catch(e){for(let{reject:r}of(this.emit("debug",{action:"receiveRpcError",error:e}),t))r(e)}})()}},e)}constructor(e,t){super(e,t),this.#e4=1,this.#c=Object.assign({},s1,t||{}),this.#e8=[],this.#e6=null,this.#e0=null,this.#e9=null;{let e=null,t=new Promise(t=>{e=t});this.#e5={promise:t,resolve:e}}let r=this._getOption("staticNetwork");"boolean"==typeof r?(d(!r||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",t),r&&null!=e&&(this.#e0=sA.from(e))):r&&(d(null==e||r.matches(e),"staticNetwork MUST match network object","options",t),this.#e0=r)}_getOption(e){return this.#c[e]}get _network(){return c(this.#e0,"network is not available yet","NETWORK_ERROR"),this.#e0}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let t=e.transaction;if(t&&null!=t.type&&_(t.type)&&null==t.maxFeePerGas&&null==t.maxPriorityFeePerGas){let r=await this.getFeeData();null==r.maxFeePerGas&&null==r.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},t,{type:void 0})}))}}let t=this.getRpcRequest(e);return null!=t?await this.send(t.method,t.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#e0)return this.#e0}return this.#e9||(this.ready?this.#e9=(async()=>{try{let e=sA.from(_(await this.send("eth_chainId",[])));return this.#e9=null,e}catch(e){throw this.#e9=null,e}})():this.#e9=(async()=>{let e;let t={id:this.#e4++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:t});try{e=(await this._send(t))[0],this.#e9=null}catch(e){throw this.#e9=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return sA.from(_(e.result));throw this.getRpcError(t,e)})()),await this.#e9}_start(){null!=this.#e5&&null!=this.#e5.resolve&&(this.#e5.resolve(),this.#e5=null,(async()=>{for(;null==this.#e0&&!this.destroyed;)try{this.#e0=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",u("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#e7()})())}async _waitUntilReady(){if(null!=this.#e5)return await this.#e5.promise}_getSubscriber(e){return"pending"===e.type?new sK(this):"event"===e.type?this._getOption("polling")?new s_(this,e.filter):new sJ(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new sF("orphan"):super._getSubscriber(e)}get ready(){return null==this.#e5}getRpcTransaction(e){let t={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(r=>{if(null==e[r])return;let n=r;"gasLimit"===r&&(n="gas"),t[n]=D(_(e[r],`tx.${r}`))}),["from","to","data"].forEach(r=>{null!=e[r]&&(t[r]=A(e[r]))}),e.accessList&&(t.accessList=rd(e.accessList)),e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),t}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[sX(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[sX(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[sX(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[sX(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(sX):e.filter.address=sX(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,t){let{method:r}=e,{error:n}=t;if("eth_estimateGas"===r&&n.message){let t=n.message;if(!t.match(/revert/i)&&t.match(/insufficient funds/i))return u("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:n}})}if("eth_call"===r||"eth_estimateGas"===r){let t=function e(t){if(null==t)return null;if("string"==typeof t.message&&t.message.match(/revert/i)&&v(t.data))return{message:t.message,data:t.data};if("object"==typeof t){for(let r in t){let n=e(t[r]);if(n)return n}return null}if("string"==typeof t)try{return e(JSON.parse(t))}catch(e){}return null}(n),i=t1.getBuiltinCallException("eth_call"===r?"call":"estimateGas",e.params[0],t?t.data:null);return i.info={error:n,payload:e},i}let i=JSON.stringify(function(e){let t=[];return!function e(t,r){if(null!=t){if("string"==typeof t.message&&r.push(t.message),"object"==typeof t)for(let n in t)e(t[n],r);if("string"==typeof t)try{return e(JSON.parse(t),r)}catch(e){}}}(e,t),t}(n));if("string"==typeof n.message&&n.message.match(/user denied|ethers-user-denied/i))return u("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[r]||"unknown",reason:"rejected",info:{payload:e,error:n}});if("eth_sendRawTransaction"===r||"eth_sendTransaction"===r){let t=e.params[0];if(i.match(/insufficient funds|base fee exceeds gas limit/i))return u("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:t,info:{error:n}});if(i.match(/nonce/i)&&i.match(/too low/i))return u("nonce has already been used","NONCE_EXPIRED",{transaction:t,info:{error:n}});if(i.match(/replacement transaction/i)&&i.match(/underpriced/i))return u("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:t,info:{error:n}});if(i.match(/only replay-protected/i))return u("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:r,info:{transaction:t,info:{error:n}}})}let s=!!i.match(/the method .* does not exist/i);return(!s&&n&&n.details&&n.details.startsWith("Unauthorized method:")&&(s=!0),s)?u("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:n,payload:e}}):u("could not coalesce error","UNKNOWN_ERROR",{error:n,payload:e})}send(e,t){if(this.destroyed)return Promise.reject(u("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let r=this.#e4++,n=new Promise((n,i)=>{this.#e8.push({resolve:n,reject:i,payload:{method:e,params:t,id:r,jsonrpc:"2.0"}})});return this.#e7(),n}async getSigner(e){null==e&&(e=0);let t=this.send("eth_accounts",[]);if("number"==typeof e){let r=await t;if(e>=r.length)throw Error("no such account");return new s2(this,r[e])}let{accounts:r}=await i({network:this.getNetwork(),accounts:t});for(let t of(e=eH(e),r))if(eH(t)===e)return new s2(this,e);throw Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(e=>new s2(this,e))}destroy(){for(let{payload:e,reject:t}of(this.#e6&&(clearTimeout(this.#e6),this.#e6=null),this.#e8))t(u("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#e8=[],super.destroy()}}class s4 extends s3{#te;constructor(e,t){super(e,t);let r=this._getOption("pollingInterval");null==r&&(r=s1.pollingInterval),this.#te=r}_getSubscriber(e){let t=super._getSubscriber(e);return s0(t)&&(t.pollingInterval=this.#te),t}get pollingInterval(){return this.#te}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#te=e,this._forEachSubscriber(e=>{s0(e)&&(e.pollingInterval=this.#te)})}}class s8 extends s4{#U;constructor(e,t,r){let n=Object.assign({},null!=r?r:{},{batchMaxCount:1});d(e&&e.request,"invalid EIP-1193 provider","ethereum",e),super(t,n),this.#U=async(t,r)=>{let n={method:t,params:r};this.emit("debug",{action:"sendEip1193Request",payload:n});try{let t=await e.request(n);return this.emit("debug",{action:"receiveEip1193Result",result:t}),t}catch(t){let e=Error(t.message);throw e.code=t.code,e.data=t.data,e.payload=n,this.emit("debug",{action:"receiveEip1193Error",error:e}),e}}}async send(e,t){return await this._start(),await super.send(e,t)}async _send(e){d(!Array.isArray(e),"EIP-1193 does not support batch request","payload",e);try{let t=await this.#U(e.method,e.params||[]);return[{id:e.id,result:t}]}catch(t){return[{id:e.id,error:{code:t.code,data:t.data,message:t.message}}]}}getRpcError(e,t){switch((t=JSON.parse(JSON.stringify(t))).error.code||-1){case 4001:t.error.message=`ethers-user-denied: ${t.error.message}`;break;case 4200:t.error.message=`ethers-unsupported: ${t.error.message}`}return super.getRpcError(e,t)}async hasSigner(e){null==e&&(e=0);let t=await this.send("eth_accounts",[]);return"number"==typeof e?t.length>e:(e=e.toLowerCase(),0!==t.filter(t=>t.toLowerCase()===e).length)}async getSigner(e){if(null==e&&(e=0),!await this.hasSigner(e))try{await this.#U("eth_requestAccounts",[])}catch(t){let e=t.payload;throw this.getRpcError(e,{id:e.id,error:t})}return await super.getSigner(e)}}},6550:function(e,t,r){"use strict";r.d(t,{ZP:function(){return et}});let n=e=>"string"==typeof e,i=()=>{let e,t;let r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r},s=e=>null==e?"":""+e,a=(e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})},o=/###/g,l=e=>e&&e.indexOf("###")>-1?e.replace(o,"."):e,u=e=>!e||n(e),c=(e,t,r)=>{let i=n(t)?t.split("."):t,s=0;for(;s<i.length-1;){if(u(e))return{};let t=l(i[s]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++s}return u(e)?{}:{obj:e,k:l(i[s])}},d=(e,t,r)=>{let{obj:n,k:i}=c(e,t,Object);if(void 0!==n||1===t.length){n[i]=r;return}let s=t[t.length-1],a=t.slice(0,t.length-1),o=c(e,a,Object);for(;void 0===o.obj&&a.length;)s=`${a[a.length-1]}.${s}`,(o=c(e,a=a.slice(0,a.length-1),Object))&&o.obj&&void 0!==o.obj[`${o.k}.${s}`]&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=r},h=(e,t,r,n)=>{let{obj:i,k:s}=c(e,t,Object);i[s]=i[s]||[],i[s].push(r)},f=(e,t)=>{let{obj:r,k:n}=c(e,t);if(r)return r[n]},p=(e,t,r)=>{let n=f(e,r);return void 0!==n?n:f(t,r)},g=(e,t,r)=>{for(let i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?n(e[i])||e[i]instanceof String||n(t[i])||t[i]instanceof String?r&&(e[i]=t[i]):g(e[i],t[i],r):e[i]=t[i]);return e},m=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};let v=e=>n(e)?e.replace(/[&<>"'\/]/g,e=>y[e]):e;class b{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let t=this.regExpMap.get(e);if(void 0!==t)return t;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}let w=[" ",",","?","!",";"],A=new b(20),x=(e,t,r)=>{t=t||"",r=r||"";let n=w.filter(e=>0>t.indexOf(e)&&0>r.indexOf(e));if(0===n.length)return!0;let i=A.getRegExp(`(${n.map(e=>"?"===e?"\\?":e).join("|")})`),s=!i.test(e);if(!s){let t=e.indexOf(r);t>0&&!i.test(e.substring(0,t))&&(s=!0)}return s},E=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];let n=t.split(r),i=e;for(let e=0;e<n.length;){let t;if(!i||"object"!=typeof i)return;let s="";for(let a=e;a<n.length;++a)if(a!==e&&(s+=r),s+=n[a],void 0!==(t=i[s])){if(["string","number","boolean"].indexOf(typeof t)>-1&&a<n.length-1)continue;e+=a-e+1;break}i=t}return i},k=e=>e&&e.replace("_","-"),P={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class I{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||P,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,i){return i&&!this.debug?null:(n(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new I(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new I(this.logger,e)}}var S=new I;class O{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);let r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let e=0;e<n;e++)t(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(t=>{let[n,i]=t;for(let t=0;t<i;t++)n.apply(n,[e,...r])})}}class C extends O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}removeNamespaces(e){let t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){let i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=void 0!==s.keySeparator?s.keySeparator:this.options.keySeparator,o=void 0!==s.ignoreJSONStructure?s.ignoreJSONStructure:this.options.ignoreJSONStructure;e.indexOf(".")>-1?i=e.split("."):(i=[e,t],r&&(Array.isArray(r)?i.push(...r):n(r)&&a?i.push(...r.split(a)):i.push(r)));let l=f(this.data,i);return(!l&&!t&&!r&&e.indexOf(".")>-1&&(e=i[0],t=i[1],r=i.slice(2).join(".")),!l&&o&&n(r))?E(this.data&&this.data[e]&&this.data[e][t],r,a):l}addResource(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,a=[e,t];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),n=t,t=a[1]),this.addNamespaces(t),d(this.data,a,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(let i in r)(n(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});i.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),n=r,r=t,t=a[1]),this.addNamespaces(t);let o=f(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?g(o,r,i):o={...o,...r},d(this.data,a,o),s.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return(t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI)?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var T={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(e=>{this.processors[e]&&(t=this.processors[e].process(t,r,n,i))}),t}};let _={};class B extends O{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),a(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=S.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;let r=this.resolve(e,t);return r&&void 0!==r.res}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");let i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=t.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!x(e,r,i);if(a&&!o){let t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:s};let n=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(n[0])>-1)&&(s=n.shift()),e=n.join(i)}return n(s)&&(s=[s]),{key:e,namespaces:s}}translate(e,t,r){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);let i=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,s=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],t),l=o[o.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&"cimode"===u.toLowerCase()){if(c){let e=t.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${e}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:`${l}${e}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:a}let d=this.resolve(e,t),h=d&&d.res,f=d&&d.usedKey||a,p=d&&d.exactUsedKey||a,g=Object.prototype.toString.apply(h),m=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,v=!n(h)&&"boolean"!=typeof h&&"number"!=typeof h;if(y&&h&&v&&0>["[object Number]","[object Function]","[object RegExp]"].indexOf(g)&&!(n(m)&&Array.isArray(h))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,h,{...t,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(d.res=e,d.usedParams=this.getUsedParamsDetails(t),d):e}if(s){let e=Array.isArray(h),r=e?[]:{},n=e?p:f;for(let e in h)if(Object.prototype.hasOwnProperty.call(h,e)){let i=`${n}${s}${e}`;r[e]=this.translate(i,{...t,joinArrays:!1,ns:o}),r[e]===i&&(r[e]=h[e])}h=r}}else if(y&&n(m)&&Array.isArray(h))(h=h.join(m))&&(h=this.extendTranslation(h,e,t,r));else{let i=!1,o=!1,c=void 0!==t.count&&!n(t.count),f=B.hasDefaultValue(t),p=c?this.pluralResolver.getSuffix(u,t.count,t):"",g=t.ordinal&&c?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",m=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),y=m&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${p}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(h)&&f&&(i=!0,h=y),this.isValidLookup(h)||(o=!0,h=a);let v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:h,b=f&&y!==h&&this.options.updateMissing;if(o||i||b){if(this.logger.log(b?"updateKey":"missingKey",u,l,a,b?y:h),s){let e=this.resolve(a,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[],r=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&r&&r[0])for(let t=0;t<r.length;t++)e.push(r[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);let n=(e,r,n)=>{let i=f&&n!==h?n:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,r,i,b,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,l,r,i,b,t),this.emit("missingKey",e,l,r,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach(e=>{let r=this.pluralResolver.getSuffixes(e,t);m&&t[`defaultValue${this.options.pluralSeparator}zero`]&&0>r.indexOf(`${this.options.pluralSeparator}zero`)&&r.push(`${this.options.pluralSeparator}zero`),r.forEach(r=>{n([e],a+r,t[`defaultValue${r}`]||y)})}):n(e,a,y))}h=this.extendTranslation(h,e,t,d,r),o&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}:${a}`),(o||i)&&this.options.parseMissingKeyHandler&&(h="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,i?h:void 0):this.options.parseMissingKeyHandler(h))}return i?(d.res=h,d.usedParams=this.getUsedParamsDetails(t),d):h}extendTranslation(e,t,r,i,s){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){let o;r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let l=n(e)&&(r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(l){let t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let u=r.replace&&!n(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,r.lng||this.language||i.usedLng,r),l){let t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(r.nest=!1)}!r.lng&&"v1"!==this.options.compatibilityAPI&&i&&i.res&&(r.lng=this.language||i.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];return s&&s[0]===n[0]&&!r.context?(a.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${t[0]}`),null):a.translate(...n,t)},r)),r.interpolation&&this.interpolator.reset()}let o=r.postProcess||this.options.postProcess,l=n(o)?[o]:o;return null!=e&&l&&l.length&&!1!==r.applyPostProcessor&&(e=T.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t,r,i,s,a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;let l=this.extractFromKey(e,o),u=l.key;r=u;let c=l.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));let d=void 0!==o.count&&!n(o.count),h=d&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),f=void 0!==o.context&&(n(o.context)||"number"==typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);c.forEach(e=>{this.isValidLookup(t)||(a=e,!_[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(_[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${r}" for languages "${p.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(r=>{let n;if(this.isValidLookup(t))return;s=r;let a=[u];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(a,u,r,e,o);else{let e;d&&(e=this.pluralResolver.getSuffix(r,o.count,o));let t=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(a.push(u+e),o.ordinal&&0===e.indexOf(n)&&a.push(u+e.replace(n,this.options.pluralSeparator)),h&&a.push(u+t)),f){let r=`${u}${this.options.contextSeparator}${o.context}`;a.push(r),d&&(a.push(r+e),o.ordinal&&0===e.indexOf(n)&&a.push(r+e.replace(n,this.options.pluralSeparator)),h&&a.push(r+t))}}for(;n=a.pop();)this.isValidLookup(t)||(i=n,t=this.getResource(r,e,n,o))}))})}),{res:t,usedKey:r,exactUsedKey:i,usedLng:s,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,n):this.resourceStore.getResource(e,t,r,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.replace&&!n(e.replace),r=t?e.replace:e;if(t&&void 0!==e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!t)for(let e of(r={...r},["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"]))delete r[e];return r}static hasDefaultValue(e){let t="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&void 0!==e[r])return!0;return!1}}let R=e=>e.charAt(0).toUpperCase()+e.slice(1);class N{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=S.create("languageUtils")}getScriptPartFromCode(e){if(!(e=k(e))||0>e.indexOf("-"))return null;let t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(!(e=k(e))||0>e.indexOf("-"))return e;let t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(n(e)&&e.indexOf("-")>-1){if("undefined"!=typeof Intl&&void 0!==Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(e){}let t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map(e=>e.toLowerCase()):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=R(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=R(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=R(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){let t;return e?(e.forEach(e=>{if(t)return;let r=this.formatLanguageCode(e);(!this.options.supportedLngs||this.isSupportedCode(r))&&(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;let r=this.getLanguagePartFromCode(e);if(this.isSupportedCode(r))return t=r;t=this.options.supportedLngs.find(e=>{if(e===r||!(0>e.indexOf("-")&&0>r.indexOf("-"))&&(e.indexOf("-")>0&&0>r.indexOf("-")&&e.substring(0,e.indexOf("-"))===r||0===e.indexOf(r)&&r.length>1))return e})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),n(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){let r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],s=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return n(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):n(e)&&s(this.formatLanguageCode(e)),r.forEach(e=>{0>i.indexOf(e)&&s(this.formatLanguageCode(e))}),i}}let F=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],L={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)},M=["v1","v2","v3"],D=["v4"],U={zero:0,one:1,two:2,few:3,many:4,other:5},j=()=>{let e={};return F.forEach(t=>{t.lngs.forEach(r=>{e[r]={numbers:t.nr,plurals:L[t.fc]}})}),e};class H{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=S.create("pluralResolver"),(!this.options.compatibilityJSON||D.includes(this.options.compatibilityJSON))&&("undefined"==typeof Intl||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=j(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{let r=k("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let s=new Intl.PluralRules(r,{type:n});return this.pluralRulesCache[i]=s,s}catch(e){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>`${t}${e}`)}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((e,t)=>U[e]-U[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):r.numbers.map(r=>this.getSuffix(e,r,t)):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.getRule(e,r);return n?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n.select(t)}`:this.getSuffixRetroCompatible(n,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){let r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),n=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));let i=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?`_plural_${n.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!M.includes(this.options.compatibilityJSON)}}let G=function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",s=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=p(e,t,r);return!a&&s&&n(r)&&void 0===(a=E(e,r,i))&&(a=E(t,r,i)),a},$=e=>e.replace(/\$/g,"$$$$");class q{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=S.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});let{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:s,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:b}=e.interpolation;this.escape=void 0!==t?t:v,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=i?m(i):s||"{{",this.suffix=a?m(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=d?m(d):h||m("$t("),this.nestingSuffix=f?m(f):p||m(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=void 0!==b&&b,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,i){let a,o,l;let u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(0>e.indexOf(this.formatSeparator)){let n=G(t,u,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(n,void 0,r,{...i,...t,interpolationkey:e}):n}let n=e.split(this.formatSeparator),s=n.shift().trim(),a=n.join(this.formatSeparator).trim();return this.format(G(t,u,s,this.options.keySeparator,this.options.ignoreJSONStructure),a,r,{...i,...t,interpolationkey:s})};this.resetRegExp();let d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>$(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?$(this.escape(e)):$(e)}].forEach(t=>{for(l=0;a=t.regex.exec(e);){let r=a[1].trim();if(void 0===(o=c(r))){if("function"==typeof d){let t=d(e,a,i);o=n(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,r))o="";else if(h){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${r} for interpolating ${e}`),o=""}else n(o)||this.useRawValueToEscape||(o=s(o));let u=t.safeValue(o);if(e=e.replace(a[0],u),h?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,++l>=this.maxReplaces)break}}),e}nest(e,t){let r,i,a,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(e,t)=>{let r=this.nestingOptionsSeparator;if(0>e.indexOf(r))return e;let n=e.split(RegExp(`${r}[ ]*{`)),i=`{${n[1]}`;e=n[0];let s=(i=this.interpolate(i,a)).match(/'/g),o=i.match(/"/g);(s&&s.length%2==0&&!o||o.length%2!=0)&&(i=i.replace(/'/g,'"'));try{a=JSON.parse(i),t&&(a={...t,...a})}catch(t){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,t),`${e}${r}${i}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let u=[];(a=(a={...o}).replace&&!n(a.replace)?a.replace:a).applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(-1!==r[0].indexOf(this.formatSeparator)&&!/{.*}/.test(r[1])){let e=r[1].split(this.formatSeparator).map(e=>e.trim());r[1]=e.shift(),u=e,c=!0}if((i=t(l.call(this,r[1].trim(),a),a))&&r[0]===e&&!n(i))return i;n(i)||(i=s(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),i=""),c&&(i=u.reduce((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:r[1].trim()}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}let z=e=>{let t=e.toLowerCase().trim(),r={};if(e.indexOf("(")>-1){let n=e.split("(");t=n[0].toLowerCase().trim();let i=n[1].substring(0,n[1].length-1);"currency"===t&&0>i.indexOf(":")?r.currency||(r.currency=i.trim()):"relativetime"===t&&0>i.indexOf(":")?r.range||(r.range=i.trim()):i.split(";").forEach(e=>{if(e){let[t,...n]=e.split(":"),i=n.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();r[s]||(r[s]=i),"false"===i&&(r[s]=!1),"true"===i&&(r[s]=!0),isNaN(i)||(r[s]=parseInt(i,10))}})}return{formatName:t,formatOptions:r}},V=e=>{let t={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});let a=n+JSON.stringify(s),o=t[a];return o||(o=e(k(n),i),t[a]=o),o(r)}};class Q{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=S.create("formatter"),this.options=e,this.formats={number:V((e,t)=>r=>new Intl.NumberFormat(e,{...t}).format(r)),currency:V((e,t)=>r=>new Intl.NumberFormat(e,{...t,style:"currency"}).format(r)),datetime:V((e,t)=>r=>new Intl.DateTimeFormat(e,{...t}).format(r)),relativetime:V((e,t)=>r=>new Intl.RelativeTimeFormat(e,{...t}).format(r,t.range||"day")),list:V((e,t)=>r=>new Intl.ListFormat(e,{...t}).format(r))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=V(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&0>i[0].indexOf(")")&&i.find(e=>e.indexOf(")")>-1)){let e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce((e,t)=>{let{formatName:i,formatOptions:s}=z(t);if(this.formats[i]){let t=e;try{let a=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},o=a.locale||a.lng||n.locale||n.lng||r;t=this.formats[i](e,o,{...s,...n,...a})}catch(e){this.logger.warn(e)}return t}return this.logger.warn(`there was no format function for ${i}`),e},e)}}let Z=(e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)};class J extends O{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=n,this.logger=S.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,n.backend,n)}queueLoad(e,t,r,n){let i={},s={},a={},o={};return e.forEach(e=>{let n=!0;t.forEach(t=>{let a=`${e}|${t}`;!r.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===s[a]&&(s[a]=!0):(this.state[a]=1,n=!1,void 0===s[a]&&(s[a]=!0),void 0===i[a]&&(i[a]=!0),void 0===o[t]&&(o[t]=!0)))}),n||(a[e]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,r){let n=e.split("|"),i=n[0],s=n[1];t&&this.emit("failedLoading",i,s,t),!t&&r&&this.store.addResourceBundle(i,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);let a={};this.queue.forEach(r=>{h(r.loaded,[i],s),Z(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{a[e]||(a[e]={});let t=r.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:s});return}this.readingCalls++;let a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){let e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}if(a&&o&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,n+1,2*i,s)},i);return}s(a,o)},o=this.backend[r].bind(this.backend);if(2===o.length){try{let r=o(e,t);r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(e){a(e)}return}return o(e,t,a)}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();n(e)&&(e=this.languageUtils.toResolveHierarchy(e)),n(t)&&(t=[t]);let s=this.queueLoad(e,t,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(r,s)=>{r&&this.logger.warn(`${t}loading namespace ${i} for language ${n} failed`,r),!r&&s&&this.logger.log(`${t}loaded namespace ${i} for language ${n}`,s),this.loaded(e,r,s)})}saveMissing(e,t,r,n,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(null!=r&&""!==r){if(this.backend&&this.backend.create){let o={...s,isUpdate:i},l=this.backend.create.bind(this.backend);if(l.length<6)try{let i;(i=5===l.length?l(e,t,r,n,o):l(e,t,r,n))&&"function"==typeof i.then?i.then(e=>a(null,e)).catch(a):a(null,i)}catch(e){a(e)}else l(e,t,r,n,a,o)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}}let K=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),n(e[1])&&(t.defaultValue=e[1]),n(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){let r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),W=e=>(n(e.ns)&&(e.ns=[e.ns]),n(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),n(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&0>e.supportedLngs.indexOf("cimode")&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),Y=()=>{},X=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(t=>{"function"==typeof e[t]&&(e[t]=e[t].bind(e))})};class ee extends O{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=W(e),this.services={},this.logger=S,this.modules={external:[]},X(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(r=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(n(t.ns)?t.defaultNS=t.ns:0>t.ns.indexOf("translation")&&(t.defaultNS=t.ns[0]));let s=K();this.options={...s,...this.options,...W(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...s.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);let a=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?S.init(a(this.modules.logger),this.options):S.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=Q);let r=new N(this.options);this.store=new C(this.options.resources,this.options);let n=this.services;n.logger=S,n.resourceStore=this.store,n.languageUtils=r,n.pluralResolver=new H(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),t&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(n.formatter=a(t),n.formatter.init(n,this.options),this.options.interpolation.format=n.formatter.format.bind(n.formatter)),n.interpolator=new q(this.options),n.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},n.backendConnector=new J(a(this.modules.backend),n.resourceStore,n,this.options),n.backendConnector.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit(t,...n)}),this.modules.languageDetector&&(n.languageDetector=a(this.modules.languageDetector),n.languageDetector.init&&n.languageDetector.init(n,this.options.detection,this.options)),this.modules.i18nFormat&&(n.i18nFormat=a(this.modules.i18nFormat),n.i18nFormat.init&&n.i18nFormat.init(this)),this.translator=new B(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Y),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});let o=i(),l=()=>{let e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),r(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,r=t,i=n(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return r();let e=[],t=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&0>e.indexOf(t)&&e.push(t)})};i?t(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e)),this.options.preload&&this.options.preload.forEach(e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,r){let n=i();return"function"==typeof e&&(r=e,e=void 0),"function"==typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Y),this.services.backendConnector.reload(e,t,e=>{n.resolve(),r(e)}),n}use(e){if(!e)throw Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&T.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let e=0;e<this.languages.length;e++){let t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;let s=i();this.emit("languageChanging",e);let a=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,n)=>{n?(a(n),this.translator.changeLanguage(n),this.isLanguageChangingTo=void 0,this.emit("languageChanged",n),this.logger.log("languageChanged",n)):this.isLanguageChangingTo=void 0,s.resolve(function(){return r.t(...arguments)}),t&&t(e,function(){return r.t(...arguments)})},l=t=>{e||t||!this.services.languageDetector||(t=[]);let r=n(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);r&&(this.language||a(r),this.translator.language||this.translator.changeLanguage(r),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(r)),this.loadResources(r,e=>{o(e,r)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e):l(this.services.languageDetector.detect()),s}getFixedT(e,t,r){var i=this;let s=function(e,t){let n,a;if("object"!=typeof t){for(var o=arguments.length,l=Array(o>2?o-2:0),u=2;u<o;u++)l[u-2]=arguments[u];n=i.options.overloadTranslationOptionHandler([e,t].concat(l))}else n={...t};n.lng=n.lng||s.lng,n.lngs=n.lngs||s.lngs,n.ns=n.ns||s.ns,""!==n.keyPrefix&&(n.keyPrefix=n.keyPrefix||r||s.keyPrefix);let c=i.options.keySeparator||".";return a=n.keyPrefix&&Array.isArray(e)?e.map(e=>`${n.keyPrefix}${c}${e}`):n.keyPrefix?`${n.keyPrefix}${c}${e}`:e,i.t(a,n)};return n(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;let s=(e,t)=>{let r=this.services.backendConnector.state[`${e}|${t}`];return -1===r||0===r||2===r};if(t.precheck){let e=t.precheck(this,s);if(void 0!==e)return e}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!n||s(i,e)))}loadNamespaces(e,t){let r=i();return this.options.ns?(n(e)&&(e=[e]),e.forEach(e=>{0>this.options.ns.indexOf(e)&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){let r=i();n(e)&&(e=[e]);let s=this.options.preload||[],a=e.filter(e=>0>s.indexOf(e)&&this.services.languageUtils.isSupportedCode(e));return a.length?(this.options.preload=s.concat(a),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){return(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),e)?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf((this.services&&this.services.languageUtils||new N(K())).getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr":"rtl"}static createInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ee(e,t)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,r=e.forkResourceStore;r&&delete e.forkResourceStore;let n={...this.options,...e,isClone:!0},i=new ee(n);return(void 0!==e.debug||void 0!==e.prefix)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new C(this.store.data,n),i.services.resourceStore=i.store),i.translator=new B(i.services,n),i.translator.on("*",function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.emit(e,...r)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}let et=ee.createInstance();et.createInstance=ee.createInstance,et.createInstance,et.dir,et.init,et.loadResources,et.reloadResources,et.use,et.changeLanguage,et.getFixedT,et.t,et.exists,et.setDefaultNamespace,et.hasLoadedNamespace,et.loadNamespaces,et.loadLanguages},3949:function(e,t,r){"use strict";let n;r.d(t,{Db:function(){return x},$G:function(){return O}});var i=r(2265);r(9917),Object.create(null);let s=(...e)=>{console?.warn&&(h(e[0])&&(e[0]=`react-i18next:: ${e[0]}`),console.warn(...e))},a={},o=(...e)=>{h(e[0])&&a[e[0]]||(h(e[0])&&(a[e[0]]=new Date),s(...e))},l=(e,t)=>()=>{if(e.isInitialized)t();else{let r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},u=(e,t,r)=>{e.loadNamespaces(t,l(e,r))},c=(e,t,r,n)=>{h(r)&&(r=[r]),r.forEach(t=>{0>e.options.ns.indexOf(t)&&e.options.ns.push(t)}),e.loadLanguages(t,l(e,n))},d=(e,t,r={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,n)=>{if(r.bindI18n?.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!n(t.isLanguageChangingTo,e))return!1}}):(o("i18n.languages were undefined or empty",t.languages),!0),h=e=>"string"==typeof e,f=e=>"object"==typeof e&&null!==e,p=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,g={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},m=e=>g[e],y={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(p,m)},v=(e={})=>{y={...y,...e}},b=()=>y,w=e=>{n=e},A=()=>n,x={type:"3rdParty",init(e){v(e.options.react),w(e)}},E=(0,i.createContext)();class k{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}let P=(e,t)=>{let r=(0,i.useRef)();return(0,i.useEffect)(()=>{r.current=t?r.current:e},[e,t]),r.current},I=(e,t,r,n)=>e.getFixedT(t,r,n),S=(e,t,r,n)=>(0,i.useCallback)(I(e,t,r,n),[e,t,r,n]),O=(e,t={})=>{let{i18n:r}=t,{i18n:n,defaultNS:s}=(0,i.useContext)(E)||{},a=r||n||A();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new k),!a){o("You will need to pass in an i18next instance by using initReactI18next");let e=(e,t)=>h(t)?t:f(t)&&h(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e,t=[e,{},!1];return t.t=e,t.i18n={},t.ready=!1,t}a.options.react?.wait&&o("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");let l={...b(),...a.options.react,...t},{useSuspense:p,keyPrefix:g}=l,m=e||s||a.options?.defaultNS;m=h(m)?[m]:m||["translation"],a.reportNamespaces.addUsedNamespaces?.(m);let y=(a.isInitialized||a.initializedStoreOnce)&&m.every(e=>d(e,a,l)),v=S(a,t.lng||null,"fallback"===l.nsMode?m:m[0],g),w=()=>v,x=()=>I(a,t.lng||null,"fallback"===l.nsMode?m:m[0],g),[O,C]=(0,i.useState)(w),T=m.join();t.lng&&(T=`${t.lng}${T}`);let _=P(T),B=(0,i.useRef)(!0);(0,i.useEffect)(()=>{let{bindI18n:e,bindI18nStore:r}=l;B.current=!0,y||p||(t.lng?c(a,t.lng,m,()=>{B.current&&C(x)}):u(a,m,()=>{B.current&&C(x)})),y&&_&&_!==T&&B.current&&C(x);let n=()=>{B.current&&C(x)};return e&&a?.on(e,n),r&&a?.store.on(r,n),()=>{B.current=!1,a&&e?.split(" ").forEach(e=>a.off(e,n)),r&&a&&r.split(" ").forEach(e=>a.store.off(e,n))}},[a,T]),(0,i.useEffect)(()=>{B.current&&y&&C(w)},[a,g,y]);let R=[O,a,y];if(R.t=O,R.i18n=a,R.ready=y,y||!y&&!p)return R;throw new Promise(e=>{t.lng?c(a,t.lng,m,()=>e()):u(a,m,()=>e())})}},9299:function(e,t,r){"use strict";let n,i;r.d(t,{ZPm:function(){return h2}});var s,a,o,l,u,c,d,h,f,p,g,m,y,v,b,w,A,x,E,k,P,I,S,O,C,T,_,B,R,N,F,L,M,D,U,j,H,G,$,q,z,V,Q={};r.r(Q),r.d(Q,{abiSchemaToJsonSchema:function(){return iU},codePointToInt:function(){return i$},ensureIfUint8Array:function(){return iW},ethAbiToJsonSchema:function(){return ij},fetchArrayElement:function(){return iH},hexToNumber:function(){return iq},hexToUint8Array:function(){return iK},numberToHex:function(){return iz},padLeft:function(){return iV},parseBaseType:function(){return iM},transformJsonDataToAbiFormat:function(){return iG},uint8ArrayToHexString:function(){return iQ}});var Z={};r.r(Z),r.d(Z,{isBatchRequest:function(){return az},isBatchResponse:function(){return aH},isResponseRpcError:function(){return aN},isResponseWithError:function(){return aL},isResponseWithNotification:function(){return aM},isResponseWithResult:function(){return aF},isSubscriptionResult:function(){return aD},isValidResponse:function(){return aj},setRequestIdStart:function(){return aG},toBatchPayload:function(){return aq},toPayload:function(){return a$},validateResponse:function(){return aU}});var J={};r.r(J),r.d(J,{ChunkResponseParser:function(){return aZ},Eip1193Provider:function(){return aK},EventEmitter:function(){return sz},SocketProvider:function(){return aX},Web3DeferredPromise:function(){return aQ},asciiToHex:function(){return sB},bytesToHex:function(){return sv},bytesToUint8Array:function(){return sm},checkAddressCheckSum:function(){return sZ},compareBlockNumbers:function(){return s2},convert:function(){return al},convertScalarValue:function(){return aa},encodePacked:function(){return aw},ethUnitMap:function(){return sp},format:function(){return au},fromAscii:function(){return sR},fromDecimal:function(){return sE},fromTwosComplement:function(){return ar},fromUtf8:function(){return sI},fromWei:function(){return sU},getStorageSlotNumForLongString:function(){return aE},hexToAscii:function(){return sN},hexToBytes:function(){return sb},hexToNumber:function(){return sw},hexToNumberString:function(){return sk},hexToString:function(){return s_},hexToUtf8:function(){return sO},isAddress:function(){return sJ},isBatchRequest:function(){return az},isBatchResponse:function(){return aH},isBloom:function(){return sK},isContractAddressInBloom:function(){return sX},isContractInitOptions:function(){return s3},isDataFormat:function(){return ai},isHex:function(){return sQ},isHexStrict:function(){return sV},isInBloom:function(){return sW},isNullish:function(){return s4},isPromise:function(){return aS},isResponseRpcError:function(){return aN},isResponseWithError:function(){return aL},isResponseWithNotification:function(){return aM},isResponseWithResult:function(){return aF},isSubscriptionResult:function(){return aD},isTopic:function(){return s0},isTopicInBloom:function(){return s1},isUint8Array:function(){return sd},isUserEthereumAddressInBloom:function(){return sY},isValidResponse:function(){return aj},jsonRpc:function(){return Z},keccak256:function(){return ad},keccak256Wrapper:function(){return ad},leftPad:function(){return ae},mergeDeep:function(){return s6},numberToHex:function(){return sx},padLeft:function(){return s5},padRight:function(){return s9},pollTillDefined:function(){return aT},pollTillDefinedAndReturnIntervalId:function(){return aC},processSolidityEncodePackedArgs:function(){return ab},randomBytes:function(){return ak},randomHex:function(){return aP},rejectIfConditionAtInterval:function(){return aB},rejectIfTimeout:function(){return a_},rightPad:function(){return s7},setRequestIdStart:function(){return aG},sha3:function(){return ah},sha3Raw:function(){return af},soliditySha3:function(){return aA},soliditySha3Raw:function(){return ax},stringToHex:function(){return sS},toAscii:function(){return sF},toBatchPayload:function(){return aq},toBigInt:function(){return sD},toBool:function(){return sG},toChecksumAddress:function(){return sH},toDecimal:function(){return sA},toHex:function(){return sL},toNumber:function(){return sM},toPayload:function(){return a$},toTwosComplement:function(){return at},toUtf8:function(){return sC},toWei:function(){return sj},uint8ArrayConcat:function(){return sh},uint8ArrayEquals:function(){return sf},utf8ToBytes:function(){return sT},utf8ToHex:function(){return sP},uuidV4:function(){return aR},validateResponse:function(){return aU},waitWithTimeout:function(){return aO}});var K={};r.r(K),r.d(K,{gk:function(){return o$},dQ:function(){return o2},ci:function(){return oz},bytesToNumberBE:function(){return oK},ty:function(){return oW},eV:function(){return o1},n$:function(){return o8},ql:function(){return o0},hexToBytes:function(){return oJ},_t:function(){return oG},tL:function(){return oY},S5:function(){return oX},FF:function(){return o5}});var W={};r.r(W),r.d(W,{secp256k1:function(){return lS}}),(s=E||(E={})).NUMBER="NUMBER_NUMBER",s.HEX="NUMBER_HEX",s.STR="NUMBER_STR",s.BIGINT="NUMBER_BIGINT",(a=k||(k={})).HEX="BYTES_HEX",a.UINT8ARRAY="BYTES_UINT8ARRAY";let Y={number:E.BIGINT,bytes:k.HEX},X={number:E.HEX,bytes:k.HEX};(o=P||(P={})).EARLIEST="earliest",o.LATEST="latest",o.PENDING="pending",o.SAFE="safe",o.FINALIZED="finalized",o.COMMITTED="committed",(l=I||(I={})).chainstart="chainstart",l.frontier="frontier",l.homestead="homestead",l.dao="dao",l.tangerineWhistle="tangerineWhistle",l.spuriousDragon="spuriousDragon",l.byzantium="byzantium",l.constantinople="constantinople",l.petersburg="petersburg",l.istanbul="istanbul",l.muirGlacier="muirGlacier",l.berlin="berlin",l.london="london",l.altair="altair",l.arrowGlacier="arrowGlacier",l.grayGlacier="grayGlacier",l.bellatrix="bellatrix",l.merge="merge",l.capella="capella",l.shanghai="shanghai";let ee=Object.getPrototypeOf(Uint8Array);var et=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let er=Symbol.for("web3/base-provider");class en{static isWeb3Provider(e){return e instanceof en||!!(e&&e[er])}get[er](){return!0}send(e,t){this.request(e).then(e=>{t(null,e)}).catch(e=>{t(e)})}sendAsync(e){return et(this,void 0,void 0,function*(){return this.request(e)})}asEIP1193Provider(){let e=Object.create(this),t=e.request;return e.request=function(e){return et(this,void 0,void 0,function*(){return(yield t(e)).result})},e.asEIP1193Provider=void 0,e}}class ei extends Array{constructor(e){super(),this._accountProvider=e}}class es extends Error{constructor(e,t){super(e),Array.isArray(t)?this.cause=new ea(t):this.cause=t,this.name=this.constructor.name,"function"==typeof Error.captureStackTrace?Error.captureStackTrace(new.target.constructor):this.stack=Error().stack}get innerError(){return this.cause instanceof ea?this.cause.errors:this.cause}set innerError(e){Array.isArray(e)?this.cause=new ea(e):this.cause=e}static convertToString(e,t=!1){if(null==e)return"undefined";let r=JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t);return t&&["bigint","string"].includes(typeof e)?r.replace(/['\\"]+/g,""):r}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:this.cause,innerError:this.cause}}}class ea extends es{constructor(e){super(`Multiple errors occurred: [${e.map(e=>e.message).join("], [")}]`),this.code=208,this.errors=e}}class eo extends es{constructor(e,t){super(`Invalid value given "${es.convertToString(e,!0)}". Error: ${t}.`),this.name=this.constructor.name}}class el extends es{constructor(){super("Private key must be 32 bytes."),this.code=701}}class eu extends es{constructor(){super("Invalid Private Key, Not a valid string or uint8Array"),this.code=702}}class ec extends es{constructor(e){super(`"${e}"`),this.code=802}}class ed extends es{constructor(){super("Invalid key derivation function"),this.code=703}}class eh extends es{constructor(){super("Key derivation failed - possibly wrong password"),this.code=704}}class ef extends es{constructor(){super("Unsupported key store version"),this.code=705}}class ep extends es{constructor(){super("Password cannot be empty"),this.code=706}}class eg extends es{constructor(){super("Initialization vector must be 16 bytes"),this.code=707}}class em extends es{constructor(){super("c > 1000, pbkdf2 is less secure with less iterations"),this.code=709}}class ey extends es{constructor(e,t){super(e),this.code=500,t&&(this.errorCode=t.code,this.errorReason=t.reason)}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{errorCode:this.errorCode,errorReason:this.errorReason})}}class ev extends ey{constructor(e){super("Connection not open",e),this.code=503}}class eb extends ey{constructor(e){super(`Maximum number of reconnect attempts reached! (${e})`),this.code=505}}class ew extends ey{constructor(){super("CONNECTION ERROR: Provider started to reconnect before the response got received!"),this.code=506}}class eA extends ey{constructor(e){super(`Request already sent with following id: ${e}`),this.code=507}}class ex extends es{constructor(e,t){super(e),this.code=300,this.receipt=t}}class eE extends es{constructor(e,t){super(`The resolver at ${e} does not implement requested method: "${t}".`),this.address=e,this.name=t,this.code=301}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{address:this.address,name:this.name})}}class ek extends ex{constructor(e){if(super(e.message||"Error"),this.name="name"in e&&e.name||this.constructor.name,this.stack="stack"in e&&e.stack||void 0,this.code=e.code,"object"==typeof e.data){let t;t=e.data&&"originalError"in e.data?e.data.originalError:e.data,this.data=t.data,this.cause=new ek(t)}else this.data=e.data}setDecodedProperties(e,t,r){this.errorName=e,this.errorSignature=t,this.errorArgs=r}toJSON(){let e=Object.assign(Object.assign({},super.toJSON()),{data:this.data});return this.errorName&&(e=Object.assign(Object.assign({},e),{errorName:this.errorName,errorSignature:this.errorSignature,errorArgs:this.errorArgs})),e}}class eP extends ex{constructor(e){super("Error happened while trying to execute a function inside a smart contract"),this.code=310,this.cause=new ek(e)}}class eI extends eo{constructor(e){var t,r;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(r=e.input)&&void 0!==r?r:"undefined"}`,'You can\'t have "data" and "input" as properties of a contract at the same time, please use either "data" or "input" instead.'),this.code=311}}class eS extends es{constructor(e){super(`ENS is not supported on network ${e}`),this.code=902}}class eO extends es{constructor(){super("Network not synced"),this.code=903}}class eC extends es{constructor(e){super(`Invalid parameters passed. "${void 0!==e?e:""}"`),this.hint=e,this.code=207}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{hint:this.hint})}}class eT extends es{constructor(){super(...arguments),this.code=201}}class e_ extends es{constructor(){super("The method you're trying to call is not implemented."),this.code=202}}class eB extends es{constructor(){super(...arguments),this.code=203}}class eR extends es{constructor(){super(...arguments),this.code=204}}class eN extends es{constructor(e,t){super(e),this.code=205,this.props=null!=t?t:{}}}class eF extends es{constructor(e){super(`A plugin with the namespace: ${e} has already been registered.`),this.code=206}}class eL extends es{constructor(){super(...arguments),this.code=600}}class eM extends es{constructor(e){super(`Client URL "${e}" is invalid.`),this.code=602}}class eD extends es{constructor(){super(...arguments),this.code=603}}class eU extends es{constructor(){super(...arguments),this.code=604}}class ej extends eo{constructor(){super(...arguments),this.code=801}}class eH extends es{constructor(e,t){super(e),this.receipt=t,this.code=400}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{receipt:this.receipt})}}class eG extends es{constructor(e,t,r,n){super(`Transaction has been reverted by the EVM${void 0===r?"":`:
 ${es.convertToString(r)}`}`),this.reason=e,this.signature=t,this.receipt=r,this.data=n,this.code=402}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,signature:this.signature,receipt:this.receipt,data:this.data})}}class e$ extends eG{constructor(e,t,r,n,i,s,a){super(e),this.reason=e,this.customErrorName=t,this.customErrorDecodedSignature=r,this.customErrorArguments=n,this.signature=i,this.receipt=s,this.data=a,this.code=438}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{reason:this.reason,customErrorName:this.customErrorName,customErrorDecodedSignature:this.customErrorDecodedSignature,customErrorArguments:this.customErrorArguments,signature:this.signature,receipt:this.receipt,data:this.data})}}class eq extends eH{constructor(e){super(`Transaction has been reverted by the EVM${void 0===e?"":`:
 ${es.convertToString(e)}`}`,e),this.code=405}}class ez extends eH{constructor(){super("Raw transaction undefined"),this.code=407}}class eV extends eH{constructor(){super("Transaction not found"),this.code=430}}class eQ extends eo{constructor(e){super(e,"invalid transaction with invalid sender"),this.code=408}}class eZ extends eo{constructor(e){super(e,"invalid transaction with invalid receiver"),this.code=437}}class eJ extends eo{constructor(){super("MissingCustomChainError","If tx.common is provided it must have tx.common.customChain"),this.code=410}}class eK extends eo{constructor(){super("MissingCustomChainIdError","If tx.common is provided it must have tx.common.customChain and tx.common.customChain.chainId"),this.code=411}}class eW extends eo{constructor(e){super(JSON.stringify(e),"Chain Id doesnt match in tx.chainId tx.common.customChain.chainId"),this.code=412}}class eY extends eo{constructor(e){super(JSON.stringify(e),"Chain doesnt match in tx.chain tx.common.basechain"),this.code=435}}class eX extends eo{constructor(e){super(JSON.stringify(e),"hardfork doesnt match in tx.hardfork tx.common.hardfork"),this.code=436}}class e0 extends eo{constructor(){super("CommonOrChainAndHardforkError","Please provide the common object or the chain and hardfork property but not all together."),this.code=413}}class e1 extends eo{constructor(e){var t,r;super("MissingChainOrHardforkError",`When specifying chain and hardfork, both values must be defined. Received "chain": ${null!==(t=e.chain)&&void 0!==t?t:"undefined"}, "hardfork": ${null!==(r=e.hardfork)&&void 0!==r?r:"undefined"}`),this.code=414}}class e2 extends es{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions'),this.code=440}}class e3 extends eo{constructor(e){var t,r,n,i;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"}, maxPriorityFeePerGas: ${null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:"undefined"}, maxFeePerGas: ${null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"}`,'"gas" is missing'),this.code=415,this.cause=new e2}}class e4 extends es{constructor(){super('Missing properties in transaction, either define "gas" and "gasPrice" for type 0 transactions or "gas", "maxPriorityFeePerGas" and "maxFeePerGas" for type 2 transactions, not both'),this.code=441}}class e8 extends eo{constructor(e){var t,r,n,i;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"}, maxPriorityFeePerGas: ${null!==(n=e.maxPriorityFeePerGas)&&void 0!==n?n:"undefined"}, maxFeePerGas: ${null!==(i=e.maxFeePerGas)&&void 0!==i?i:"undefined"}`,"transaction must specify legacy or fee market gas properties, not both"),this.code=434,this.cause=new e4}}class e6 extends eo{constructor(e){var t,r;super(`gas: ${null!==(t=e.gas)&&void 0!==t?t:"undefined"}, gasPrice: ${null!==(r=e.gasPrice)&&void 0!==r?r:"undefined"}`,"Gas or gasPrice is lower than 0"),this.code=416}}class e5 extends eo{constructor(e){var t,r;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(r=e.maxFeePerGas)&&void 0!==r?r:"undefined"}`,"maxPriorityFeePerGas or maxFeePerGas is lower than 0"),this.code=417}}class e9 extends eo{constructor(e){super(e,"eip-1559 transactions don't support gasPrice"),this.code=418}}class e7 extends eo{constructor(e){var t,r;super(`maxPriorityFeePerGas: ${null!==(t=e.maxPriorityFeePerGas)&&void 0!==t?t:"undefined"}, maxFeePerGas: ${null!==(r=e.maxFeePerGas)&&void 0!==r?r:"undefined"}`,"pre-eip-1559 transaction don't support maxFeePerGas/maxPriorityFeePerGas"),this.code=419}}class te extends eo{constructor(e){super(e,"invalid transaction object"),this.code=420}}class tt extends eo{constructor(e){var t,r;super(`nonce: ${null!==(t=e.nonce)&&void 0!==t?t:"undefined"}, chainId: ${null!==(r=e.chainId)&&void 0!==r?r:"undefined"}`,"Nonce or chainId is lower than 0"),this.code=421}}class tr extends eo{constructor(){super("UnableToPopulateNonceError","unable to populate nonce, no from address available"),this.code=422}}class tn extends eo{constructor(){super("Eip1559NotSupportedError","Network doesn't support eip-1559"),this.code=423}}class ti extends eo{constructor(e){super(e,"unsupported transaction type"),this.code=424}}class ts extends eo{constructor(e){var t,r;super(`data: ${null!==(t=e.data)&&void 0!==t?t:"undefined"}, input: ${null!==(r=e.input)&&void 0!==r?r:"undefined"}`,'You can\'t have "data" and "input" as properties of transactions at the same time, please use either "data" or "input" instead.'),this.code=425}}class ta extends es{constructor(e){super(`The connected Ethereum Node did not respond within ${e.numberOfSeconds} seconds, please make sure your transaction was properly sent and you are connected to a healthy Node. Be aware that transaction might still be pending or mined!
	Transaction Hash: ${e.transactionHash?e.transactionHash.toString():"not available"}`),this.code=431}}function to(e){return`Please make sure your transaction was properly sent and there are no previous pending transaction for the same account. However, be aware that it might still be mined!
	Transaction Hash: ${e?e.toString():"not available"}`}class tl extends es{constructor(e){super(`Transaction was not mined within ${e.numberOfSeconds} seconds. ${to(e.transactionHash)}`),this.code=426}}class tu extends es{constructor(e){super(`Transaction started at ${e.starterBlockNumber} but was not mined within ${e.numberOfBlocks} blocks. ${to(e.transactionHash)}`),this.code=432}}class tc extends eo{constructor(e){var t,r;super(`receipt: ${JSON.stringify(e.receipt)}, blockHash: ${null===(t=e.blockHash)||void 0===t?void 0:t.toString()}, transactionHash: ${null===(r=e.transactionHash)||void 0===r?void 0:r.toString()}`,"Receipt missing or blockHash null"),this.code=427}}class td extends eo{constructor(e){super(`receipt: ${JSON.stringify(e.receipt)}`,"Receipt missing block number"),this.code=428}}class th extends es{constructor(e){super(`Invalid signature. "${e}"`),this.code=433}}class tf extends eo{constructor(){super("LocalWalletNotAvailableError","Attempted to index account in local wallet, but no wallet is available"),this.code=429}}class tp extends es{constructor(e,t){let r=[];e.forEach(e=>r.push(e.keyword)),super(`The following properties are invalid for the transaction type ${t}: ${r.join(", ")}`),this.code=439}}class tg extends eo{constructor(e){super(e,"can not parse as byte data"),this.code=1002}}class tm extends eo{constructor(e){super(e,"can not parse as number data"),this.code=1003}}class ty extends eo{constructor(e){super(e,"invalid ethereum address"),this.code=1005}}class tv extends eo{constructor(e){super(e,"not a valid string"),this.code=1001}}class tb extends eo{constructor(e){super(e,"invalid unit"),this.code=1004}}class tw extends eo{constructor(e){super(e,"not a valid unit. Must be a positive integer"),this.code=1015}}class tA extends eo{constructor(e){super(e,"can not be converted to hex"),this.code=1006}}class tx extends eo{constructor(e){super(e,"value greater than the nibble width"),this.code=1014}}class tE extends eo{constructor(e){super(e,"not a valid boolean."),this.code=1008}}class tk extends eo{constructor(e){super(e,"not a valid unsigned integer."),this.code=1009}}class tP extends eo{constructor(e){super(e,"invalid size given."),this.code=1010}}class tI extends eo{constructor(e){super(e,"value is larger than size."),this.code=1011}}class tS extends eo{constructor(e){super(e,"invalid string given"),this.code=1012}}let tO=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&(void 0===e.result||null===e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),tC=e=>tO(e)?e.error.message:"";class tT extends es{constructor(e,t,r,n){var i;let s;super(null!=t?t:`Returned error: ${Array.isArray(e)?e.map(e=>tC(e)).join(","):tC(e)}`),this.code=100,t||(this.data=Array.isArray(e)?e.map(e=>{var t;return null===(t=e.error)||void 0===t?void 0:t.data}):null===(i=null==e?void 0:e.error)||void 0===i?void 0:i.data),this.statusCode=n,this.request=r,"error"in e?s=e.error:e instanceof Array&&(s=e.filter(e=>e.error).map(e=>e.error)),Array.isArray(s)&&s.length>0?this.cause=new ea(s):this.cause=s}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{data:this.data,request:this.request,statusCode:this.statusCode})}}class t_ extends tT{constructor(e,t){let r;super(e,void 0,t),this.code=101,"error"in e?r=e.error:e instanceof Array&&(r=e.map(e=>e.error)),Array.isArray(r)?this.cause=new ea(r):this.cause=r}}class tB extends es{constructor(e,t){super(`Web3Config hardfork doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}class tR extends es{constructor(e,t){super(`Web3Config chain doesnt match in defaultHardfork ${e} and common.hardfork ${t}`),this.code=1101}}let tN="An Rpc error has occured with a code of *code*",tF={[-32700]:{message:"Parse error",description:"Invalid JSON"},[-32600]:{message:"Invalid request",description:"JSON is not a valid request object	"},[-32601]:{message:"Method not found",description:"Method does not exist	"},[-32602]:{message:"Invalid params",description:"Invalid method parameters"},[-32603]:{message:"Internal error",description:"Internal JSON-RPC error"},[-32e3]:{message:"Invalid input",description:"Missing or invalid parameters"},[-32001]:{message:"Resource not found",description:"Requested resource not found"},[-32002]:{message:"Resource unavailable",description:"Requested resource not available"},[-32003]:{message:"Transaction rejected",description:"Transaction creation failed"},[-32004]:{message:"Method not supported",description:"Method is not implemented"},[-32005]:{message:"Limit exceeded",description:"Request exceeds defined limit"},[-32006]:{message:"JSON-RPC version not supported",description:"Version of JSON-RPC protocol is not supported"},4001:{name:"User Rejected Request",message:"The user rejected the request."},4100:{name:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},4200:{name:"Unsupported Method",message:"The Provider does not support the requested method."},4900:{name:"Disconnected",message:"The Provider is disconnected from all chains."},4901:{name:"Chain Disconnected",message:"The Provider is not connected to the requested chain."},"0-999":{name:"",message:"Not used."},1e3:{name:"Normal Closure",message:"The connection successfully completed the purpose for which it was created."},1001:{name:"Going Away",message:"The endpoint is going away, either because of a server failure or because the browser is navigating away from the page that opened the connection."},1002:{name:"Protocol error",message:"The endpoint is terminating the connection due to a protocol error."},1003:{name:"Unsupported Data",message:"The connection is being terminated because the endpoint received data of a type it cannot accept. (For example, a text-only endpoint received binary data.)"},1004:{name:"Reserved",message:"Reserved. A meaning might be defined in the future."},1005:{name:"No Status Rcvd",message:"Reserved. Indicates that no status code was provided even though one was expected."},1006:{name:"Abnormal Closure",message:"Reserved. Indicates that a connection was closed abnormally (that is, with no close frame being sent) when a status code is expected."},1007:{name:"Invalid frame payload data",message:"The endpoint is terminating the connection because a message was received that contained inconsistent data (e.g., non-UTF-8 data within a text message)."},1008:{name:"Policy Violation",message:"The endpoint is terminating the connection because it received a message that violates its policy. This is a generic status code, used when codes 1003 and 1009 are not suitable."},1009:{name:"Message Too Big",message:"The endpoint is terminating the connection because a data frame was received that is too large."},1010:{name:"Mandatory Ext.",message:"The client is terminating the connection because it expected the server to negotiate one or more extension, but the server didn't."},1011:{name:"Internal Error",message:"The server is terminating the connection because it encountered an unexpected condition that prevented it from fulfilling the request."},1012:{name:"Service Restart",message:"The server is terminating the connection because it is restarting."},1013:{name:"Try Again Later",message:"The server is terminating the connection due to a temporary condition, e.g. it is overloaded and is casting off some of its clients."},1014:{name:"Bad Gateway",message:"The server was acting as a gateway or proxy and received an invalid response from the upstream server. This is similar to 502 HTTP Status Code."},1015:{name:"TLS handshake",message:"Reserved. Indicates that the connection was closed due to a failure to perform a TLS handshake (e.g., the server certificate can't be verified)."},"1016-2999":{name:"",message:"For definition by future revisions of the WebSocket Protocol specification, and for definition by extension specifications."},"3000-3999":{name:"",message:"For use by libraries, frameworks, and applications. These status codes are registered directly with IANA. The interpretation of these codes is undefined by the WebSocket protocol."},"4000-4999":{name:"",message:"For private use, and thus can't be registered. Such codes can be used by prior agreements between WebSocket applications. The interpretation of these codes is undefined by the WebSocket protocol."}};class tL extends es{constructor(e,t){super(null!=t?t:tN.replace("*code*",e.error.code.toString())),this.code=e.error.code,this.id=e.id,this.jsonrpc=e.jsonrpc,this.jsonRpcError=e.error}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{error:this.jsonRpcError,id:this.id,jsonRpc:this.jsonrpc})}}class tM extends es{constructor(e,t){var r,n,i,s;if(e){if(null===(r=tF[e])||void 0===r?void 0:r.message)super(tF[e].message);else{let t=Object.keys(tF).find(t=>"string"==typeof t&&e>=parseInt(t.split("-")[0],10)&&e<=parseInt(t.split("-")[1],10));super(null!==(i=null===(n=tF[null!=t?t:""])||void 0===n?void 0:n.message)&&void 0!==i?i:tN.replace("*code*",null!==(s=null==e?void 0:e.toString())&&void 0!==s?s:'""'))}}else super();this.code=e,this.data=t}}class tD extends tL{constructor(e){super(e,tF[-32700].message),this.code=-32700}}class tU extends tL{constructor(e){super(e,tF[-32600].message),this.code=-32600}}class tj extends tL{constructor(e){super(e,tF[-32601].message),this.code=-32601}}class tH extends tL{constructor(e){super(e,tF[-32602].message),this.code=-32602}}class tG extends tL{constructor(e){super(e,tF[-32603].message),this.code=-32603}}class t$ extends tL{constructor(e){super(e,tF[-32e3].message),this.code=-32e3}}class tq extends tL{constructor(e){super(e,tF[-32004].message),this.code=-32004}}class tz extends tL{constructor(e){super(e,tF[-32002].message),this.code=-32002}}class tV extends tL{constructor(e){super(e,tF[-32001].message),this.code=-32001}}class tQ extends tL{constructor(e){super(e,tF[-32006].message),this.code=-32006}}class tZ extends tL{constructor(e){super(e,tF[-32003].message),this.code=-32003}}class tJ extends tL{constructor(e){super(e,tF[-32005].message),this.code=-32005}}let tK=new Map;tK.set(-32700,{error:tD}),tK.set(-32600,{error:tU}),tK.set(-32601,{error:tj}),tK.set(-32602,{error:tH}),tK.set(-32603,{error:tG}),tK.set(-32e3,{error:t$}),tK.set(-32004,{error:tq}),tK.set(-32002,{error:tz}),tK.set(-32003,{error:tZ}),tK.set(-32001,{error:tV}),tK.set(-32006,{error:tQ}),tK.set(-32005,{error:tJ});class tW extends es{constructor(e){super(`Format for the type ${e} is unsupported`),this.type=e,this.code=1200}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{type:this.type})}}function tY(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`positive integer expected, not ${e}`)}function tX(e,...t){if(!(e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name))throw Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function t0(e){if("function"!=typeof e||"function"!=typeof e.create)throw Error("Hash should be wrapped by utils.wrapConstructor");tY(e.outputLen),tY(e.blockLen)}function t1(e,t=!0){if(e.destroyed)throw Error("Hash instance has been destroyed");if(t&&e.finished)throw Error("Hash#digest() has already been called")}function t2(e,t){tX(e);let r=t.outputLen;if(e.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}let t3=BigInt(4294967296-1),t4=BigInt(32);function t8(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){let{h:s,l:a}=function(e,t=!1){return t?{h:Number(e&t3),l:Number(e>>t4&t3)}:{h:0|Number(e>>t4&t3),l:0|Number(e&t3)}}(e[i],t);[r[i],n[i]]=[s,a]}return[r,n]}let t6=(e,t,r)=>e<<r|t>>>32-r,t5=(e,t,r)=>t<<r|e>>>32-r,t9=(e,t,r)=>t<<r-32|e>>>64-r,t7=(e,t,r)=>e<<r-32|t>>>64-r;var re={split:t8,shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,add:function(e,t,r,n){let i=(t>>>0)+(n>>>0);return{h:e+r+(i/4294967296|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/4294967296|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/4294967296|0)|0,add5H:(e,t,r,n,i,s)=>t+r+n+i+s+(e/4294967296|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let rt="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,rr=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),rn=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),ri=(e,t)=>e<<32-t|e>>>t,rs=(e,t)=>e<<t|e>>>32-t>>>0,ra=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],ro=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255;function rl(e){for(let t=0;t<e.length;t++)e[t]=ro(e[t])}function ru(e){if("string"!=typeof e)throw Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function rc(e){return"string"==typeof e&&(e=ru(e)),tX(e),e}function rd(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];tX(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}class rh{clone(){return this._cloneInto()}}let rf={}.toString;function rp(e,t){if(void 0!==t&&"[object Object]"!==rf.call(t))throw Error("Options should be object or undefined");return Object.assign(e,t)}function rg(e){let t=t=>e().update(rc(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function rm(e=32){if(rt&&"function"==typeof rt.getRandomValues)return rt.getRandomValues(new Uint8Array(e));throw Error("crypto.getRandomValues must be defined")}let ry=[],rv=[],rb=[],rw=BigInt(0),rA=BigInt(1),rx=BigInt(2),rE=BigInt(7),rk=BigInt(256),rP=BigInt(113);for(let e=0,t=rA,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],ry.push(2*(5*n+r)),rv.push((e+1)*(e+2)/2%64);let i=rw;for(let e=0;e<7;e++)(t=(t<<rA^(t>>rE)*rP)%rk)&rx&&(i^=rA<<(rA<<BigInt(e))-rA);rb.push(i)}let[rI,rS]=t8(rb,!0),rO=(e,t,r)=>r>32?t9(e,t,r):t6(e,t,r),rC=(e,t,r)=>r>32?t7(e,t,r):t5(e,t,r);class rT extends rh{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tY(r),0>=this.blockLen||this.blockLen>=200)throw Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=rr(this.state)}keccak(){ra||rl(this.state32),function(e,t=24){let r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let t=0;t<10;t++)r[t]=e[t]^e[t+10]^e[t+20]^e[t+30]^e[t+40];for(let t=0;t<10;t+=2){let n=(t+8)%10,i=(t+2)%10,s=r[i],a=r[i+1],o=rO(s,a,1)^r[n],l=rC(s,a,1)^r[n+1];for(let r=0;r<50;r+=10)e[t+r]^=o,e[t+r+1]^=l}let t=e[2],i=e[3];for(let r=0;r<24;r++){let n=rv[r],s=rO(t,i,n),a=rC(t,i,n),o=ry[r];t=e[o],i=e[o+1],e[o]=s,e[o+1]=a}for(let t=0;t<50;t+=10){for(let n=0;n<10;n++)r[n]=e[t+n];for(let n=0;n<10;n++)e[t+n]^=~r[(n+2)%10]&r[(n+4)%10]}e[0]^=rI[n],e[1]^=rS[n]}r.fill(0)}(this.state32,this.rounds),ra||rl(this.state32),this.posOut=0,this.pos=0}update(e){t1(this);let{blockLen:t,state:r}=this,n=(e=rc(e)).length;for(let i=0;i<n;){let s=Math.min(t-this.pos,n-i);for(let t=0;t<s;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,(128&t)!=0&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){t1(this,!1),tX(e),this.finish();let t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();let s=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+s),n),this.posOut+=s,n+=s}return e}xofInto(e){if(!this.enableXOF)throw Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tY(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(t2(e,this),this.finished)throw Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){let{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:s}=this;return e||(e=new rT(t,r,n,s,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=s,e.destroyed=this.destroyed,e}}let r_=(e,t,r)=>rg(()=>new rT(t,e,r)),rB=r_(1,144,28),rR=r_(1,136,32),rN=r_(1,104,48),rF=r_(1,72,64);function rL(e){if(!(e instanceof Uint8Array))throw TypeError(`bytesToUtf8 expected Uint8Array, got ${typeof e}`);return new TextDecoder().decode(e)}function rM(e){return t=>(tX(t),e(t))}(()=>{let e="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,t="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);return t&&!e?t("crypto"):void 0})(),rM(rB);let rD=(()=>{let e=rM(rR);return e.create=rR.create,e})();rM(rN),rM(rF),(u=S||(S={})).assertEqual=e=>e,u.assertIs=function(e){},u.assertNever=function(e){throw Error()},u.arrayToEnum=e=>{let t={};for(let r of e)t[r]=r;return t},u.getValidEnumValues=e=>{let t=u.objectKeys(e).filter(t=>"number"!=typeof e[e[t]]),r={};for(let n of t)r[n]=e[n];return u.objectValues(r)},u.objectValues=e=>u.objectKeys(e).map(function(t){return e[t]}),u.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t},u.find=(e,t)=>{for(let r of e)if(t(r))return r},u.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,u.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},u.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t,(O||(O={})).mergeShapes=(e,t)=>({...e,...t});let rU=S.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rj=e=>{switch(typeof e){case"undefined":return rU.undefined;case"string":return rU.string;case"number":return isNaN(e)?rU.nan:rU.number;case"boolean":return rU.boolean;case"function":return rU.function;case"bigint":return rU.bigint;case"symbol":return rU.symbol;case"object":if(Array.isArray(e))return rU.array;if(null===e)return rU.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return rU.promise;if("undefined"!=typeof Map&&e instanceof Map)return rU.map;if("undefined"!=typeof Set&&e instanceof Set)return rU.set;if("undefined"!=typeof Date&&e instanceof Date)return rU.date;return rU.object;default:return rU.unknown}},rH=S.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class rG extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){let t=e||function(e){return e.message},r={_errors:[]},n=e=>{for(let i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(n);else if("invalid_return_type"===i.code)n(i.returnTypeError);else if("invalid_arguments"===i.code)n(i.argumentsError);else if(0===i.path.length)r._errors.push(t(i));else{let e=r,n=0;for(;n<i.path.length;){let r=i.path[n];n===i.path.length-1?(e[r]=e[r]||{_errors:[]},e[r]._errors.push(t(i))):e[r]=e[r]||{_errors:[]},e=e[r],n++}}};return n(this),r}static assert(e){if(!(e instanceof rG))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,S.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},r=[];for(let n of this.issues)n.path.length>0?(t[n.path[0]]=t[n.path[0]]||[],t[n.path[0]].push(e(n))):r.push(e(n));return{formErrors:r,fieldErrors:t}}get formErrors(){return this.flatten()}}rG.create=e=>new rG(e);let r$=(e,t)=>{let r;switch(e.code){case rH.invalid_type:r=e.received===rU.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case rH.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,S.jsonStringifyReplacer)}`;break;case rH.unrecognized_keys:r=`Unrecognized key(s) in object: ${S.joinValues(e.keys,", ")}`;break;case rH.invalid_union:r="Invalid input";break;case rH.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${S.joinValues(e.options)}`;break;case rH.invalid_enum_value:r=`Invalid enum value. Expected ${S.joinValues(e.options)}, received '${e.received}'`;break;case rH.invalid_arguments:r="Invalid function arguments";break;case rH.invalid_return_type:r="Invalid function return type";break;case rH.invalid_date:r="Invalid date";break;case rH.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:S.assertNever(e.validation):r="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case rH.too_small:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case rH.too_big:r="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case rH.custom:r="Invalid input";break;case rH.invalid_intersection_types:r="Intersection results could not be merged";break;case rH.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case rH.not_finite:r="Number must be finite";break;default:r=t.defaultError,S.assertNever(e)}return{message:r}},rq=r$;function rz(){return rq}let rV=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],a={...i,path:s};if(void 0!==i.message)return{...i,path:s,message:i.message};let o="";for(let e of n.filter(e=>!!e).slice().reverse())o=e(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function rQ(e,t){let r=rz(),n=rV({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===r$?void 0:r$].filter(e=>!!e)});e.common.issues.push(n)}class rZ{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let r=[];for(let n of t){if("aborted"===n.status)return rJ;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){let r=[];for(let e of t){let t=await e.key,n=await e.value;r.push({key:t,value:n})}return rZ.mergeObjectSync(e,r)}static mergeObjectSync(e,t){let r={};for(let n of t){let{key:t,value:i}=n;if("aborted"===t.status||"aborted"===i.status)return rJ;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==i.value||n.alwaysSet)&&(r[t.value]=i.value)}return{status:e.value,value:r}}}let rJ=Object.freeze({status:"aborted"}),rK=e=>({status:"dirty",value:e}),rW=e=>({status:"valid",value:e}),rY=e=>"aborted"===e.status,rX=e=>"dirty"===e.status,r0=e=>"valid"===e.status,r1=e=>"undefined"!=typeof Promise&&e instanceof Promise;function r2(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function r3(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r}"function"==typeof SuppressedError&&SuppressedError,(c=C||(C={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},c.toString=e=>"string"==typeof e?e:null==e?void 0:e.message;class r4{constructor(e,t,r,n){this._cachedPath=[],this.parent=e,this.data=t,this._path=r,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let r8=(e,t)=>{if(r0(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new rG(e.common.issues);return this._error=t,this._error}}};function r6(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var s,a;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:i.defaultError}:void 0===i.data?{message:null!==(s=null!=o?o:n)&&void 0!==s?s:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!=o?o:r)&&void 0!==a?a:i.defaultError}},description:i}}class r5{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return rj(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:rj(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new rZ,ctx:{common:e.parent.common,data:e.data,parsedType:rj(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(r1(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let r=this.safeParse(e,t);if(r.success)return r.data;throw r.error}safeParse(e,t){var r;let n={common:{issues:[],async:null!==(r=null==t?void 0:t.async)&&void 0!==r&&r,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rj(e)},i=this._parseSync({data:e,path:n.path,parent:n});return r8(n,i)}async parseAsync(e,t){let r=await this.safeParseAsync(e,t);if(r.success)return r.data;throw r.error}async safeParseAsync(e,t){let r={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rj(e)},n=this._parse({data:e,path:r.path,parent:r});return r8(r,await (r1(n)?n:Promise.resolve(n)))}refine(e,t){let r=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,n)=>{let i=e(t),s=()=>n.addIssue({code:rH.custom,...r(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(s(),!1)):!!i||(s(),!1)})}refinement(e,t){return this._refinement((r,n)=>!!e(r)||(n.addIssue("function"==typeof t?t(r,n):t),!1))}_refinement(e){return new nH({schema:this,typeName:B.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return nG.create(this,this._def)}nullable(){return n$.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return nk.create(this,this._def)}promise(){return nj.create(this,this._def)}or(e){return nI.create([this,e],this._def)}and(e){return nC.create(this,e,this._def)}transform(e){return new nH({...r6(this._def),schema:this,typeName:B.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new nq({...r6(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:B.ZodDefault})}brand(){return new nZ({typeName:B.ZodBranded,type:this,...r6(this._def)})}catch(e){return new nz({...r6(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:B.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return nJ.create(this,e)}readonly(){return nK.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let r9=/^c[^\s-]{8,}$/i,r7=/^[0-9a-z]+$/,ne=/^[0-9A-HJKMNP-TV-Z]{26}$/,nt=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nr=/^[a-z0-9_-]{21}$/i,nn=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ni=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,ns=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,na=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,no=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nl="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",nu=RegExp(`^${nl}$`);function nc(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function nd(e){let t=`${nl}T${nc(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,RegExp(`^${t}$`)}class nh extends r5{_parse(e){var t,r;let i;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==rU.string){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.string,received:t.parsedType}),rJ}let s=new rZ;for(let a of this._def.checks)if("min"===a.kind)e.data.length<a.value&&(rQ(i=this._getOrReturnCtx(e,i),{code:rH.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if("max"===a.kind)e.data.length>a.value&&(rQ(i=this._getOrReturnCtx(e,i),{code:rH.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if("length"===a.kind){let t=e.data.length>a.value,r=e.data.length<a.value;(t||r)&&(i=this._getOrReturnCtx(e,i),t?rQ(i,{code:rH.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):r&&rQ(i,{code:rH.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if("email"===a.kind)ni.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"email",code:rH.invalid_string,message:a.message}),s.dirty());else if("emoji"===a.kind)n||(n=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),n.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"emoji",code:rH.invalid_string,message:a.message}),s.dirty());else if("uuid"===a.kind)nt.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"uuid",code:rH.invalid_string,message:a.message}),s.dirty());else if("nanoid"===a.kind)nr.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"nanoid",code:rH.invalid_string,message:a.message}),s.dirty());else if("cuid"===a.kind)r9.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"cuid",code:rH.invalid_string,message:a.message}),s.dirty());else if("cuid2"===a.kind)r7.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"cuid2",code:rH.invalid_string,message:a.message}),s.dirty());else if("ulid"===a.kind)ne.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"ulid",code:rH.invalid_string,message:a.message}),s.dirty());else if("url"===a.kind)try{new URL(e.data)}catch(t){rQ(i=this._getOrReturnCtx(e,i),{validation:"url",code:rH.invalid_string,message:a.message}),s.dirty()}else"regex"===a.kind?(a.regex.lastIndex=0,a.regex.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"regex",code:rH.invalid_string,message:a.message}),s.dirty())):"trim"===a.kind?e.data=e.data.trim():"includes"===a.kind?e.data.includes(a.value,a.position)||(rQ(i=this._getOrReturnCtx(e,i),{code:rH.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):"toLowerCase"===a.kind?e.data=e.data.toLowerCase():"toUpperCase"===a.kind?e.data=e.data.toUpperCase():"startsWith"===a.kind?e.data.startsWith(a.value)||(rQ(i=this._getOrReturnCtx(e,i),{code:rH.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):"endsWith"===a.kind?e.data.endsWith(a.value)||(rQ(i=this._getOrReturnCtx(e,i),{code:rH.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):"datetime"===a.kind?nd(a).test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{code:rH.invalid_string,validation:"datetime",message:a.message}),s.dirty()):"date"===a.kind?nu.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{code:rH.invalid_string,validation:"date",message:a.message}),s.dirty()):"time"===a.kind?RegExp(`^${nc(a)}$`).test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{code:rH.invalid_string,validation:"time",message:a.message}),s.dirty()):"duration"===a.kind?nn.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"duration",code:rH.invalid_string,message:a.message}),s.dirty()):"ip"===a.kind?(t=e.data,("v4"===(r=a.version)||!r)&&ns.test(t)||("v6"===r||!r)&&na.test(t)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"ip",code:rH.invalid_string,message:a.message}),s.dirty())):"base64"===a.kind?no.test(e.data)||(rQ(i=this._getOrReturnCtx(e,i),{validation:"base64",code:rH.invalid_string,message:a.message}),s.dirty()):S.assertNever(a);return{status:s.value,value:e.data}}_regex(e,t,r){return this.refinement(t=>e.test(t),{validation:t,code:rH.invalid_string,...C.errToObj(r)})}_addCheck(e){return new nh({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...C.errToObj(e)})}url(e){return this._addCheck({kind:"url",...C.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...C.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...C.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...C.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...C.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...C.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...C.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...C.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...C.errToObj(e)})}datetime(e){var t,r;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(r=null==e?void 0:e.local)&&void 0!==r&&r,...C.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...C.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...C.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...C.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...C.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...C.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...C.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...C.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...C.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...C.errToObj(t)})}nonempty(e){return this.min(1,C.errToObj(e))}trim(){return new nh({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nh({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nh({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}nh.create=e=>{var t;return new nh({checks:[],typeName:B.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...r6(e)})};class nf extends r5{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==rU.number){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.number,received:t.parsedType}),rJ}let r=new rZ;for(let n of this._def.checks)"int"===n.kind?S.isInteger(e.data)||(rQ(t=this._getOrReturnCtx(e,t),{code:rH.invalid_type,expected:"integer",received:"float",message:n.message}),r.dirty()):"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.too_small,minimum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.too_big,maximum:n.value,type:"number",inclusive:n.inclusive,exact:!1,message:n.message}),r.dirty()):"multipleOf"===n.kind?0!==function(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}(e.data,n.value)&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):"finite"===n.kind?Number.isFinite(e.data)||(rQ(t=this._getOrReturnCtx(e,t),{code:rH.not_finite,message:n.message}),r.dirty()):S.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,C.toString(t))}gt(e,t){return this.setLimit("min",e,!1,C.toString(t))}lte(e,t){return this.setLimit("max",e,!0,C.toString(t))}lt(e,t){return this.setLimit("max",e,!1,C.toString(t))}setLimit(e,t,r,n){return new nf({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:C.toString(n)}]})}_addCheck(e){return new nf({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:C.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:C.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:C.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:C.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:C.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:C.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:C.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:C.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:C.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&S.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let r of this._def.checks){if("finite"===r.kind||"int"===r.kind||"multipleOf"===r.kind)return!0;"min"===r.kind?(null===t||r.value>t)&&(t=r.value):"max"===r.kind&&(null===e||r.value<e)&&(e=r.value)}return Number.isFinite(t)&&Number.isFinite(e)}}nf.create=e=>new nf({checks:[],typeName:B.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...r6(e)});class np extends r5{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==rU.bigint){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.bigint,received:t.parsedType}),rJ}let r=new rZ;for(let n of this._def.checks)"min"===n.kind?(n.inclusive?e.data<n.value:e.data<=n.value)&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.too_small,type:"bigint",minimum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"max"===n.kind?(n.inclusive?e.data>n.value:e.data>=n.value)&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.too_big,type:"bigint",maximum:n.value,inclusive:n.inclusive,message:n.message}),r.dirty()):"multipleOf"===n.kind?e.data%n.value!==BigInt(0)&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.not_multiple_of,multipleOf:n.value,message:n.message}),r.dirty()):S.assertNever(n);return{status:r.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,C.toString(t))}gt(e,t){return this.setLimit("min",e,!1,C.toString(t))}lte(e,t){return this.setLimit("max",e,!0,C.toString(t))}lt(e,t){return this.setLimit("max",e,!1,C.toString(t))}setLimit(e,t,r,n){return new np({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:r,message:C.toString(n)}]})}_addCheck(e){return new np({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:C.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:C.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:C.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:C.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:C.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}np.create=e=>{var t;return new np({checks:[],typeName:B.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...r6(e)})};class ng extends r5{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==rU.boolean){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.boolean,received:t.parsedType}),rJ}return rW(e.data)}}ng.create=e=>new ng({typeName:B.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...r6(e)});class nm extends r5{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==rU.date){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.date,received:t.parsedType}),rJ}if(isNaN(e.data.getTime()))return rQ(this._getOrReturnCtx(e),{code:rH.invalid_date}),rJ;let r=new rZ;for(let n of this._def.checks)"min"===n.kind?e.data.getTime()<n.value&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.too_small,message:n.message,inclusive:!0,exact:!1,minimum:n.value,type:"date"}),r.dirty()):"max"===n.kind?e.data.getTime()>n.value&&(rQ(t=this._getOrReturnCtx(e,t),{code:rH.too_big,message:n.message,inclusive:!0,exact:!1,maximum:n.value,type:"date"}),r.dirty()):S.assertNever(n);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new nm({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:C.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:C.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}nm.create=e=>new nm({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:B.ZodDate,...r6(e)});class ny extends r5{_parse(e){if(this._getType(e)!==rU.symbol){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.symbol,received:t.parsedType}),rJ}return rW(e.data)}}ny.create=e=>new ny({typeName:B.ZodSymbol,...r6(e)});class nv extends r5{_parse(e){if(this._getType(e)!==rU.undefined){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.undefined,received:t.parsedType}),rJ}return rW(e.data)}}nv.create=e=>new nv({typeName:B.ZodUndefined,...r6(e)});class nb extends r5{_parse(e){if(this._getType(e)!==rU.null){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.null,received:t.parsedType}),rJ}return rW(e.data)}}nb.create=e=>new nb({typeName:B.ZodNull,...r6(e)});class nw extends r5{constructor(){super(...arguments),this._any=!0}_parse(e){return rW(e.data)}}nw.create=e=>new nw({typeName:B.ZodAny,...r6(e)});class nA extends r5{constructor(){super(...arguments),this._unknown=!0}_parse(e){return rW(e.data)}}nA.create=e=>new nA({typeName:B.ZodUnknown,...r6(e)});class nx extends r5{_parse(e){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.never,received:t.parsedType}),rJ}}nx.create=e=>new nx({typeName:B.ZodNever,...r6(e)});class nE extends r5{_parse(e){if(this._getType(e)!==rU.undefined){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.void,received:t.parsedType}),rJ}return rW(e.data)}}nE.create=e=>new nE({typeName:B.ZodVoid,...r6(e)});class nk extends r5{_parse(e){let{ctx:t,status:r}=this._processInputParams(e),n=this._def;if(t.parsedType!==rU.array)return rQ(t,{code:rH.invalid_type,expected:rU.array,received:t.parsedType}),rJ;if(null!==n.exactLength){let e=t.data.length>n.exactLength.value,i=t.data.length<n.exactLength.value;(e||i)&&(rQ(t,{code:e?rH.too_big:rH.too_small,minimum:i?n.exactLength.value:void 0,maximum:e?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),r.dirty())}if(null!==n.minLength&&t.data.length<n.minLength.value&&(rQ(t,{code:rH.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),r.dirty()),null!==n.maxLength&&t.data.length>n.maxLength.value&&(rQ(t,{code:rH.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),r.dirty()),t.common.async)return Promise.all([...t.data].map((e,r)=>n.type._parseAsync(new r4(t,e,t.path,r)))).then(e=>rZ.mergeArray(r,e));let i=[...t.data].map((e,r)=>n.type._parseSync(new r4(t,e,t.path,r)));return rZ.mergeArray(r,i)}get element(){return this._def.type}min(e,t){return new nk({...this._def,minLength:{value:e,message:C.toString(t)}})}max(e,t){return new nk({...this._def,maxLength:{value:e,message:C.toString(t)}})}length(e,t){return new nk({...this._def,exactLength:{value:e,message:C.toString(t)}})}nonempty(e){return this.min(1,e)}}nk.create=(e,t)=>new nk({type:e,minLength:null,maxLength:null,exactLength:null,typeName:B.ZodArray,...r6(t)});class nP extends r5{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=S.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==rU.object){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.object,received:t.parsedType}),rJ}let{status:t,ctx:r}=this._processInputParams(e),{shape:n,keys:i}=this._getCached(),s=[];if(!(this._def.catchall instanceof nx&&"strip"===this._def.unknownKeys))for(let e in r.data)i.includes(e)||s.push(e);let a=[];for(let e of i){let t=n[e],i=r.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new r4(r,i,r.path,e)),alwaysSet:e in r.data})}if(this._def.catchall instanceof nx){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of s)a.push({key:{status:"valid",value:e},value:{status:"valid",value:r.data[e]}});else if("strict"===e)s.length>0&&(rQ(r,{code:rH.unrecognized_keys,keys:s}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of s){let n=r.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new r4(r,n,r.path,t)),alwaysSet:t in r.data})}}return r.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of a){let r=await t.key,n=await t.value;e.push({key:r,value:n,alwaysSet:t.alwaysSet})}return e}).then(e=>rZ.mergeObjectSync(t,e)):rZ.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return C.errToObj,new nP({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,r)=>{var n,i,s,a;let o=null!==(s=null===(i=(n=this._def).errorMap)||void 0===i?void 0:i.call(n,t,r).message)&&void 0!==s?s:r.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=C.errToObj(e).message)&&void 0!==a?a:o}:{message:o}}}:{}})}strip(){return new nP({...this._def,unknownKeys:"strip"})}passthrough(){return new nP({...this._def,unknownKeys:"passthrough"})}extend(e){return new nP({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nP({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:B.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new nP({...this._def,catchall:e})}pick(e){let t={};return S.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(t[r]=this.shape[r])}),new nP({...this._def,shape:()=>t})}omit(e){let t={};return S.objectKeys(this.shape).forEach(r=>{e[r]||(t[r]=this.shape[r])}),new nP({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof nP){let r={};for(let n in t.shape){let i=t.shape[n];r[n]=nG.create(e(i))}return new nP({...t._def,shape:()=>r})}return t instanceof nk?new nk({...t._def,type:e(t.element)}):t instanceof nG?nG.create(e(t.unwrap())):t instanceof n$?n$.create(e(t.unwrap())):t instanceof nT?nT.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return S.objectKeys(this.shape).forEach(r=>{let n=this.shape[r];e&&!e[r]?t[r]=n:t[r]=n.optional()}),new nP({...this._def,shape:()=>t})}required(e){let t={};return S.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])t[r]=this.shape[r];else{let e=this.shape[r];for(;e instanceof nG;)e=e._def.innerType;t[r]=e}}),new nP({...this._def,shape:()=>t})}keyof(){return nM(S.objectKeys(this.shape))}}nP.create=(e,t)=>new nP({shape:()=>e,unknownKeys:"strip",catchall:nx.create(),typeName:B.ZodObject,...r6(t)}),nP.strictCreate=(e,t)=>new nP({shape:()=>e,unknownKeys:"strict",catchall:nx.create(),typeName:B.ZodObject,...r6(t)}),nP.lazycreate=(e,t)=>new nP({shape:e,unknownKeys:"strip",catchall:nx.create(),typeName:B.ZodObject,...r6(t)});class nI extends r5{_parse(e){let{ctx:t}=this._processInputParams(e),r=this._def.options;if(t.common.async)return Promise.all(r.map(async e=>{let r={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:r}),ctx:r}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;let r=e.map(e=>new rG(e.ctx.common.issues));return rQ(t,{code:rH.invalid_union,unionErrors:r}),rJ});{let e;let n=[];for(let i of r){let r={...t,common:{...t.common,issues:[]},parent:null},s=i._parseSync({data:t.data,path:t.path,parent:r});if("valid"===s.status)return s;"dirty"!==s.status||e||(e={result:s,ctx:r}),r.common.issues.length&&n.push(r.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let i=n.map(e=>new rG(e));return rQ(t,{code:rH.invalid_union,unionErrors:i}),rJ}}get options(){return this._def.options}}nI.create=(e,t)=>new nI({options:e,typeName:B.ZodUnion,...r6(t)});let nS=e=>{if(e instanceof nF)return nS(e.schema);if(e instanceof nH)return nS(e.innerType());if(e instanceof nL)return[e.value];if(e instanceof nD)return e.options;if(e instanceof nU)return S.objectValues(e.enum);if(e instanceof nq)return nS(e._def.innerType);if(e instanceof nv)return[void 0];else if(e instanceof nb)return[null];else if(e instanceof nG)return[void 0,...nS(e.unwrap())];else if(e instanceof n$)return[null,...nS(e.unwrap())];else if(e instanceof nZ)return nS(e.unwrap());else if(e instanceof nK)return nS(e.unwrap());else if(e instanceof nz)return nS(e._def.innerType);else return[]};class nO extends r5{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==rU.object)return rQ(t,{code:rH.invalid_type,expected:rU.object,received:t.parsedType}),rJ;let r=this.discriminator,n=t.data[r],i=this.optionsMap.get(n);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(rQ(t,{code:rH.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),rJ)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,r){let n=new Map;for(let r of t){let t=nS(r.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let i of t){if(n.has(i))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,r)}}return new nO({typeName:B.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:n,...r6(r)})}}class nC extends r5{_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=(e,n)=>{if(rY(e)||rY(n))return rJ;let i=function e(t,r){let n=rj(t),i=rj(r);if(t===r)return{valid:!0,data:t};if(n===rU.object&&i===rU.object){let n=S.objectKeys(r),i=S.objectKeys(t).filter(e=>-1!==n.indexOf(e)),s={...t,...r};for(let n of i){let i=e(t[n],r[n]);if(!i.valid)return{valid:!1};s[n]=i.data}return{valid:!0,data:s}}if(n===rU.array&&i===rU.array){if(t.length!==r.length)return{valid:!1};let n=[];for(let i=0;i<t.length;i++){let s=e(t[i],r[i]);if(!s.valid)return{valid:!1};n.push(s.data)}return{valid:!0,data:n}}return n===rU.date&&i===rU.date&&+t==+r?{valid:!0,data:t}:{valid:!1}}(e.value,n.value);return i.valid?((rX(e)||rX(n))&&t.dirty(),{status:t.value,value:i.data}):(rQ(r,{code:rH.invalid_intersection_types}),rJ)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([e,t])=>n(e,t)):n(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}nC.create=(e,t,r)=>new nC({left:e,right:t,typeName:B.ZodIntersection,...r6(r)});class nT extends r5{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rU.array)return rQ(r,{code:rH.invalid_type,expected:rU.array,received:r.parsedType}),rJ;if(r.data.length<this._def.items.length)return rQ(r,{code:rH.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),rJ;!this._def.rest&&r.data.length>this._def.items.length&&(rQ(r,{code:rH.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let n=[...r.data].map((e,t)=>{let n=this._def.items[t]||this._def.rest;return n?n._parse(new r4(r,e,r.path,t)):null}).filter(e=>!!e);return r.common.async?Promise.all(n).then(e=>rZ.mergeArray(t,e)):rZ.mergeArray(t,n)}get items(){return this._def.items}rest(e){return new nT({...this._def,rest:e})}}nT.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new nT({items:e,typeName:B.ZodTuple,rest:null,...r6(t)})};class n_ extends r5{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rU.object)return rQ(r,{code:rH.invalid_type,expected:rU.object,received:r.parsedType}),rJ;let n=[],i=this._def.keyType,s=this._def.valueType;for(let e in r.data)n.push({key:i._parse(new r4(r,e,r.path,e)),value:s._parse(new r4(r,r.data[e],r.path,e)),alwaysSet:e in r.data});return r.common.async?rZ.mergeObjectAsync(t,n):rZ.mergeObjectSync(t,n)}get element(){return this._def.valueType}static create(e,t,r){return new n_(t instanceof r5?{keyType:e,valueType:t,typeName:B.ZodRecord,...r6(r)}:{keyType:nh.create(),valueType:e,typeName:B.ZodRecord,...r6(t)})}}class nB extends r5{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rU.map)return rQ(r,{code:rH.invalid_type,expected:rU.map,received:r.parsedType}),rJ;let n=this._def.keyType,i=this._def.valueType,s=[...r.data.entries()].map(([e,t],s)=>({key:n._parse(new r4(r,e,r.path,[s,"key"])),value:i._parse(new r4(r,t,r.path,[s,"value"]))}));if(r.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let r of s){let n=await r.key,i=await r.value;if("aborted"===n.status||"aborted"===i.status)return rJ;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}})}{let e=new Map;for(let r of s){let n=r.key,i=r.value;if("aborted"===n.status||"aborted"===i.status)return rJ;("dirty"===n.status||"dirty"===i.status)&&t.dirty(),e.set(n.value,i.value)}return{status:t.value,value:e}}}}nB.create=(e,t,r)=>new nB({valueType:t,keyType:e,typeName:B.ZodMap,...r6(r)});class nR extends r5{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.parsedType!==rU.set)return rQ(r,{code:rH.invalid_type,expected:rU.set,received:r.parsedType}),rJ;let n=this._def;null!==n.minSize&&r.data.size<n.minSize.value&&(rQ(r,{code:rH.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),t.dirty()),null!==n.maxSize&&r.data.size>n.maxSize.value&&(rQ(r,{code:rH.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),t.dirty());let i=this._def.valueType;function s(e){let r=new Set;for(let n of e){if("aborted"===n.status)return rJ;"dirty"===n.status&&t.dirty(),r.add(n.value)}return{status:t.value,value:r}}let a=[...r.data.values()].map((e,t)=>i._parse(new r4(r,e,r.path,t)));return r.common.async?Promise.all(a).then(e=>s(e)):s(a)}min(e,t){return new nR({...this._def,minSize:{value:e,message:C.toString(t)}})}max(e,t){return new nR({...this._def,maxSize:{value:e,message:C.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}nR.create=(e,t)=>new nR({valueType:e,minSize:null,maxSize:null,typeName:B.ZodSet,...r6(t)});class nN extends r5{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==rU.function)return rQ(t,{code:rH.invalid_type,expected:rU.function,received:t.parsedType}),rJ;function r(e,r){return rV({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rz(),r$].filter(e=>!!e),issueData:{code:rH.invalid_arguments,argumentsError:r}})}function n(e,r){return rV({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,rz(),r$].filter(e=>!!e),issueData:{code:rH.invalid_return_type,returnTypeError:r}})}let i={errorMap:t.common.contextualErrorMap},s=t.data;if(this._def.returns instanceof nj){let e=this;return rW(async function(...t){let a=new rG([]),o=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(r(t,e)),a}),l=await Reflect.apply(s,this,o);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(n(l,e)),a})})}{let e=this;return rW(function(...t){let a=e._def.args.safeParse(t,i);if(!a.success)throw new rG([r(t,a.error)]);let o=Reflect.apply(s,this,a.data),l=e._def.returns.safeParse(o,i);if(!l.success)throw new rG([n(o,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new nN({...this._def,args:nT.create(e).rest(nA.create())})}returns(e){return new nN({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,r){return new nN({args:e||nT.create([]).rest(nA.create()),returns:t||nA.create(),typeName:B.ZodFunction,...r6(r)})}}class nF extends r5{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}nF.create=(e,t)=>new nF({getter:e,typeName:B.ZodLazy,...r6(t)});class nL extends r5{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return rQ(t,{received:t.data,code:rH.invalid_literal,expected:this._def.value}),rJ}return{status:"valid",value:e.data}}get value(){return this._def.value}}function nM(e,t){return new nD({values:e,typeName:B.ZodEnum,...r6(t)})}nL.create=(e,t)=>new nL({value:e,typeName:B.ZodLiteral,...r6(t)});class nD extends r5{constructor(){super(...arguments),T.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),r=this._def.values;return rQ(t,{expected:S.joinValues(r),received:t.parsedType,code:rH.invalid_type}),rJ}if(r2(this,T,"f")||r3(this,T,new Set(this._def.values),"f"),!r2(this,T,"f").has(e.data)){let t=this._getOrReturnCtx(e),r=this._def.values;return rQ(t,{received:t.data,code:rH.invalid_enum_value,options:r}),rJ}return rW(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return nD.create(e,{...this._def,...t})}exclude(e,t=this._def){return nD.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}T=new WeakMap,nD.create=nM;class nU extends r5{constructor(){super(...arguments),_.set(this,void 0)}_parse(e){let t=S.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==rU.string&&r.parsedType!==rU.number){let e=S.objectValues(t);return rQ(r,{expected:S.joinValues(e),received:r.parsedType,code:rH.invalid_type}),rJ}if(r2(this,_,"f")||r3(this,_,new Set(S.getValidEnumValues(this._def.values)),"f"),!r2(this,_,"f").has(e.data)){let e=S.objectValues(t);return rQ(r,{received:r.data,code:rH.invalid_enum_value,options:e}),rJ}return rW(e.data)}get enum(){return this._def.values}}_=new WeakMap,nU.create=(e,t)=>new nU({values:e,typeName:B.ZodNativeEnum,...r6(t)});class nj extends r5{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==rU.promise&&!1===t.common.async?(rQ(t,{code:rH.invalid_type,expected:rU.promise,received:t.parsedType}),rJ):rW((t.parsedType===rU.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}nj.create=(e,t)=>new nj({type:e,typeName:B.ZodPromise,...r6(t)});class nH extends r5{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===B.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:r}=this._processInputParams(e),n=this._def.effect||null,i={addIssue:e=>{rQ(r,e),e.fatal?t.abort():t.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===n.type){let e=n.transform(r.data,i);if(r.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return rJ;let n=await this._def.schema._parseAsync({data:e,path:r.path,parent:r});return"aborted"===n.status?rJ:"dirty"===n.status||"dirty"===t.value?rK(n.value):n});{if("aborted"===t.value)return rJ;let n=this._def.schema._parseSync({data:e,path:r.path,parent:r});return"aborted"===n.status?rJ:"dirty"===n.status||"dirty"===t.value?rK(n.value):n}}if("refinement"===n.type){let e=e=>{let t=n.refinement(e,i);if(r.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(r=>"aborted"===r.status?rJ:("dirty"===r.status&&t.dirty(),e(r.value).then(()=>({status:t.value,value:r.value}))));{let n=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===n.status?rJ:("dirty"===n.status&&t.dirty(),e(n.value),{status:t.value,value:n.value})}}if("transform"===n.type){if(!1!==r.common.async)return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(e=>r0(e)?Promise.resolve(n.transform(e.value,i)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!r0(e))return e;let s=n.transform(e.value,i);if(s instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}}S.assertNever(n)}}nH.create=(e,t,r)=>new nH({schema:e,typeName:B.ZodEffects,effect:t,...r6(r)}),nH.createWithPreprocess=(e,t,r)=>new nH({schema:t,effect:{type:"preprocess",transform:e},typeName:B.ZodEffects,...r6(r)});class nG extends r5{_parse(e){return this._getType(e)===rU.undefined?rW(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}nG.create=(e,t)=>new nG({innerType:e,typeName:B.ZodOptional,...r6(t)});class n$ extends r5{_parse(e){return this._getType(e)===rU.null?rW(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}n$.create=(e,t)=>new n$({innerType:e,typeName:B.ZodNullable,...r6(t)});class nq extends r5{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return t.parsedType===rU.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}nq.create=(e,t)=>new nq({innerType:e,typeName:B.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...r6(t)});class nz extends r5{_parse(e){let{ctx:t}=this._processInputParams(e),r={...t,common:{...t.common,issues:[]}},n=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return r1(n)?n.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new rG(r.common.issues)},input:r.data})})):{status:"valid",value:"valid"===n.status?n.value:this._def.catchValue({get error(){return new rG(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}nz.create=(e,t)=>new nz({innerType:e,typeName:B.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...r6(t)});class nV extends r5{_parse(e){if(this._getType(e)!==rU.nan){let t=this._getOrReturnCtx(e);return rQ(t,{code:rH.invalid_type,expected:rU.nan,received:t.parsedType}),rJ}return{status:"valid",value:e.data}}}nV.create=e=>new nV({typeName:B.ZodNaN,...r6(e)});let nQ=Symbol("zod_brand");class nZ extends r5{_parse(e){let{ctx:t}=this._processInputParams(e),r=t.data;return this._def.type._parse({data:r,path:t.path,parent:t})}unwrap(){return this._def.type}}class nJ extends r5{_parse(e){let{status:t,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?rJ:"dirty"===e.status?(t.dirty(),rK(e.value)):this._def.out._parseAsync({data:e.value,path:r.path,parent:r})})();{let e=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return"aborted"===e.status?rJ:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:r.path,parent:r})}}static create(e,t){return new nJ({in:e,out:t,typeName:B.ZodPipeline})}}class nK extends r5{_parse(e){let t=this._def.innerType._parse(e),r=e=>(r0(e)&&(e.value=Object.freeze(e.value)),e);return r1(t)?t.then(e=>r(e)):r(t)}unwrap(){return this._def.innerType}}function nW(e,t={},r){return e?nw.create().superRefine((n,i)=>{var s,a;if(!e(n)){let e="function"==typeof t?t(n):"string"==typeof t?{message:t}:t,o=null===(a=null!==(s=e.fatal)&&void 0!==s?s:r)||void 0===a||a;i.addIssue({code:"custom",..."string"==typeof e?{message:e}:e,fatal:o})}}):nw.create()}nK.create=(e,t)=>new nK({innerType:e,typeName:B.ZodReadonly,...r6(t)});let nY={object:nP.lazycreate};(d=B||(B={})).ZodString="ZodString",d.ZodNumber="ZodNumber",d.ZodNaN="ZodNaN",d.ZodBigInt="ZodBigInt",d.ZodBoolean="ZodBoolean",d.ZodDate="ZodDate",d.ZodSymbol="ZodSymbol",d.ZodUndefined="ZodUndefined",d.ZodNull="ZodNull",d.ZodAny="ZodAny",d.ZodUnknown="ZodUnknown",d.ZodNever="ZodNever",d.ZodVoid="ZodVoid",d.ZodArray="ZodArray",d.ZodObject="ZodObject",d.ZodUnion="ZodUnion",d.ZodDiscriminatedUnion="ZodDiscriminatedUnion",d.ZodIntersection="ZodIntersection",d.ZodTuple="ZodTuple",d.ZodRecord="ZodRecord",d.ZodMap="ZodMap",d.ZodSet="ZodSet",d.ZodFunction="ZodFunction",d.ZodLazy="ZodLazy",d.ZodLiteral="ZodLiteral",d.ZodEnum="ZodEnum",d.ZodEffects="ZodEffects",d.ZodNativeEnum="ZodNativeEnum",d.ZodOptional="ZodOptional",d.ZodNullable="ZodNullable",d.ZodDefault="ZodDefault",d.ZodCatch="ZodCatch",d.ZodPromise="ZodPromise",d.ZodBranded="ZodBranded",d.ZodPipeline="ZodPipeline",d.ZodReadonly="ZodReadonly";let nX=nh.create,n0=nf.create,n1=nV.create,n2=np.create,n3=ng.create,n4=nm.create,n8=ny.create,n6=nv.create,n5=nb.create,n9=nw.create,n7=nA.create,ie=nx.create,it=nE.create,ir=nk.create,ii=nP.create,is=nP.strictCreate,ia=nI.create,io=nO.create,il=nC.create,iu=nT.create,ic=n_.create,id=nB.create,ih=nR.create,ip=nN.create,ig=nF.create,im=nL.create,iy=nD.create,iv=nU.create,ib=nj.create,iw=nH.create,iA=nG.create,ix=n$.create,iE=nH.createWithPreprocess,ik=nJ.create;var iP=Object.freeze({__proto__:null,defaultErrorMap:r$,setErrorMap:function(e){rq=e},getErrorMap:rz,makeIssue:rV,EMPTY_PATH:[],addIssueToContext:rQ,ParseStatus:rZ,INVALID:rJ,DIRTY:rK,OK:rW,isAborted:rY,isDirty:rX,isValid:r0,isAsync:r1,get util(){return S},get objectUtil(){return O},ZodParsedType:rU,getParsedType:rj,ZodType:r5,datetimeRegex:nd,ZodString:nh,ZodNumber:nf,ZodBigInt:np,ZodBoolean:ng,ZodDate:nm,ZodSymbol:ny,ZodUndefined:nv,ZodNull:nb,ZodAny:nw,ZodUnknown:nA,ZodNever:nx,ZodVoid:nE,ZodArray:nk,ZodObject:nP,ZodUnion:nI,ZodDiscriminatedUnion:nO,ZodIntersection:nC,ZodTuple:nT,ZodRecord:n_,ZodMap:nB,ZodSet:nR,ZodFunction:nN,ZodLazy:nF,ZodLiteral:nL,ZodEnum:nD,ZodNativeEnum:nU,ZodPromise:nj,ZodEffects:nH,ZodTransformer:nH,ZodOptional:nG,ZodNullable:n$,ZodDefault:nq,ZodCatch:nz,ZodNaN:nV,BRAND:nQ,ZodBranded:nZ,ZodPipeline:nJ,ZodReadonly:nK,custom:nW,Schema:r5,ZodSchema:r5,late:nY,get ZodFirstPartyTypeKind(){return B},coerce:{string:e=>nh.create({...e,coerce:!0}),number:e=>nf.create({...e,coerce:!0}),boolean:e=>ng.create({...e,coerce:!0}),bigint:e=>np.create({...e,coerce:!0}),date:e=>nm.create({...e,coerce:!0})},any:n9,array:ir,bigint:n2,boolean:n3,date:n4,discriminatedUnion:io,effect:iw,enum:iy,function:ip,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>nW(t=>t instanceof e,t),intersection:il,lazy:ig,literal:im,map:id,nan:n1,nativeEnum:iv,never:ie,null:n5,nullable:ix,number:n0,object:ii,oboolean:()=>n3().optional(),onumber:()=>n0().optional(),optional:iA,ostring:()=>nX().optional(),pipeline:ik,preprocess:iE,promise:ib,record:ic,set:ih,strictObject:is,string:nX,symbol:n8,transformer:iw,tuple:iu,undefined:n6,union:ia,unknown:n7,void:it,NEVER:rJ,ZodIssueCode:rH,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:rG});let iI=e=>e.message?e.message:"unspecified error";class iS extends es{constructor(e){super(),this.code=1100,this.errors=e,super.message=`Web3 validator found ${e.length} error[s]:
${this._compileErrors().join("\n")}`}_compileErrors(){return this.errors.map(iI)}}let iO=["bool","int","uint","bytes","string","address","tuple"],iC=e=>"object"==typeof e&&"type"in e&&"name"in e,iT=e=>"string"==typeof e,i_=e=>"string"==typeof e&&/^((-)?0x[0-9a-f]+|(0x))$/i.test(e);function iB(e,t){return"string"==typeof e&&!!e.match(/^0x[0-9A-Fa-f]*$/)&&(void 0===t||!(t>0)||e.length===2+2*t)}let iR=e=>"number"==typeof e||"bigint"==typeof e||"string"==typeof e&&/^((-0x|0x|-)?[0-9a-f]+|(0x))$/i.test(e);function iN(e){if("string"!=typeof e)throw Error(`[isHexPrefixed] input must be type 'string', received type ${typeof e}`);return e.startsWith("0x")}let iF=function(e){for(let[t,r]of Object.entries(e))if(void 0!==r&&r.length>0&&0===r[0])throw Error(`${t} cannot have leading zeroes, received: ${r.toString()}`)},iL=["hex","number","blockNumber","blockNumberOrTag","filter","bloom"],iM=e=>{let t,r=e.replace(/ /,""),n=!1,i=[];if(e.includes("[")&&(r=r.slice(0,r.indexOf("[")),n=(i=[...e.matchAll(/(?:\[(\d*)\])/g)].map(e=>parseInt(e[1],10)).map(e=>Number.isNaN(e)?-1:e)).length>0),iO.includes(r))return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i};if(r.startsWith("int"))t=parseInt(r.substring(3),10),r="int";else if(r.startsWith("uint"))t=parseInt(e.substring(4),10),r="uint";else{if(!r.startsWith("bytes"))return{baseType:void 0,isArray:!1,baseTypeSize:void 0,arraySizes:i};t=parseInt(r.substring(5),10),r="bytes"}return{baseType:r,isArray:n,baseTypeSize:t,arraySizes:i}},iD=(e,t={})=>{if(Object.keys(t).includes("type"))throw new iS([{keyword:"eth",message:'Either "eth" or "type" can be presented in schema',params:{eth:e},instancePath:"",schemaPath:""}]);let{baseType:r,baseTypeSize:n}=iM(e);if(!r&&!iL.includes(e))throw new iS([{keyword:"eth",message:`Eth data type "${e}" is not valid`,params:{eth:e},instancePath:"",schemaPath:""}]);if(r){if("tuple"===r)throw Error('"tuple" type is not implemented directly.');return{format:`${r}${null!=n?n:""}`,required:!0}}return e?{format:e,required:!0}:{}},iU=(e,t="/0")=>{let r={type:"array",items:[],maxItems:e.length,minItems:e.length};for(let[n,i]of e.entries()){let e,s,a;let o=[];iC(i)?(e=i.type,s=i.name||`${t}/${n}`,o=i.components):"string"==typeof i?(e=i,s=`${t}/${n}`):Array.isArray(i)&&(i[0]&&"string"==typeof i[0]&&i[0].startsWith("tuple")&&!Array.isArray(i[0])&&i[1]&&Array.isArray(i[1])?(e=i[0],s=`${t}/${n}`,o=i[1]):(e="tuple",s=`${t}/${n}`,o=i));let{baseType:l,isArray:u,arraySizes:c}=iM(e),d=r;for(let e=c.length-1;e>0;e-=1)a={type:"array",$id:s,items:[],maxItems:c[e],minItems:c[e]},c[e]<0&&(delete a.maxItems,delete a.minItems),Array.isArray(d.items)?0===d.items.length?d.items=[a]:d.items.push(a):d.items=[d.items,a],d=a;if("tuple"!==l||u){if("tuple"===l&&u){let e=c[0],t=Object.assign({type:"array",$id:s,items:iU(o,s)},e>=0&&{minItems:e,maxItems:e});d.items.push(t)}else if(u){let t=c[0],r=Object.assign({type:"array",$id:s,items:iD(e)},t>=0&&{minItems:t,maxItems:t});d.items.push(r)}else Array.isArray(d.items),d.items.push(Object.assign({$id:s},iD(e)))}else{let e=iU(o,s);e.$id=s,d.items.push(e)}d=r}return r},ij=e=>iU(e),iH=(e,t)=>1===t?e:iH(e[0],t-1),iG=(e,t,r)=>{let n=[];for(let[i,s]of e.entries()){let e,a;let o=[];iC(s)?(e=s.type,a=s.name,o=s.components):"string"==typeof s?e=s:Array.isArray(s)&&(s[1]&&Array.isArray(s[1])?(e=s[0],o=s[1]):(e="tuple",o=s));let{baseType:l,isArray:u,arraySizes:c}=iM(e),d=Array.isArray(t)?t[i]:t[a];if("tuple"!==l||u){if("tuple"===l&&u){let e=[];for(let t of d)if(c.length>1){let n=iH(t,c.length-1),i=[];for(let e of n)i.push(iG(o,e,r));e.push(i)}else e.push(iG(o,t,r));n.push(e)}else n.push(d)}else n.push(iG(o,d,r))}return(r=null!=r?r:[]).push(...n),r},i$=e=>{if(e>=48&&e<=57)return e-48;if(e>=65&&e<=70)return e-55;if(e>=97&&e<=102)return e-87;throw Error(`Invalid code point: ${e}`)},iq=e=>{if(!i_(e))throw Error("Invalid hex string");let[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=BigInt(r);return n>Number.MAX_SAFE_INTEGER?t?-n:n:n<Number.MIN_SAFE_INTEGER?n:t?-1*Number(n):Number(n)},iz=e=>{if(("number"==typeof e||"bigint"==typeof e)&&e<0)return`-0x${e.toString(16).slice(1)}`;if(("number"==typeof e||"bigint"==typeof e)&&e>=0)return`0x${e.toString(16)}`;if("string"==typeof e&&i_(e)){let[t,r]=e.startsWith("-")?[!0,e.slice(1)]:[!1,e],n=r.split(/^(-)?0(x|X)/).slice(-1)[0];return`${t?"-":""}0x${n.replace(/^0+/,"").toLowerCase()}`}if("string"==typeof e&&!i_(e))return iz(BigInt(e));throw new tm(e)},iV=(e,t,r="0")=>{if("string"==typeof e&&!i_(e))return e.padStart(t,r);let n="string"==typeof e&&i_(e)?e:iz(e),[i,s]=n.startsWith("-")?["-0x",n.slice(3)]:["0x",n.slice(2)];return`${i}${s.padStart(t,r)}`};function iQ(e){let t="0x";for(let r of e){let e=r.toString(16);t+=1===e.length?`0${e}`:e}return t}let iZ={zero:48,nine:57,A:65,F:70,a:97,f:102};function iJ(e){return e>=iZ.zero&&e<=iZ.nine?e-iZ.zero:e>=iZ.A&&e<=iZ.F?e-(iZ.A-10):e>=iZ.a&&e<=iZ.f?e-(iZ.a-10):void 0}function iK(e){let t=0;if(e.startsWith("0")&&("x"===e[1]||"X"===e[1])&&(t=2),e.length%2!=0)throw new tg(`hex string has odd length: ${e}`);let r=(e.length-t)/2,n=new Uint8Array(r);for(let i=0,s=t;i<r;i+=1){let t=iJ(e.charCodeAt(s++)),r=iJ(e.charCodeAt(s++));if(void 0===t||void 0===r)throw new tg(`Invalid byte sequence ("${e[s-2]}${e[s-1]}" in "${e}").`);n[i]=16*t+r}return n}function iW(e){var t;return e instanceof Uint8Array||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)!=="Uint8Array"?e:Uint8Array.from(e)}let iY=e=>{var t,r;return e instanceof Uint8Array||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="Uint8Array"||(null===(r=null==e?void 0:e.constructor)||void 0===r?void 0:r.name)==="Buffer"},iX=(e,t={abiType:"bytes"})=>{let r;if("string"!=typeof e&&!Array.isArray(e)&&!iY(e)||"string"==typeof e&&i_(e)&&e.startsWith("-")||"string"==typeof e&&!i_(e))return!1;if("string"==typeof e){if(e.length%2!=0)return!1;r=iK(e)}else if(Array.isArray(e)){if(e.some(e=>e<0||e>255||!Number.isInteger(e)))return!1;r=new Uint8Array(e)}else r=e;if(null==t?void 0:t.abiType){let{baseTypeSize:e}=iM(t.abiType);return!e||r.length===e}return null==t||!t.size||r.length===(null==t?void 0:t.size)},i0=e=>{if(!/^(0x)?[0-9a-f]{40}$/i.test(e))return!1;let t=e.slice(2),r=iQ(rD(iW(ru(t.toLowerCase())))).slice(2);for(let e=0;e<40;e+=1)if(parseInt(r[e],16)>7&&t[e].toUpperCase()!==t[e]||7>=parseInt(r[e],16)&&t[e].toLowerCase()!==t[e])return!1;return!0},i1=(e,t=!0)=>{let r;return!!("string"==typeof e||iY(e))&&(r=iY(e)?iQ(e):"string"!=typeof e||i_(e)?e:e.toLowerCase().startsWith("0x")?e:`0x${e}`,!!/^(0x)?[0-9a-f]{40}$/i.test(r)&&(!!(/^(0x|0X)?[0-9a-f]{40}$/.test(r)||/^(0x|0X)?[0-9A-F]{40}$/.test(r))||!t||i0(r)))},i2=(e,t)=>{if(t===BigInt(0))return BigInt(1);let r=e;for(let n=1;n<t;n+=1)r*=e;return r},i3=(e,t={abiType:"uint"})=>{let r;if(!["number","string","bigint"].includes(typeof e)||"string"==typeof e&&0===e.length)return!1;if(null==t?void 0:t.abiType){let{baseTypeSize:e}=iM(t.abiType);e&&(r=e)}else t.bitSize&&(r=t.bitSize);let n=i2(BigInt(2),BigInt(null!=r?r:256))-BigInt(1);try{let t="string"==typeof e&&i_(e)?BigInt(iq(e)):BigInt(e);return t>=0&&t<=n}catch(e){return!1}},i4=(e,t={abiType:"int"})=>{let r;if(!["number","string","bigint"].includes(typeof e)||"number"==typeof e&&e>Number.MAX_SAFE_INTEGER)return!1;if(null==t?void 0:t.abiType){let{baseTypeSize:e,baseType:n}=iM(t.abiType);if("int"!==n)return!1;e&&(r=e)}else t.bitSize&&(r=t.bitSize);let n=i2(BigInt(2),BigInt((null!=r?r:256)-1)),i=BigInt(-1)*i2(BigInt(2),BigInt((null!=r?r:256)-1));try{let t="string"==typeof e&&i_(e)?BigInt(iq(e)):BigInt(e);return t>=i&&t<=n}catch(e){return!1}},i8=e=>!!(i4(e)||"string"==typeof e&&/[0-9.]/.test(e)&&e.indexOf(".")===e.lastIndexOf("."))||"number"==typeof e,i6=e=>i3(e),i5=e=>Object.values(P).includes(e),i9=e=>i5(e)||i6(e),i7=e=>!!("string"==typeof e&&/^(0x)?[0-9a-f]{512}$/i.test(e))&&!!(/^(0x)?[0-9a-f]{512}$/.test(e)||/^(0x)?[0-9A-F]{512}$/.test(e)),se=(e,t)=>{if("string"==typeof t&&!i_(t)||!i7(e))return!1;let r=iQ(rD("string"==typeof t?iK(t):t)).slice(2);for(let t=0;t<12;t+=4){let n=(parseInt(r.slice(t,t+2),16)<<8)+parseInt(r.slice(t+2,t+4),16)&2047,i=i$(e.charCodeAt(e.length-1-Math.floor(n/4))),s=1<<n%4;if((i&s)!==s)return!1}return!0},st=e=>!!["number","string","boolean"].includes(typeof e)&&("boolean"==typeof e||("string"!=typeof e||i_(e)?"string"==typeof e&&i_(e)?"0x1"===e||"0x0"===e:1===e||0===e:"1"===e||"0"===e)),sr=e=>null==e,sn=e=>"object"==typeof e&&!sr(e)&&!Array.isArray(e)&&!(e instanceof ee),si=e=>!!("string"==typeof e&&/^(0x)?[0-9a-f]{64}$/i.test(e))&&!!(/^(0x)?[0-9a-f]{64}$/.test(e)||/^(0x)?[0-9A-F]{64}$/.test(e)),ss=e=>{let t=["fromBlock","toBlock","address","topics","blockHash"];if(sr(e)||"object"!=typeof e||!Object.keys(e).every(e=>t.includes(e))||!sr(e.fromBlock)&&!i9(e.fromBlock)||!sr(e.toBlock)&&!i9(e.toBlock))return!1;if(!sr(e.address)){if(Array.isArray(e.address)){if(!e.address.every(e=>i1(e)))return!1}else if(!i1(e.address))return!1}return!!(sr(e.topics)||e.topics.every(e=>!!sr(e)||(Array.isArray(e)?e.every(e=>si(e)):!!si(e))))},sa={address:e=>i1(e),bloom:e=>i7(e),blockNumber:e=>i6(e),blockTag:e=>i5(e),blockNumberOrTag:e=>i9(e),bool:e=>st(e),bytes:e=>iX(e),filter:e=>ss(e),hex:e=>i_(e),uint:e=>i3(e),int:e=>i4(e),number:e=>i8(e),string:e=>iT(e)};for(let e=8;e<=256;e+=8)sa[`int${e}`]=t=>i4(t,{bitSize:e}),sa[`uint${e}`]=t=>i3(t,{bitSize:e});for(let e=1;e<=32;e+=1)sa[`bytes${e}`]=t=>iX(t,{size:e});sa.bytes256=sa.bytes;let so=e=>{if((!(null==e?void 0:e.type)||(null==e?void 0:e.type)==="object")&&(null==e?void 0:e.properties)){let t={};for(let r of Object.keys(e.properties)){let n=so(e.properties[r]);n&&(t[r]=n)}return Array.isArray(e.required)?iP.object(t).partial().required(e.required.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:!0}),{})):iP.object(t).partial()}if((null==e?void 0:e.type)==="array"&&(null==e?void 0:e.items)){if(Array.isArray(e.items)&&e.items.length>1&&void 0!==e.maxItems&&new Set(e.items.map(e=>e.$id)).size===e.items.length){let t=[];for(let r of e.items){let e=so(r);e&&t.push(e)}return iP.tuple(t)}let t=Array.isArray(e.items)?e.items[0]:e.items,r=iP.array(so(t));return r=void 0!==e.minItems?r.min(e.minItems):r,r=void 0!==e.maxItems?r.max(e.maxItems):r}if(e.oneOf&&Array.isArray(e.oneOf))return iP.union(e.oneOf.map(e=>so(e)));if(null==e?void 0:e.format){if(!sa[e.format])throw new tW(e.format);return iP.any().refine(sa[e.format],t=>({params:{value:t,format:e.format}}))}return(null==e?void 0:e.type)&&(null==e?void 0:e.type)!=="object"&&"function"==typeof iP[String(e.type)]?iP[String(e.type)]():iP.object({data:iP.any()}).partial()};class sl{static factory(){return sl.validatorInstance||(sl.validatorInstance=new sl),sl.validatorInstance}validate(e,t,r){var n,i;let s=so(e).safeParse(t);if(!s.success){let e=this.convertErrors(null!==(i=null===(n=s.error)||void 0===n?void 0:n.issues)&&void 0!==i?i:[]);if(e){if(null==r?void 0:r.silent)return e;throw new iS(e)}}}convertErrors(e){if(e&&Array.isArray(e)&&e.length>0)return e.map(e=>{var t;let r,n,i,s;s=e.path.join("/");let a=String(e.path[e.path.length-1]),o=e.path.join("/");if(e.code===rH.too_big)n="maxItems",s=`${o}/maxItems`,i={limit:e.maximum},r=`must NOT have more than ${e.maximum} items`;else if(e.code===rH.too_small)n="minItems",s=`${o}/minItems`,i={limit:e.minimum},r=`must NOT have fewer than ${e.minimum} items`;else if(e.code===rH.custom){let{value:n,format:a}=null!==(t=e.params)&&void 0!==t?t:{};r=void 0===n?`value at "/${s}" is required`:`value "${"object"==typeof n?JSON.stringify(n):n}" at "/${s}" must pass "${a}" validation`,i={value:n}}return{keyword:null!=n?n:a,instancePath:o?`/${o}`:"",schemaPath:s?`#${s}`:"#",params:null!=i?i:{value:e.message},message:null!=r?r:e.message}})}}class su{constructor(){this._validator=sl.factory()}validateJSONSchema(e,t,r){return this._validator.validate(e,t,r)}validate(e,t,r={silent:!1}){var n,i;let s=ij(e);if(!Array.isArray(s.items)||(null===(n=s.items)||void 0===n?void 0:n.length)!==0||0!==t.length){if(Array.isArray(s.items)&&(null===(i=s.items)||void 0===i?void 0:i.length)===0&&0!==t.length)throw new iS([{instancePath:"/0",schemaPath:"/",keyword:"required",message:"empty schema against data can not be validated",params:t}]);return this._validator.validate(s,t,r)}}}let sc=new su;function sd(e){var t,r;return e instanceof Uint8Array||(null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="Uint8Array"||(null===(r=null==e?void 0:e.constructor)||void 0===r?void 0:r.name)==="Buffer"}function sh(...e){let t=new Uint8Array(e.reduce((e,t)=>e+t.length,0)),r=0;for(let n of e)t.set(n,r),r+=n.length;return t}function sf(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r+=1)if(e[r]!==t[r])return!1;return!0}let sp={noether:BigInt(0),wei:BigInt(1),kwei:BigInt(1e3),Kwei:BigInt(1e3),babbage:BigInt(1e3),femtoether:BigInt(1e3),mwei:BigInt(1e6),Mwei:BigInt(1e6),lovelace:BigInt(1e6),picoether:BigInt(1e6),gwei:BigInt(1e9),Gwei:BigInt(1e9),shannon:BigInt(1e9),nanoether:BigInt(1e9),nano:BigInt(1e9),szabo:BigInt(1e12),microether:BigInt(1e12),micro:BigInt(1e12),finney:BigInt(1e15),milliether:BigInt(1e15),milli:BigInt(1e15),ether:BigInt("1000000000000000000"),kether:BigInt("1000000000000000000000"),grand:BigInt("1000000000000000000000"),mether:BigInt("1000000000000000000000000"),gether:BigInt("1000000000000000000000000000"),tether:BigInt("1000000000000000000000000000000")},sg="Warning: Using type `number` with values that are large or contain many decimals may cause loss of precision, it is recommended to use type `string` or `BigInt` when using conversion methods",sm=e=>{if(sc.validate(["bytes"],[e]),sd(e))return e;if(Array.isArray(e))return new Uint8Array(e);if("string"==typeof e)return iK(e);throw new tg(e)},{uint8ArrayToHexString:sy}=Q,sv=e=>sy(sm(e)),sb=e=>"string"==typeof e&&"0x"!==e.slice(0,2).toLowerCase()?sm(`0x${e}`):sm(e),sw=e=>(sc.validate(["hex"],[e]),iq(e)),sA=sw,sx=(e,t)=>{"bigint"!=typeof e&&sc.validate(["int"],[e]);let r=iz(e);return t&&(r.startsWith("-")||r.length%2!=1?r.length%2==0&&r.startsWith("-")&&(r="-0x0".concat(r.slice(3))):r="0x0".concat(r.slice(2))),r},sE=sx,sk=e=>sw(e).toString(),sP=e=>{sc.validate(["string"],[e]);let t=e.replace(/^(?:\u0000)/,"");return t=t.replace(/(?:\u0000)$/,""),sv(new TextEncoder().encode(t))},sI=sP,sS=sP,sO=e=>rL(sb(e)),sC=e=>"string"==typeof e?sO(e):(sc.validate(["bytes"],[e]),rL(e)),sT=ru,s_=sO,sB=e=>{sc.validate(["string"],[e]);let t="";for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r).toString(16);t+=n.length%2!=0?`0${n}`:n}return`0x${t}`},sR=sB,sN=e=>new TextDecoder("ascii").decode(sb(e)),sF=sN,sL=(e,t)=>{if("string"==typeof e&&i1(e))return t?"address":`0x${e.toLowerCase().replace(/^0x/i,"")}`;if("boolean"==typeof e)return t?"bool":e?"0x01":"0x00";if("number"==typeof e)return t?e<0?"int256":"uint256":sx(e);if("bigint"==typeof e)return t?"bigint":sx(e);if(sd(e))return t?"bytes":sv(e);if("object"==typeof e&&e)return t?"string":sP(JSON.stringify(e));if("string"==typeof e){if(e.startsWith("-0x")||e.startsWith("-0X"))return t?"int256":sx(e);if(i_(e))return t?"bytes":e;if(iR(e)&&!i4(e)&&!i3(e))return t?"bytes":`0x${e}`;if(iR(e)&&!i4(e)&&i3(e))return t?"uint":sx(e);if(!Number.isFinite(e))return t?"string":sP(e)}throw new tA(e)},sM=e=>{if("number"==typeof e)return e>1e20?(console.warn(sg),BigInt(e)):e;if("bigint"==typeof e)return e>=Number.MIN_SAFE_INTEGER&&e<=Number.MAX_SAFE_INTEGER?Number(e):e;if("string"==typeof e&&i_(e))return sw(e);try{return sM(BigInt(e))}catch(t){throw new tm(e)}},sD=e=>{if("number"==typeof e)return BigInt(e);if("bigint"==typeof e)return e;if("string"==typeof e&&iR(e))return e.startsWith("-")?-BigInt(e.substring(1)):BigInt(e);throw new tm(e)},sU=(e,t)=>{let r;if("string"==typeof t){if(!(r=sp[t]))throw new tb(t)}else{if(t<0||!Number.isInteger(t))throw new tw(t);r=i2(BigInt(10),BigInt(t))}let n=String(sM(e)),i=r.toString().length-1;if(i<=0)return n.toString();let s=n.padStart(i,"0"),a=s.slice(0,-i),o=s.slice(-i).replace(/\.?0+$/,"");return""===a?`0.${o}`:""===o?a:`${a}.${o}`.slice(0,a.length+i+1)},sj=(e,t)=>{let r;if(sc.validate(["number"],[e]),"string"==typeof t){if(!(r=sp[t]))throw new tb(t)}else{if(t<0||!Number.isInteger(t))throw new tw(t);r=i2(BigInt(10),BigInt(t))}let n=e;"number"==typeof n&&(n<1e-15&&console.warn(sg),n>1e20?(console.warn(sg),n=BigInt(n)):n=n.toLocaleString("fullwide",{useGrouping:!1,maximumFractionDigits:20}));let[i,s]=String("string"!=typeof n||i_(n)?sM(n):n).split(".").concat(""),a=BigInt(`${i}${s}`)*r,o=s.length;return 0===o?a.toString():a.toString().slice(0,-o)},sH=e=>{if(!i1(e,!1))throw new ty(e);let t=e.toLowerCase().replace(/^0x/i,""),r=iQ(rD(iW(sT(t))));if(sr(r)||"0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"===r)return"";let n="0x",i=r.replace(/^0x/i,"");for(let e=0;e<t.length;e+=1)parseInt(i[e],16)>7?n+=t[e].toUpperCase():n+=t[e];return n},sG=e=>{if("boolean"==typeof e)return e;if("number"==typeof e&&(0===e||1===e)||"bigint"==typeof e&&(e===BigInt(0)||e===BigInt(1)))return!!e;if("string"==typeof e&&!i_(e)&&("1"===e||"0"===e||"false"===e||"true"===e))return"true"===e||"false"!==e&&!!Number(e);if("string"==typeof e&&i_(e)&&("0x1"===e||"0x0"===e))return!!sM(e);throw new tE(e)};var s$=r(7625),sq=s$;class sz extends sq{constructor(){super(...arguments),this.maxListeners=Number.MAX_SAFE_INTEGER}setMaxListeners(e){return this.maxListeners=e,this}getMaxListeners(){return this.maxListeners}}let sV=i_,sQ=iR,sZ=i0,sJ=i1,sK=i7,sW=se,sY=(e,t)=>!!(i7(e)&&i1(t))&&se(e,iV(t,64)),sX=(e,t)=>!!(i7(e)&&i1(t))&&se(e,t),s0=si,s1=(e,t)=>!!(i7(e)&&si(t))&&se(e,t),s2=(e,t)=>{let r="string"==typeof e&&i5(e),n="string"==typeof t&&i5(t);if(e===t||("earliest"===e||0===e)&&("earliest"===t||0===t))return 0;if("earliest"===e&&t>0)return -1;if("earliest"===t&&e>0)return 1;if(r&&n){let r={[P.EARLIEST]:1,[P.FINALIZED]:2,[P.SAFE]:3,[P.LATEST]:4,[P.PENDING]:5};return r[e]<r[t]?-1:1}if(r&&!n||!r&&n)throw new tS("Cannot compare blocktag with provided non-blocktag input.");let i=BigInt(e),s=BigInt(t);return i<s?-1:i===s?0:1},s3=e=>"object"==typeof e&&!sr(e)&&0!==Object.keys(e).length&&["input","data","from","gas","gasPrice","gasLimit","address","jsonInterface","syncWithContext","dataInputFill"].some(t=>t in e),s4=sr,s8=e=>"object"==typeof e&&!sr(e)&&!Array.isArray(e)&&!(e instanceof ee),s6=(e,...t)=>{if(!s8(e))return e;let r=Object.assign({},e);for(let e of t)for(let t in e)s8(e[t])?(r[t]||(r[t]={}),r[t]=s6(r[t],e[t])):!sr(e[t])&&Object.hasOwnProperty.call(e,t)&&(Array.isArray(e[t])||e[t]instanceof ee?r[t]=e[t].slice(0):r[t]=e[t]);return r},s5=(e,t,r="0")=>"string"==typeof e?i_(e)?iV(e,t,r):e.padStart(t,r):(sc.validate(["int"],[e]),iV(e,t,r)),s9=(e,t,r="0")=>{if("string"==typeof e&&!i_(e))return e.padEnd(t,r);let n="string"==typeof e&&i_(e)?e:sx(e),i=n.startsWith("-")?3:2;return sc.validate([n.startsWith("-")?"int":"uint"],[e]),n.padEnd(t+i,r)},s7=s9,ae=s5,at=(e,t=64)=>{sc.validate(["int"],[e]);let r=sM(e);if(r>=0)return s5(sL(r),t);let n=i2(BigInt(2),BigInt(4*t));if(-r>=n)throw new tx(`value: ${e}, nibbleWidth: ${t}`);return s5(sx(BigInt(r)+n),t)},ar=(e,t=64)=>{sc.validate(["int"],[e]);let r=sM(e);if(r<0)return r;let n=Math.ceil(Math.log(Number(r))/Math.log(2));if(n>4*t)throw new tx(`value: "${e}", nibbleWidth: "${t}"`);if(4*t!==n)return r;let i=i2(BigInt(2),BigInt(t)*BigInt(4));return sM(BigInt(r)-i)},{parseBaseType:an}=Q,ai=e=>"object"==typeof e&&!sr(e)&&"number"in e&&"bytes"in e,as=(e,t,r=[])=>{let n,i=Object.assign({},e);for(let e of t){if(i.oneOf&&n){let e=n,t=r.find(([t])=>t===e);t&&t[0]===n&&(i=i.oneOf[t[1]])}if(!i.properties&&!i.items)return;i.properties?i=i.properties[e]:i.items&&i.items.properties?i=i.items.properties[e]:i.items&&sn(i.items)?i=i.items:i.items&&Array.isArray(i.items)&&(i=i.items[parseInt(e,10)]),i&&e&&(n=e)}return i},aa=(e,t,r)=>{try{let{baseType:n,baseTypeSize:i}=an(t);if("int"===n||"uint"===n)switch(r.number){case E.NUMBER:return Number(sD(e));case E.HEX:return sx(sD(e));case E.STR:return sD(e).toString();case E.BIGINT:return sD(e);default:throw new eT(`Invalid format: ${String(r.number)}`)}if("bytes"===n){let t;switch(i?"string"==typeof e?t=s5(e,2*i):sd(e)&&(t=sh(new Uint8Array(i-e.length),e)):t=e,r.bytes){case k.HEX:return sv(sm(t));case k.UINT8ARRAY:return sm(t);default:throw new eT(`Invalid format: ${String(r.bytes)}`)}}if("string"===n)return String(e)}catch(e){}return e},ao=({value:e,schemaProp:t,schema:r,object:n,key:i,dataPath:s,format:a,oneOfPath:o=[]})=>{var l,u;if(Array.isArray(e)){let c=t;if((null==t?void 0:t.oneOf)!==void 0&&t.oneOf.forEach((r,n)=>{var s,a;Array.isArray(null==t?void 0:t.items)||("object"!=typeof e[0]||(null===(s=null==r?void 0:r.items)||void 0===s?void 0:s.type)!=="object")&&("string"!=typeof e[0]||(null===(a=null==r?void 0:r.items)||void 0===a?void 0:a.type)==="object")||(c=r,o.push([i,n]))}),sr(null==c?void 0:c.items))return delete n[i],s.pop(),!0;if(sn(c.items)&&!sr(c.items.format)){for(let t=0;t<e.length;t+=1)n[i][t]=aa(e[t],null===(l=null==c?void 0:c.items)||void 0===l?void 0:l.format,a);return s.pop(),!0}if(!Array.isArray(null==c?void 0:c.items)&&(null===(u=null==c?void 0:c.items)||void 0===u?void 0:u.type)==="object"){for(let t of e)al(t,r,s,a,o);return s.pop(),!0}if(Array.isArray(null==c?void 0:c.items)){for(let t=0;t<e.length;t+=1)n[i][t]=aa(e[t],c.items[t].format,a);return s.pop(),!0}}return!1},al=(e,t,r,n,i=[])=>{var s;if(!sn(e)&&!Array.isArray(e))return aa(e,null==t?void 0:t.format,n);if(Array.isArray(e)&&(null==t?void 0:t.type)==="array"&&(null===(s=null==t?void 0:t.items)||void 0===s?void 0:s.type)==="object")ao({value:e,schemaProp:t,schema:t,object:e,key:"",dataPath:r,format:n,oneOfPath:i});else for(let[s,a]of Object.entries(e)){r.push(s);let o=as(t,r,i);if(sr(o)){delete e[s],r.pop();continue}if(sn(a)){al(a,t,r,n,i),r.pop();continue}if(!ao({value:a,schemaProp:o,schema:t,object:e,key:s,dataPath:r,format:n,oneOfPath:i})){if((null==o?void 0:o.format)===void 0&&(null==o?void 0:o.oneOf)!==void 0){for(let[e,t]of o.oneOf.entries())if((null==t?void 0:t.format)!==void 0){o=t;break}}e[s]=aa(a,o.format,n),r.pop()}}return e},au=(e,t,r=Y)=>{let n;n=sn(t)?s6({},t):Array.isArray(t)?[...t]:t;let i=sn(e)?e:ij(e);if(!i.properties&&!i.items&&!i.format)throw new eT("Invalid json schema for formatting");return al(n,i,[],r)},ac="0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",ad=e=>sv(rD(iW("bigint"==typeof e||"number"==typeof e?ru(e.toString()):Array.isArray(e)?new Uint8Array(e):"string"!=typeof e||i_(e)?sm(e):ru(e)))),ah=e=>{let t=ad("string"==typeof e?e.startsWith("0x")&&i_(e)?sb(e):ru(e):e);return t===ac?void 0:t},af=e=>{let t=ah(e);return sr(t)?ac:t},ap=e=>{let t,r;if(Array.isArray(e))throw Error("Autodetection of array types is not supported.");if("object"==typeof e&&("t"in e||"type"in e)&&("v"in e||"value"in e))t="t"in e?e.t:e.type,r="v"in e?e.v:e.value,t="bigint"===t.toLowerCase()?"int":t;else{if("bigint"==typeof e)return["int",e];t=sL(e,!0),r=sL(e),t.startsWith("int")||t.startsWith("uint")||(t="bytes")}return(t.startsWith("int")||t.startsWith("uint"))&&"string"==typeof r&&!/^(-)?0x/i.test(r)&&(r=sD(r)),[t,r]},ag=e=>e.startsWith("int[")?`int256${e.slice(3)}`:"int"===e?"int256":e.startsWith("uint[")?`uint256'${e.slice(4)}`:"uint"===e?"uint256":e,am=(e,t)=>{let r=/^(\d+).*$/.exec(e.slice(t));return r?parseInt(r[1],10):0},ay=e=>e.toString(2).length,av=(e,t)=>{let r=t.toString();if("string"===e){if("string"==typeof t)return sP(t);throw new tv(t)}if("bool"===e||"boolean"===e){if("boolean"==typeof t)return t?"01":"00";throw new tE(t)}if("address"===e){if(!i1(r))throw new ty(r);return r}let n=ag(e);if(e.startsWith("uint")){let e=am(n,4);if(e%8||e<8||e>256)throw new tP(r);let t=sM(r);if(ay(t)>e)throw new tI(r);if(t<BigInt(0))throw new tk(r);return e?ae(t.toString(16),e/8*2):t.toString(16)}if(e.startsWith("int")){let t=am(n,3);if(t%8||t<8||t>256)throw new tP(e);let i=sM(r);if(ay(i)>t)throw new tI(r);return i<BigInt(0)?at(i.toString(),t/8*2):t?ae(i.toString(16),t/4):i.toString(16)}if("bytes"===n){if(r.replace(/^0x/i,"").length%2!=0)throw new tg(r);return r}if(e.startsWith("bytes")){if(r.replace(/^0x/i,"").length%2!=0)throw new tg(r);let t=am(e,5);if(!t||t<1||t>64||t<r.replace(/^0x/i,"").length/2)throw new tg(r);return s7(r,2*t)}return""},ab=e=>{let[t,r]=ap(e);return Array.isArray(r)?r.map(e=>av(t,e).replace("0x","")).join(""):av(t,r).replace("0x","")},aw=(...e)=>{let t=e.map(ab);return`0x${t.join("").toLowerCase()}`},aA=(...e)=>ah(aw(...e)),ax=(...e)=>af(aw(...e)),aE=e=>ah(`0x${("number"==typeof e?e.toString():e).padStart(64,"0")}`),ak=e=>rm(e),aP=e=>sv(ak(e));var aI=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};function aS(e){return("object"==typeof e||"function"==typeof e)&&"function"==typeof e.then}function aO(e,t,r){return aI(this,void 0,void 0,function*(){let n;let i=yield Promise.race([e instanceof Promise?e:e(),new Promise((e,i)=>{n=setTimeout(()=>r?i(r):e(void 0),t)})]);if(n&&clearTimeout(n),i instanceof Error)throw i;return i})}function aC(e,t){let r;return[new Promise((n,i)=>{r=setInterval(function s(){return aI(this,void 0,void 0,function*(){try{let i=yield aO(e,t);sr(i)||(clearInterval(r),n(i))}catch(e){clearInterval(r),i(e)}}),s}(),t)}),r]}function aT(e,t){return aI(this,void 0,void 0,function*(){return aC(e,t)[0]})}function a_(e,t){let r;let n=new Promise((n,i)=>{r=setTimeout(()=>{i(t)},e)});return[r,n]}function aB(e,t){let r;let n=new Promise((n,i)=>{r=setInterval(()=>{aI(this,void 0,void 0,function*(){let t=yield e();t&&(clearInterval(r),i(t))})},t)});return[r,n]}let aR=()=>{let e=ak(16);e[6]=15&e[6]|64,e[8]=63&e[8]|128;let t=sv(e);return[t.substring(2,10),t.substring(10,14),t.substring(14,18),t.substring(18,22),t.substring(22,34)].join("-")},aN=e=>{let t=e.error.code;return tK.has(t)||t>=-32099&&t<=-32e3},aF=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"result"in e&&sr(e.error)&&("number"==typeof e.id||"string"==typeof e.id),aL=e=>!Array.isArray(e)&&"2.0"===e.jsonrpc&&!!e&&sr(e.result)&&"error"in e&&("number"==typeof e.id||"string"==typeof e.id),aM=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&!sr(e.params)&&!sr(e.method),aD=e=>!Array.isArray(e)&&!!e&&"2.0"===e.jsonrpc&&"id"in e&&"result"in e,aU=e=>aF(e)||aL(e),aj=e=>Array.isArray(e)?e.every(aU):aU(e),aH=e=>Array.isArray(e)&&e.length>0&&aj(e),aG=e=>{i=e},a$=e=>{var t,r,n,s;return void 0!==i&&(i+=1),{jsonrpc:null!==(t=e.jsonrpc)&&void 0!==t?t:"2.0",id:null!==(n=null!==(r=e.id)&&void 0!==r?r:i)&&void 0!==n?n:aR(),method:e.method,params:null!==(s=e.params)&&void 0!==s?s:void 0}},aq=e=>e.map(e=>a$(e)),az=e=>Array.isArray(e)&&e.length>0;var aV=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class aQ{constructor({timeout:e,eagerStart:t,timeoutMessage:r}={timeout:0,eagerStart:!1,timeoutMessage:"DeferredPromise timed out"}){this[R]="Promise",this._state="pending",this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t}),this._timeoutMessage=r,this._timeoutInterval=e,t&&this.startTimer()}get state(){return this._state}then(e,t){return aV(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return aV(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return aV(this,void 0,void 0,function*(){return this._promise.finally(e)})}resolve(e){this._resolve(e),this._state="fulfilled",this._clearTimeout()}reject(e){this._reject(e),this._state="rejected",this._clearTimeout()}startTimer(){this._timeoutInterval&&this._timeoutInterval>0&&(this._timeoutId=setTimeout(this._checkTimeout.bind(this),this._timeoutInterval))}_checkTimeout(){"pending"===this._state&&this._timeoutId&&this.reject(new eB(this._timeoutMessage))}_clearTimeout(){this._timeoutId&&clearTimeout(this._timeoutId)}}R=Symbol.toStringTag;class aZ{constructor(e,t){this.eventEmitter=e,this.autoReconnect=t,this.chunkTimeout=15e3}clearQueues(){"function"==typeof this._clearQueues&&this._clearQueues()}onError(e){this._clearQueues=e}parseResponse(e){let t=[];return e.replace(/\}[\n\r]?\{/g,"}|--|{").replace(/\}\][\n\r]?\[\{/g,"}]|--|[{").replace(/\}[\n\r]?\[\{/g,"}|--|[{").replace(/\}\][\n\r]?\{/g,"}]|--|{").split("|--|").forEach(e=>{let r,n=e;this.lastChunk&&(n=this.lastChunk+n);try{r=JSON.parse(n)}catch(e){this.lastChunk=n,this.lastChunkTimeout&&clearTimeout(this.lastChunkTimeout),this.lastChunkTimeout=setTimeout(()=>{this.autoReconnect||(this.clearQueues(),this.eventEmitter.emit("error",new t_({id:1,jsonrpc:"2.0",error:{code:2,message:"Chunk timeout"}})))},this.chunkTimeout);return}clearTimeout(this.lastChunkTimeout),this.lastChunk=void 0,r&&t.push(r)}),t}}var aJ=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class aK extends en{constructor(){super(...arguments),this._eventEmitter=new s$,this._chainId="",this._accounts=[]}_getChainId(){var e;return aJ(this,void 0,void 0,function*(){let t=yield this.request(a$({method:"eth_chainId",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:""})}_getAccounts(){var e;return aJ(this,void 0,void 0,function*(){let t=yield this.request(a$({method:"eth_accounts",params:[]}));return null!==(e=null==t?void 0:t.result)&&void 0!==e?e:[]})}_onConnect(){Promise.all([this._getChainId().then(e=>{e!==this._chainId&&(this._chainId=e,this._eventEmitter.emit("chainChanged",this._chainId))}).catch(e=>{console.error(e)}),this._getAccounts().then(e=>{this._accounts.length===e.length&&e.every(t=>e.includes(t))||(this._accounts=e,this._onAccountsChanged())}).catch(e=>{console.error(e)})]).then(()=>this._eventEmitter.emit("connect",{chainId:this._chainId})).catch(e=>{console.error(e)})}_onDisconnect(e,t){this._eventEmitter.emit("disconnect",new tM(e,t))}_onAccountsChanged(){this._eventEmitter.emit("accountsChanged",this._accounts)}}var aW=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let aY={autoReconnect:!0,delay:5e3,maxAttempts:5};class aX extends aK{constructor(e,t,r){if(super(),this._connectionStatus="connecting",this._onMessageHandler=this._onMessage.bind(this),this._onOpenHandler=this._onConnect.bind(this),this._onCloseHandler=this._onCloseEvent.bind(this),this._onErrorHandler=this._onError.bind(this),!this._validateProviderPath(e))throw new eM(e);this._socketPath=e,this._socketOptions=t,this._reconnectOptions=Object.assign(Object.assign({},aY),null!=r?r:{}),this._pendingRequestsQueue=new Map,this._sentRequestsQueue=new Map,this._init(),this.connect(),this.chunkResponseParser=new aZ(this._eventEmitter,this._reconnectOptions.autoReconnect),this.chunkResponseParser.onError(()=>{this._clearQueues()}),this.isReconnecting=!1}get SocketConnection(){return this._socketConnection}_init(){this._reconnectAttempts=0}connect(){try{this._openSocketConnection(),this._connectionStatus="connecting",this._addSocketListeners()}catch(e){if(this.isReconnecting)setImmediate(()=>{this._reconnect()});else{if(this._connectionStatus="disconnected",e&&e.message)throw new ey(`Error while connecting to ${this._socketPath}. Reason: ${e.message}`);throw new eM(this._socketPath)}}}_validateProviderPath(e){return!!e}getPendingRequestQueueSize(){return this._pendingRequestsQueue.size}getSentRequestsQueueSize(){return this._sentRequestsQueue.size}supportsSubscriptions(){return!0}on(e,t){this._eventEmitter.on(e,t)}once(e,t){this._eventEmitter.once(e,t)}removeListener(e,t){this._eventEmitter.removeListener(e,t)}_onDisconnect(e,t){this._connectionStatus="disconnected",super._onDisconnect(e,t)}disconnect(e,t){let r=null!=e?e:1e3;this._removeSocketListeners(),"disconnected"!==this.getStatus()&&this._closeSocketConnection(r,t),this._onDisconnect(r,t)}safeDisconnect(e,t,r=!1,n=1e3){return aW(this,void 0,void 0,function*(){let i=0;yield aW(this,void 0,void 0,function*(){return new Promise(e=>{let t=setInterval(()=>{r&&i>=5&&this.clearQueues(),0===this.getPendingRequestQueueSize()&&0===this.getSentRequestsQueueSize()&&(clearInterval(t),e(!0)),i+=1},n)})}),this.disconnect(e,t)})}removeAllListeners(e){this._eventEmitter.removeAllListeners(e)}_onError(e){this.isReconnecting?this._reconnect():this._eventEmitter.emit("error",e)}reset(){this._sentRequestsQueue.clear(),this._pendingRequestsQueue.clear(),this._init(),this._removeSocketListeners(),this._addSocketListeners()}_reconnect(){this.isReconnecting||(this.isReconnecting=!0,this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((e,t)=>{e.deferredPromise.reject(new ew),this._sentRequestsQueue.delete(t)}),this._reconnectAttempts<this._reconnectOptions.maxAttempts?(this._reconnectAttempts+=1,setTimeout(()=>{this._removeSocketListeners(),this.connect(),this.isReconnecting=!1},this._reconnectOptions.delay)):(this.isReconnecting=!1,this._clearQueues(),this._removeSocketListeners(),this._eventEmitter.emit("error",new eb(this._reconnectOptions.maxAttempts))))}request(e){return aW(this,void 0,void 0,function*(){if(s4(this._socketConnection))throw Error("Connection is undefined");"disconnected"===this.getStatus()&&this.connect();let t=az(e)?e[0].id:e.id;if(!t)throw new eU("Request Id not defined");if(this._sentRequestsQueue.has(t))throw new eA(t);let r=new aQ;r.catch(e=>{this._eventEmitter.emit("error",e)});let n={payload:e,deferredPromise:r};if("connecting"===this.getStatus())return this._pendingRequestsQueue.set(t,n),n.deferredPromise;this._sentRequestsQueue.set(t,n);try{this._sendToSocket(n.payload)}catch(e){this._sentRequestsQueue.delete(t),this._eventEmitter.emit("error",e)}return r})}_onConnect(){this._connectionStatus="connected",this._reconnectAttempts=0,super._onConnect(),this._sendPendingRequests()}_sendPendingRequests(){for(let[e,t]of this._pendingRequestsQueue.entries())try{this._sendToSocket(t.payload),this._pendingRequestsQueue.delete(e),this._sentRequestsQueue.set(e,t)}catch(t){this._pendingRequestsQueue.delete(e),this._eventEmitter.emit("error",t)}}_onMessage(e){let t=this._parseResponses(e);if(!s4(t)&&0!==t.length)for(let e of t){if(aM(e)&&e.method.endsWith("_subscription")){this._eventEmitter.emit("message",e);return}let t=aH(e)?e[0].id:e.id,r=this._sentRequestsQueue.get(t);if(!r)return;(aH(e)||aF(e)||aL(e))&&(this._eventEmitter.emit("message",e),r.deferredPromise.resolve(e)),this._sentRequestsQueue.delete(t)}}clearQueues(e){this._clearQueues(e)}_clearQueues(e){this._pendingRequestsQueue.size>0&&this._pendingRequestsQueue.forEach((t,r)=>{t.deferredPromise.reject(new ev(e)),this._pendingRequestsQueue.delete(r)}),this._sentRequestsQueue.size>0&&this._sentRequestsQueue.forEach((t,r)=>{t.deferredPromise.reject(new ev(e)),this._sentRequestsQueue.delete(r)}),this._removeSocketListeners()}}class a0{constructor(){this._emitter=new sz}on(e,t){this._emitter.on(e,t)}once(e,t){this._emitter.once(e,t)}off(e,t){this._emitter.off(e,t)}emit(e,t){this._emitter.emit(e,t)}listenerCount(e){return this._emitter.listenerCount(e)}listeners(e){return this._emitter.listeners(e)}eventNames(){return this._emitter.eventNames()}removeAllListeners(){return this._emitter.removeAllListeners()}setMaxListenerWarningThreshold(e){this._emitter.setMaxListeners(e)}getMaxListeners(){return this._emitter.getMaxListeners()}}(N||(N={})).CONFIG_CHANGE="CONFIG_CHANGE";class a1 extends a0{constructor(e){super(),this.config={handleRevert:!1,defaultAccount:void 0,defaultBlock:"latest",transactionBlockTimeout:50,transactionConfirmationBlocks:24,transactionPollingInterval:1e3,transactionPollingTimeout:75e4,transactionReceiptPollingInterval:void 0,transactionSendTimeout:75e4,transactionConfirmationPollingInterval:void 0,blockHeaderTimeout:10,maxListenersWarningThreshold:100,contractDataInputFill:"data",defaultNetworkId:void 0,defaultChain:"mainnet",defaultHardfork:"london",defaultCommon:void 0,defaultTransactionType:"0x2",defaultMaxPriorityFeePerGas:sL(25e8),enableExperimentalFeatures:{useSubscriptionWhenCheckingBlockTimeout:!1,useRpcCallSpecification:!1},transactionBuilder:void 0,transactionTypeParser:void 0,customTransactionSchema:void 0,defaultReturnFormat:Y,ignoreGasPricing:!1},this.setConfig(null!=e?e:{})}setConfig(e){for(let t of Object.keys(e))this._triggerConfigChange(t,e[t]),s4(e[t])||"number"!=typeof e[t]||"maxListenersWarningThreshold"!==t||this.setMaxListenerWarningThreshold(Number(e[t]));Object.assign(this.config,e)}get handleRevert(){return this.config.handleRevert}set handleRevert(e){this._triggerConfigChange("handleRevert",e),this.config.handleRevert=e}get contractDataInputFill(){return this.config.contractDataInputFill}set contractDataInputFill(e){this._triggerConfigChange("contractDataInputFill",e),this.config.contractDataInputFill=e}get defaultAccount(){return this.config.defaultAccount}set defaultAccount(e){this._triggerConfigChange("defaultAccount",e),this.config.defaultAccount=e}get defaultBlock(){return this.config.defaultBlock}set defaultBlock(e){this._triggerConfigChange("defaultBlock",e),this.config.defaultBlock=e}get transactionSendTimeout(){return this.config.transactionSendTimeout}set transactionSendTimeout(e){this._triggerConfigChange("transactionSendTimeout",e),this.config.transactionSendTimeout=e}get transactionBlockTimeout(){return this.config.transactionBlockTimeout}set transactionBlockTimeout(e){this._triggerConfigChange("transactionBlockTimeout",e),this.config.transactionBlockTimeout=e}get transactionConfirmationBlocks(){return this.config.transactionConfirmationBlocks}set transactionConfirmationBlocks(e){this._triggerConfigChange("transactionConfirmationBlocks",e),this.config.transactionConfirmationBlocks=e}get transactionPollingInterval(){return this.config.transactionPollingInterval}set transactionPollingInterval(e){this._triggerConfigChange("transactionPollingInterval",e),this.config.transactionPollingInterval=e,this.transactionReceiptPollingInterval=e,this.transactionConfirmationPollingInterval=e}get transactionPollingTimeout(){return this.config.transactionPollingTimeout}set transactionPollingTimeout(e){this._triggerConfigChange("transactionPollingTimeout",e),this.config.transactionPollingTimeout=e}get transactionReceiptPollingInterval(){return this.config.transactionReceiptPollingInterval}set transactionReceiptPollingInterval(e){this._triggerConfigChange("transactionReceiptPollingInterval",e),this.config.transactionReceiptPollingInterval=e}get transactionConfirmationPollingInterval(){return this.config.transactionConfirmationPollingInterval}set transactionConfirmationPollingInterval(e){this._triggerConfigChange("transactionConfirmationPollingInterval",e),this.config.transactionConfirmationPollingInterval=e}get blockHeaderTimeout(){return this.config.blockHeaderTimeout}set blockHeaderTimeout(e){this._triggerConfigChange("blockHeaderTimeout",e),this.config.blockHeaderTimeout=e}get enableExperimentalFeatures(){return this.config.enableExperimentalFeatures}set enableExperimentalFeatures(e){this._triggerConfigChange("enableExperimentalFeatures",e),this.config.enableExperimentalFeatures=e}get maxListenersWarningThreshold(){return this.config.maxListenersWarningThreshold}set maxListenersWarningThreshold(e){this._triggerConfigChange("maxListenersWarningThreshold",e),this.setMaxListenerWarningThreshold(e),this.config.maxListenersWarningThreshold=e}get defaultReturnFormat(){return this.config.defaultReturnFormat}set defaultReturnFormat(e){this._triggerConfigChange("defaultReturnFormat",e),this.config.defaultReturnFormat=e}get defaultNetworkId(){return this.config.defaultNetworkId}set defaultNetworkId(e){this._triggerConfigChange("defaultNetworkId",e),this.config.defaultNetworkId=e}get defaultChain(){return this.config.defaultChain}set defaultChain(e){if(!s4(this.config.defaultCommon)&&!s4(this.config.defaultCommon.baseChain)&&e!==this.config.defaultCommon.baseChain)throw new tR(this.config.defaultChain,e);this._triggerConfigChange("defaultChain",e),this.config.defaultChain=e}get defaultHardfork(){return this.config.defaultHardfork}set defaultHardfork(e){if(!s4(this.config.defaultCommon)&&!s4(this.config.defaultCommon.hardfork)&&e!==this.config.defaultCommon.hardfork)throw new tB(this.config.defaultCommon.hardfork,e);this._triggerConfigChange("defaultHardfork",e),this.config.defaultHardfork=e}get defaultCommon(){return this.config.defaultCommon}set defaultCommon(e){if(!s4(this.config.defaultHardfork)&&!s4(e)&&!s4(e.hardfork)&&this.config.defaultHardfork!==e.hardfork)throw new tB(this.config.defaultHardfork,e.hardfork);if(!s4(this.config.defaultChain)&&!s4(e)&&!s4(e.baseChain)&&this.config.defaultChain!==e.baseChain)throw new tR(this.config.defaultChain,e.baseChain);this._triggerConfigChange("defaultCommon",e),this.config.defaultCommon=e}get ignoreGasPricing(){return this.config.ignoreGasPricing}set ignoreGasPricing(e){this._triggerConfigChange("ignoreGasPricing",e),this.config.ignoreGasPricing=e}get defaultTransactionType(){return this.config.defaultTransactionType}set defaultTransactionType(e){this._triggerConfigChange("defaultTransactionType",e),this.config.defaultTransactionType=e}get defaultMaxPriorityFeePerGas(){return this.config.defaultMaxPriorityFeePerGas}set defaultMaxPriorityFeePerGas(e){this._triggerConfigChange("defaultMaxPriorityFeePerGas",e),this.config.defaultMaxPriorityFeePerGas=e}get transactionBuilder(){return this.config.transactionBuilder}set transactionBuilder(e){this._triggerConfigChange("transactionBuilder",e),this.config.transactionBuilder=e}get transactionTypeParser(){return this.config.transactionTypeParser}set transactionTypeParser(e){this._triggerConfigChange("transactionTypeParser",e),this.config.transactionTypeParser=e}get customTransactionSchema(){return this.config.customTransactionSchema}set customTransactionSchema(e){this._triggerConfigChange("customTransactionSchema",e),this.config.customTransactionSchema=e}_triggerConfigChange(e,t){this.emit(N.CONFIG_CHANGE,{name:e,oldValue:this.config[e],newValue:t})}}var a2=r(751);class a3 extends en{constructor(e,t){if(super(),!a3.validateClientUrl(e))throw new eM(e);this.clientUrl=e,this.httpProviderOptions=t}static validateClientUrl(e){return"string"==typeof e&&/^http(s)?:\/\//i.test(e)}getStatus(){throw new e_}supportsSubscriptions(){return!1}request(e,t){var r,n,i,s,a;return n=this,i=void 0,s=void 0,a=function*(){let n=Object.assign(Object.assign({},null===(r=this.httpProviderOptions)||void 0===r?void 0:r.providerOptions),t),i=yield a2(this.clientUrl,Object.assign(Object.assign({},n),{method:"POST",headers:Object.assign(Object.assign({},n.headers),{"Content-Type":"application/json"}),body:JSON.stringify(e)}));if(!i.ok)throw new tT((yield i.json()),void 0,void 0,i.status);return yield i.json()},new(s||(s=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,o)}l((a=a.apply(n,i||[])).next())})}on(){throw new e_}removeListener(){throw new e_}once(){throw new e_}removeAllListeners(){throw new e_}connect(){throw new e_}disconnect(){throw new e_}reset(){throw new e_}reconnect(){throw new e_}}var a4=null;"undefined"!=typeof WebSocket?a4=WebSocket:"undefined"!=typeof MozWebSocket?a4=MozWebSocket:void 0!==r.g?a4=r.g.WebSocket||r.g.MozWebSocket:"undefined"!=typeof window?a4=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(a4=self.WebSocket||self.MozWebSocket);var a8=a4;class a6 extends aX{constructor(e,t,r){super(e,t,r)}_validateProviderPath(e){return"string"==typeof e&&/^ws(s)?:\/\//i.test(e)}getStatus(){if(this._socketConnection&&!s4(this._socketConnection))switch(this._socketConnection.readyState){case this._socketConnection.CONNECTING:return"connecting";case this._socketConnection.OPEN:return"connected"}return"disconnected"}_openSocketConnection(){this._socketConnection=new a8(this._socketPath,void 0,this._socketOptions&&0===Object.keys(this._socketOptions).length?void 0:this._socketOptions)}_closeSocketConnection(e,t){var r;null===(r=this._socketConnection)||void 0===r||r.close(e,t)}_sendToSocket(e){var t;if("disconnected"===this.getStatus())throw new ev;null===(t=this._socketConnection)||void 0===t||t.send(JSON.stringify(e))}_parseResponses(e){return this.chunkResponseParser.parseResponse(e.data)}_addSocketListeners(){var e,t,r,n;null===(e=this._socketConnection)||void 0===e||e.addEventListener("open",this._onOpenHandler),null===(t=this._socketConnection)||void 0===t||t.addEventListener("message",this._onMessageHandler),null===(r=this._socketConnection)||void 0===r||r.addEventListener("close",e=>this._onCloseHandler(e)),null===(n=this._socketConnection)||void 0===n||n.addEventListener("error",this._onErrorHandler)}_removeSocketListeners(){var e,t,r;null===(e=this._socketConnection)||void 0===e||e.removeEventListener("message",this._onMessageHandler),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("open",this._onOpenHandler),null===(r=this._socketConnection)||void 0===r||r.removeEventListener("close",this._onCloseHandler)}_onCloseEvent(e){var t;if(this._reconnectOptions.autoReconnect&&(![1e3,1001].includes(e.code)||!e.wasClean)){this._reconnect();return}this._clearQueues(e),this._removeSocketListeners(),this._onDisconnect(e.code,e.reason),null===(t=this._socketConnection)||void 0===t||t.removeEventListener("error",this._onErrorHandler)}}let a5=e=>en.isWeb3Provider(e),a9=e=>"string"!=typeof e&&"request"in e&&"Function"===e.request.constructor.name,a7=e=>"string"!=typeof e&&"request"in e&&"AsyncFunction"===e.request.constructor.name,oe=e=>"string"!=typeof e&&"send"in e,ot=e=>"string"!=typeof e&&"sendAsync"in e,or=e=>e&&(a5(e)||a7(e)||a9(e)||ot(e)||oe(e)),on=e=>e&&"supportsSubscriptions"in e?e.supportsSubscriptions():!!e&&"string"!=typeof e&&"on"in e;var oi=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};(h=F||(F={})).PROVIDER_CHANGED="PROVIDER_CHANGED",h.BEFORE_PROVIDER_CHANGE="BEFORE_PROVIDER_CHANGE";let os={HttpProvider:a3,WebsocketProvider:a6};class oa extends a0{constructor(e,t,r){super(),s4(e)||this.setProvider(e),this.useRpcCallSpecification=t,s4(r)||(this.middleware=r)}static get providers(){return os}get provider(){return this._provider}get providers(){return os}setProvider(e){let t;if(e&&"string"==typeof e&&this.providers){if(/^http(s)?:\/\//i.test(e))t=new this.providers.HttpProvider(e);else if(/^ws(s)?:\/\//i.test(e))t=new this.providers.WebsocketProvider(e);else throw new eL(`Can't autodetect provider for "${e}"`)}else t=s4(e)?void 0:e;return this.emit(F.BEFORE_PROVIDER_CHANGE,this._provider),this._provider=t,this.emit(F.PROVIDER_CHANGED,this._provider),!0}setMiddleware(e){this.middleware=e}send(e){return oi(this,void 0,void 0,function*(){let t=Object.assign({},e),r=yield this._sendRequest(t);if(s4(this.middleware)||(r=yield this.middleware.processResponse(r)),aF(r))return r.result;throw new tT(r)})}sendBatch(e){return oi(this,void 0,void 0,function*(){return yield this._sendRequest(e)})}_sendRequest(e){return oi(this,void 0,void 0,function*(){let{provider:t}=this;if(s4(t))throw new eL("Provider not available. Use `.setProvider` or `.provider=` to initialize the provider.");let r=az(e)?aq(e):a$(e);if(s4(this.middleware)||(r=yield this.middleware.processRequest(r)),a5(t)){let e;try{e=yield t.request(r)}catch(t){e=t}return this._processJsonRpcResponse(r,e,{legacy:!1,error:!1})}if(a7(t))return t.request(r).then(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!1})).catch(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!0}));if(a9(t))return new Promise((e,n)=>{let i=e=>{n(this._processJsonRpcResponse(r,e,{legacy:!0,error:!0}))},s=t=>e(this._processJsonRpcResponse(r,t,{legacy:!0,error:!1})),a=t.request(r,(e,t)=>e?i(e):s(t));aS(a)&&a.then(s).catch(e=>{try{let t=this._processJsonRpcResponse(r,e,{legacy:!0,error:!0});n(t)}catch(e){n(e)}})});if(oe(t))return new Promise((e,n)=>{t.send(r,(t,i)=>{if(t)return n(this._processJsonRpcResponse(r,t,{legacy:!0,error:!0}));if(s4(i))throw new tT({},'Got a "nullish" response from provider.');return e(this._processJsonRpcResponse(r,i,{legacy:!0,error:!1}))})});if(ot(t))return t.sendAsync(r).then(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!1})).catch(e=>this._processJsonRpcResponse(r,e,{legacy:!0,error:!0}));throw new eL("Provider does not have a request or send method to use.")})}_processJsonRpcResponse(e,t,{legacy:r,error:n}){if(s4(t))return this._buildResponse(e,null,n);if(aL(t)){if(this.useRpcCallSpecification&&aN(t)){if(tK.get(t.error.code))throw new(tK.get(t.error.code)).error(t);throw new tL(t)}if(!oa._isReverted(t))throw new t_(t,e)}if(aF(t))return t;if(t instanceof Error)throw oa._isReverted(t),t;if(!r&&az(e)&&aH(t)||r&&!n&&az(e))return t;if(r&&n&&az(e))throw t;if(r&&!aL(t)&&!aF(t))return this._buildResponse(e,t,n);if(az(e)&&!Array.isArray(t))throw new tT(t,"Got normal response for a batch request.");if(!az(e)&&Array.isArray(t))throw new tT(t,"Got batch response for a normal request.");throw new tT(t,"Invalid response")}static _isReverted(e){let t;if(aL(e)?t=e.error:e instanceof Error&&(t=e),null==t?void 0:t.message.includes("revert"))throw new eP(t);return!1}_buildResponse(e,t,r){let n={jsonrpc:"2.0",id:az(e)?e[0].id:"id"in e?e.id:null};return r?Object.assign(Object.assign({},n),{error:t}):Object.assign(Object.assign({},n),{result:t})}}var oo=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class ol{constructor(e,t,r=!1){this.requestManager=e,this.registeredSubscriptions=t,this.tolerateUnlinkedSubscription=r,this._subscriptions=new Map,this.requestManager.on(F.BEFORE_PROVIDER_CHANGE,()=>oo(this,void 0,void 0,function*(){yield this.unsubscribe()})),this.requestManager.on(F.PROVIDER_CHANGED,()=>{this.clear(),this.listenToProviderEvents()}),this.listenToProviderEvents()}listenToProviderEvents(){let e=this.requestManager.provider;this.requestManager.provider&&("function"!=typeof(null==e?void 0:e.supportsSubscriptions)||(null==e?void 0:e.supportsSubscriptions()))&&"function"==typeof this.requestManager.provider.on&&("function"==typeof this.requestManager.provider.request?this.requestManager.provider.on("message",e=>this.messageListener(e)):e.on("data",e=>this.messageListener(e)))}messageListener(e){var t,r,n;if(!e)throw new eD("Should not call messageListener with no data. Type was");let i=(null===(t=e.params)||void 0===t?void 0:t.subscription)||(null===(r=e.data)||void 0===r?void 0:r.subscription)||(null===(n=e.id)||void 0===n?void 0:n.toString(16));if(i){let t=this._subscriptions.get(i);null==t||t.processSubscriptionData(e)}}subscribe(e,t,r=Y){return oo(this,void 0,void 0,function*(){let n=this.registeredSubscriptions[e];if(!n)throw new eD("Invalid subscription type");let i=new n(null!=t?t:void 0,{subscriptionManager:this,returnFormat:r});return yield this.addSubscription(i),i})}get subscriptions(){return this._subscriptions}addSubscription(e){return oo(this,void 0,void 0,function*(){if(!this.requestManager.provider)throw new eL("Provider not available");if(!this.supportsSubscriptions())throw new eD("The current provider does not support subscriptions");if(e.id&&this._subscriptions.has(e.id))throw new eD(`Subscription with id "${e.id}" already exists`);if(yield e.sendSubscriptionRequest(),s4(e.id))throw new eD("Subscription is not subscribed yet.");return this._subscriptions.set(e.id,e),e.id})}removeSubscription(e){return oo(this,void 0,void 0,function*(){let{id:t}=e;if(s4(t))throw new eD("Subscription is not subscribed yet. Or, had already been unsubscribed but not through the Subscription Manager.");if(!this._subscriptions.has(t)&&!this.tolerateUnlinkedSubscription)throw new eD(`Subscription with id "${t.toString()}" does not exists`);return yield e.sendUnsubscribeRequest(),this._subscriptions.delete(t),t})}unsubscribe(e){return oo(this,void 0,void 0,function*(){let t=[];for(let[r,n]of this.subscriptions.entries())(!e||"function"==typeof e&&e({id:r,sub:n}))&&t.push(this.removeSubscription(n));return Promise.all(t)})}clear(){this._subscriptions.clear()}supportsSubscriptions(){return!s4(this.requestManager.provider)&&on(this.requestManager.provider)}}var ou=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class oc extends a0{constructor(e,t){var r;super(),this.args=e;let{requestManager:n}=t,{subscriptionManager:i}=t;n?this._subscriptionManager=new ol(n,{},!0):this._subscriptionManager=i,this._returnFormat=null!==(r=null==t?void 0:t.returnFormat)&&void 0!==r?r:Y}get id(){return this._id}get lastBlock(){return this._lastBlock}subscribe(){return ou(this,void 0,void 0,function*(){return this._subscriptionManager.addSubscription(this)})}processSubscriptionData(e){var t,r;(null==e?void 0:e.data)?this._processSubscriptionResult(null!==(r=null===(t=null==e?void 0:e.data)||void 0===t?void 0:t.result)&&void 0!==r?r:null==e?void 0:e.data):e&&aM(e)&&this._processSubscriptionResult(null==e?void 0:e.params.result)}sendSubscriptionRequest(){return ou(this,void 0,void 0,function*(){return this._id=yield this._subscriptionManager.requestManager.send({method:"eth_subscribe",params:this._buildSubscriptionParams()}),this.emit("connected",this._id),this._id})}get returnFormat(){return this._returnFormat}get subscriptionManager(){return this._subscriptionManager}resubscribe(){return ou(this,void 0,void 0,function*(){yield this.unsubscribe(),yield this.subscribe()})}unsubscribe(){return ou(this,void 0,void 0,function*(){this.id&&(yield this._subscriptionManager.removeSubscription(this))})}sendUnsubscribeRequest(){return ou(this,void 0,void 0,function*(){yield this._subscriptionManager.requestManager.send({method:"eth_unsubscribe",params:[this.id]}),this._id=void 0})}formatSubscriptionResult(e){return e}_processSubscriptionResult(e){this.emit("data",this.formatSubscriptionResult(e))}_processSubscriptionError(e){this.emit("error",e)}_buildSubscriptionParams(){throw Error("Implement in the child class")}}var od=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class oh extends ei{constructor(){super(...arguments),this._addressMap=new Map,this._defaultKeyName="web3js_wallet"}static getStorage(){let e;try{e=window.localStorage;let t="__storage_test__";return e.setItem(t,t),e.removeItem(t),e}catch(t){return t&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&!sr(e)&&0!==e.length?e:void 0}}create(e){for(let t=0;t<e;t+=1)this.add(this._accountProvider.create());return this}add(e){var t;if("string"==typeof e)return this.add(this._accountProvider.privateKeyToAccount(e));let r=this.length;return this.get(e.address)&&(console.warn(`Account ${e.address.toLowerCase()} already exists.`),r=null!==(t=this._addressMap.get(e.address.toLowerCase()))&&void 0!==t?t:r),this._addressMap.set(e.address.toLowerCase(),r),this[r]=e,this}get(e){if("string"==typeof e){let t=this._addressMap.get(e.toLowerCase());return sr(t)?void 0:this[t]}return this[e]}remove(e){if("string"==typeof e){let t=this._addressMap.get(e.toLowerCase());return!sr(t)&&(this._addressMap.delete(e.toLowerCase()),this.splice(t,1),!0)}return!!this[e]&&(this.splice(e,1),!0)}clear(){return this._addressMap.clear(),this.length=0,this}encrypt(e,t){return od(this,void 0,void 0,function*(){return Promise.all(this.map(r=>od(this,void 0,void 0,function*(){return r.encrypt(e,t)})))})}decrypt(e,t,r){return od(this,void 0,void 0,function*(){for(let n of yield Promise.all(e.map(e=>od(this,void 0,void 0,function*(){return this._accountProvider.decrypt(e,t,r)}))))this.add(n);return this})}save(e,t){return od(this,void 0,void 0,function*(){let r=oh.getStorage();if(!r)throw Error("Local storage not available.");return r.setItem(null!=t?t:this._defaultKeyName,JSON.stringify((yield this.encrypt(e)))),!0})}load(e,t){return od(this,void 0,void 0,function*(){let r=oh.getStorage();if(!r)throw Error("Local storage not available.");let n=r.getItem(null!=t?t:this._defaultKeyName);return n&&(yield this.decrypt(JSON.parse(n)||[],e)),this})}}let of={web:rt};function op(e,t,r){if(!r.startsWith("aes-"))throw Error(`AES submodule doesn't support mode ${r}`);if(16!==t.length)throw Error("AES: wrong IV length");if(r.startsWith("aes-128")&&16!==e.length||r.startsWith("aes-256")&&32!==e.length)throw Error("AES: wrong key length")}async function og(e,t,r){let n;if(!of.web)throw Error("Browser crypto not available.");if(["aes-128-cbc","aes-256-cbc"].includes(e)&&(n="cbc"),["aes-128-ctr","aes-256-ctr"].includes(e)&&(n="ctr"),!n)throw Error("AES: unsupported mode");return[await of.web.subtle.importKey("raw",t,{name:`AES-${n.toUpperCase()}`,length:8*t.length},!0,["encrypt","decrypt"]),{name:`aes-${n}`,iv:r,counter:r,length:128}]}async function om(e,t,r,n="aes-128-ctr",i=!0){if(op(t,r,n),of.web){let[s,a]=await og(n,t,r),o=new Uint8Array(await of.web.subtle.encrypt(a,s,e));return i||"aes-cbc"!==a.name||e.length%16||(o=o.slice(0,-16)),o}if(of.node){let s=of.node.createCipheriv(n,t,r);return s.setAutoPadding(i),rd(s.update(e),s.final())}throw Error("The environment doesn't have AES module")}async function oy(e,t,r,n){let i=e.slice(-16);for(let e=0;e<16;e++)i[e]^=16^r[e];return(await om(i,t,r,n)).slice(0,16)}async function ov(e,t,r,n="aes-128-ctr",i=!0){if(op(t,r,n),of.web){let[s,a]=await og(n,t,r);if(!i&&"aes-cbc"===a.name){let i=await oy(e,t,r,n);e=rd(e,i)}let o=new Uint8Array(await of.web.subtle.decrypt(a,s,e));if("aes-cbc"===a.name&&!function(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(await om(o,t,r,n),e))throw Error("AES: wrong padding");return o}if(of.node){let s=of.node.createDecipheriv(n,t,r);return s.setAutoPadding(i),rd(s.update(e),s.final())}throw Error("The environment doesn't have AES module")}class ob extends rh{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,t0(e);let r=rc(t);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let e=0;e<i.length;e++)i[e]^=54;this.iHash.update(i),this.oHash=e.create();for(let e=0;e<i.length;e++)i[e]^=106;this.oHash.update(i),i.fill(0)}update(e){return t1(this),this.iHash.update(e),this}digestInto(e){t1(this),tX(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:a}=this;return e.finished=n,e.destroyed=i,e.blockLen=s,e.outputLen=a,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let ow=(e,t,r)=>new ob(e,t).update(r).digest();function oA(e,t,r,n){var i;let s;let{c:a,dkLen:o,DK:l,PRF:u,PRFSalt:c}=function(e,t,r,n){t0(e);let{c:i,dkLen:s,asyncTick:a}=rp({dkLen:32,asyncTick:10},n);if(tY(i),tY(s),tY(a),i<1)throw Error("PBKDF2: iterations (c) should be >= 1");let o=rc(t),l=rc(r),u=new Uint8Array(s),c=ow.create(e,o),d=c._cloneInto().update(l);return{c:i,dkLen:s,asyncTick:a,DK:u,PRF:c,PRFSalt:d}}(e,t,r,n),d=new Uint8Array(4),h=rn(d),f=new Uint8Array(u.outputLen);for(let e=1,t=0;t<o;e++,t+=u.outputLen){let r=l.subarray(t,t+u.outputLen);h.setInt32(0,e,!1),(s=c._cloneInto(s)).update(d).digestInto(f),r.set(f.subarray(0,r.length));for(let e=1;e<a;e++){u._cloneInto(s).update(f).digestInto(f);for(let e=0;e<r.length;e++)r[e]^=f[e]}}return i=s,u.destroy(),c.destroy(),i&&i.destroy(),f.fill(0),l}ow.create=(e,t)=>new ob(e,t);let ox=(e,t,r)=>e&t^~e&r,oE=(e,t,r)=>e&t^e&r^t&r;class ok extends rh{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=rn(this.buffer)}update(e){t1(this);let{view:t,buffer:r,blockLen:n}=this,i=(e=rc(e)).length;for(let s=0;s<i;){let a=Math.min(n-this.pos,i-s);if(a===n){let t=rn(e);for(;n<=i-s;s+=n)this.process(t,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(t,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){t1(this),t2(e,this),this.finished=!0;let{buffer:t,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;t[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let e=s;e<n;e++)t[e]=0;!function(e,t,r,n){if("function"==typeof e.setBigUint64)return e.setBigUint64(t,r,n);let i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,u=n?0:4;e.setUint32(t+l,a,n),e.setUint32(t+u,o,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let a=rn(e),o=this.outputLen;if(o%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=o/4,u=this.get();if(l>u.length)throw Error("_sha2: outputLen bigger than state");for(let e=0;e<l;e++)a.setUint32(4*e,u[e],i)}digest(){let{buffer:e,outputLen:t}=this;this.digestInto(e);let r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());let{blockLen:t,buffer:r,length:n,finished:i,destroyed:s,pos:a}=this;return e.length=n,e.pos=a,e.finished=i,e.destroyed=s,n%t&&e.buffer.set(r),e}}let oP=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oI=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),oS=new Uint32Array(64);class oO extends ok{constructor(){super(64,32,8,!1),this.A=0|oI[0],this.B=0|oI[1],this.C=0|oI[2],this.D=0|oI[3],this.E=0|oI[4],this.F=0|oI[5],this.G=0|oI[6],this.H=0|oI[7]}get(){let{A:e,B:t,C:r,D:n,E:i,F:s,G:a,H:o}=this;return[e,t,r,n,i,s,a,o]}set(e,t,r,n,i,s,a,o){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|a,this.H=0|o}process(e,t){for(let r=0;r<16;r++,t+=4)oS[r]=e.getUint32(t,!1);for(let e=16;e<64;e++){let t=oS[e-15],r=oS[e-2],n=ri(t,7)^ri(t,18)^t>>>3,i=ri(r,17)^ri(r,19)^r>>>10;oS[e]=i+oS[e-7]+n+oS[e-16]|0}let{A:r,B:n,C:i,D:s,E:a,F:o,G:l,H:u}=this;for(let e=0;e<64;e++){let t=u+(ri(a,6)^ri(a,11)^ri(a,25))+ox(a,o,l)+oP[e]+oS[e]|0,c=(ri(r,2)^ri(r,13)^ri(r,22))+oE(r,n,i)|0;u=l,l=o,o=a,a=s+t|0,s=i,i=n,n=r,r=t+c|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,a=a+this.E|0,o=o+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,n,i,s,a,o,l,u)}roundClean(){oS.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}let oC=rg(()=>new oO),[oT,o_]=re.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),oB=new Uint32Array(80),oR=new Uint32Array(80);class oN extends ok{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:s,Dh:a,Dl:o,Eh:l,El:u,Fh:c,Fl:d,Gh:h,Gl:f,Hh:p,Hl:g}=this;return[e,t,r,n,i,s,a,o,l,u,c,d,h,f,p,g]}set(e,t,r,n,i,s,a,o,l,u,c,d,h,f,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|a,this.Dl=0|o,this.Eh=0|l,this.El=0|u,this.Fh=0|c,this.Fl=0|d,this.Gh=0|h,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let r=0;r<16;r++,t+=4)oB[r]=e.getUint32(t),oR[r]=e.getUint32(t+=4);for(let e=16;e<80;e++){let t=0|oB[e-15],r=0|oR[e-15],n=re.rotrSH(t,r,1)^re.rotrSH(t,r,8)^re.shrSH(t,r,7),i=re.rotrSL(t,r,1)^re.rotrSL(t,r,8)^re.shrSL(t,r,7),s=0|oB[e-2],a=0|oR[e-2],o=re.rotrSH(s,a,19)^re.rotrBH(s,a,61)^re.shrSH(s,a,6),l=re.rotrSL(s,a,19)^re.rotrBL(s,a,61)^re.shrSL(s,a,6),u=re.add4L(i,l,oR[e-7],oR[e-16]),c=re.add4H(u,n,o,oB[e-7],oB[e-16]);oB[e]=0|c,oR[e]=0|u}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:a,Cl:o,Dh:l,Dl:u,Eh:c,El:d,Fh:h,Fl:f,Gh:p,Gl:g,Hh:m,Hl:y}=this;for(let e=0;e<80;e++){let t=re.rotrSH(c,d,14)^re.rotrSH(c,d,18)^re.rotrBH(c,d,41),v=re.rotrSL(c,d,14)^re.rotrSL(c,d,18)^re.rotrBL(c,d,41),b=c&h^~c&p,w=d&f^~d&g,A=re.add5L(y,v,w,o_[e],oR[e]),x=re.add5H(A,m,t,b,oT[e],oB[e]),E=0|A,k=re.rotrSH(r,n,28)^re.rotrBH(r,n,34)^re.rotrBH(r,n,39),P=re.rotrSL(r,n,28)^re.rotrBL(r,n,34)^re.rotrBL(r,n,39),I=r&i^r&a^i&a,S=n&s^n&o^s&o;m=0|p,y=0|g,p=0|h,g=0|f,h=0|c,f=0|d,({h:c,l:d}=re.add(0|l,0|u,0|x,0|E)),l=0|a,u=0|o,a=0|i,o=0|s,i=0|r,s=0|n;let O=re.add3L(E,P,S);r=re.add3H(O,x,k,I),n=0|O}({h:r,l:n}=re.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=re.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:a,l:o}=re.add(0|this.Ch,0|this.Cl,0|a,0|o)),({h:l,l:u}=re.add(0|this.Dh,0|this.Dl,0|l,0|u)),({h:c,l:d}=re.add(0|this.Eh,0|this.El,0|c,0|d)),({h:h,l:f}=re.add(0|this.Fh,0|this.Fl,0|h,0|f)),({h:p,l:g}=re.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:m,l:y}=re.add(0|this.Hh,0|this.Hl,0|m,0|y)),this.set(r,n,i,s,a,o,l,u,c,d,h,f,p,g,m,y)}roundClean(){oB.fill(0),oR.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let oF=rg(()=>new oN);function oL(e,t,r,n,i){if(!["sha256","sha512"].includes(i))throw Error("Only sha256 and sha512 are supported");return tX(e),tX(t),oA("sha256"===i?oC:oF,e,t,{c:r,dkLen:n})}function oM(e,t,r,n,i,s){let a=e[t++]^r[n++],o=e[t++]^r[n++],l=e[t++]^r[n++],u=e[t++]^r[n++],c=e[t++]^r[n++],d=e[t++]^r[n++],h=e[t++]^r[n++],f=e[t++]^r[n++],p=e[t++]^r[n++],g=e[t++]^r[n++],m=e[t++]^r[n++],y=e[t++]^r[n++],v=e[t++]^r[n++],b=e[t++]^r[n++],w=e[t++]^r[n++],A=e[t++]^r[n++],x=a,E=o,k=l,P=u,I=c,S=d,O=h,C=f,T=p,_=g,B=m,R=y,N=v,F=b,L=w,M=A;for(let e=0;e<8;e+=2)I^=rs(x+N|0,7),T^=rs(I+x|0,9),N^=rs(T+I|0,13),x^=rs(N+T|0,18),_^=rs(S+E|0,7),F^=rs(_+S|0,9),E^=rs(F+_|0,13),S^=rs(E+F|0,18),L^=rs(B+O|0,7),k^=rs(L+B|0,9),O^=rs(k+L|0,13),B^=rs(O+k|0,18),P^=rs(M+R|0,7),C^=rs(P+M|0,9),R^=rs(C+P|0,13),M^=rs(R+C|0,18),E^=rs(x+P|0,7),k^=rs(E+x|0,9),P^=rs(k+E|0,13),x^=rs(P+k|0,18),O^=rs(S+I|0,7),C^=rs(O+S|0,9),I^=rs(C+O|0,13),S^=rs(I+C|0,18),R^=rs(B+_|0,7),T^=rs(R+B|0,9),_^=rs(T+R|0,13),B^=rs(_+T|0,18),N^=rs(M+L|0,7),F^=rs(N+M|0,9),L^=rs(F+N|0,13),M^=rs(L+F|0,18);i[s++]=a+x|0,i[s++]=o+E|0,i[s++]=l+k|0,i[s++]=u+P|0,i[s++]=c+I|0,i[s++]=d+S|0,i[s++]=h+O|0,i[s++]=f+C|0,i[s++]=p+T|0,i[s++]=g+_|0,i[s++]=m+B|0,i[s++]=y+R|0,i[s++]=v+N|0,i[s++]=b+F|0,i[s++]=w+L|0,i[s++]=A+M|0}function oD(e,t,r,n,i){let s=n+0,a=n+16*i;for(let n=0;n<16;n++)r[a+n]=e[t+(2*i-1)*16+n];for(let n=0;n<i;n++,s+=16,t+=16)oM(r,a,e,t,r,s),n>0&&(a+=16),oM(r,s,e,t+=16,r,a)}function oU(e,t,r,n,i,s,a){return tX(e),tX(t),function(e,t,r){let{N:n,r:i,p:s,dkLen:a,blockSize32:o,V:l,B32:u,B:c,tmp:d,blockMixCb:h}=function(e,t,r){let{N:n,r:i,p:s,dkLen:a,asyncTick:o,maxmem:l,onProgress:u}=rp({dkLen:32,asyncTick:10,maxmem:1073742848},r);if(tY(n),tY(i),tY(s),tY(a),tY(o),tY(l),void 0!==u&&"function"!=typeof u)throw Error("progressCb should be function");let c=128*i,d=c/4;if(n<=1||(n&n-1)!=0||n>=2**(c/8)||n>4294967296)throw Error("Scrypt: N must be larger than 1, a power of 2, less than 2^(128 * r / 8) and less than 2^32");if(s<0||s>(4294967296-1)*32/c)throw Error("Scrypt: p must be a positive integer less than or equal to ((2^32 - 1) * 32) / (128 * r)");if(a<0||a>(4294967296-1)*32)throw Error("Scrypt: dkLen should be positive integer less than or equal to (2^32 - 1) * 32");let h=c*(n+s);if(h>l)throw Error(`Scrypt: parameters too large, ${h} (128 * r * (N + p)) > ${l} (maxmem)`);let f=oA(oC,e,t,{c:1,dkLen:c*s}),p=rr(f),g=rr(new Uint8Array(c*n)),m=rr(new Uint8Array(c)),y=()=>{};if(u){let e=2*n*s,t=Math.max(Math.floor(e/1e4),1),r=0;y=()=>{r++,u&&(!(r%t)||r===e)&&u(r/e)}}return{N:n,r:i,p:s,dkLen:a,blockSize32:d,V:g,B32:p,B:f,tmp:m,blockMixCb:y,asyncTick:o}}(e,t,r);ra||rl(u);for(let e=0;e<s;e++){let t=o*e;for(let e=0;e<o;e++)l[e]=u[t+e];for(let e=0,t=0;e<n-1;e++)oD(l,t,l,t+=o,i),h();oD(l,(n-1)*o,u,t,i),h();for(let e=0;e<n;e++){let e=u[t+o-16]%n;for(let r=0;r<o;r++)d[r]=u[t+r]^l[e*o+r];oD(d,0,u,t,i),h()}}return ra||rl(u),function(e,t,r,n,i){let s=oA(oC,e,r,{c:1,dkLen:t});return r.fill(0),n.fill(0),i.fill(0),s}(e,a,c,l,d)}(e,t,{N:r,r:i,p:n,dkLen:s,onProgress:a})}let oj=BigInt(1),oH=BigInt(2);function oG(e){return e instanceof Uint8Array||null!=e&&"object"==typeof e&&"Uint8Array"===e.constructor.name}function o$(e){if(!oG(e))throw Error("Uint8Array expected")}let oq=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function oz(e){o$(e);let t="";for(let r=0;r<e.length;r++)t+=oq[e[r]];return t}function oV(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);return BigInt(""===e?"0":`0x${e}`)}let oQ={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function oZ(e){return e>=oQ._0&&e<=oQ._9?e-oQ._0:e>=oQ._A&&e<=oQ._F?e-(oQ._A-10):e>=oQ._a&&e<=oQ._f?e-(oQ._a-10):void 0}function oJ(e){if("string"!=typeof e)throw Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw Error("padded hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let t=0,i=0;t<r;t++,i+=2){let r=oZ(e.charCodeAt(i)),s=oZ(e.charCodeAt(i+1));if(void 0===r||void 0===s)throw Error('hex string expected, got non-hex character "'+(e[i]+e[i+1])+'" at index '+i);n[t]=16*r+s}return n}function oK(e){return oV(oz(e))}function oW(e){return o$(e),oV(oz(Uint8Array.from(e).reverse()))}function oY(e,t){return oJ(e.toString(16).padStart(2*t,"0"))}function oX(e,t){return oY(e,t).reverse()}function o0(e,t,r){let n;if("string"==typeof t)try{n=oJ(t)}catch(r){throw Error(`${e} must be valid hex string, got "${t}". Cause: ${r}`)}else if(oG(t))n=Uint8Array.from(t);else throw Error(`${e} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${e} expected ${r} bytes, got ${i}`);return n}function o1(...e){let t=0;for(let r=0;r<e.length;r++){let n=e[r];o$(n),t+=n.length}let r=new Uint8Array(t);for(let t=0,n=0;t<e.length;t++){let i=e[t];r.set(i,n),n+=i.length}return r}let o2=e=>(oH<<BigInt(e-1))-oj,o3=e=>new Uint8Array(e),o4=e=>Uint8Array.from(e);function o8(e,t,r){if("number"!=typeof e||e<2)throw Error("hashLen must be a number");if("number"!=typeof t||t<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=o3(e),i=o3(e),s=0,a=()=>{n.fill(1),i.fill(0),s=0},o=(...e)=>r(i,n,...e),l=(e=o3())=>{i=o(o4([0]),e),n=o(),0!==e.length&&(i=o(o4([1]),e),n=o())},u=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let e=0,r=[];for(;e<t;){let t=(n=o()).slice();r.push(t),e+=n.length}return o1(...r)};return(e,t)=>{let r;for(a(),l(e);!(r=t(u()));)l();return a(),r}}let o6={bigint:e=>"bigint"==typeof e,function:e=>"function"==typeof e,boolean:e=>"boolean"==typeof e,string:e=>"string"==typeof e,stringOrUint8Array:e=>"string"==typeof e||oG(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"==typeof e&&Number.isSafeInteger(e.outputLen)};function o5(e,t,r={}){let n=(t,r,n)=>{let i=o6[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=e[t];if((!n||void 0!==s)&&!i(s,e))throw Error(`Invalid param ${String(t)}=${s} (${typeof s}), expected ${r}`)};for(let[e,r]of Object.entries(t))n(e,r,!1);for(let[e,t]of Object.entries(r))n(e,t,!0);return e}let o9=BigInt(0),o7=BigInt(1),le=BigInt(2),lt=BigInt(3),lr=BigInt(4),ln=BigInt(5),li=BigInt(8);function ls(e,t){let r=e%t;return r>=o9?r:t+r}function la(e,t,r){let n=e;for(;t-- >o9;)n*=n,n%=r;return n}function lo(e,t){if(e===o9||t<=o9)throw Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=ls(e,t),n=t,i=o9,s=o7,a=o7,o=o9;for(;r!==o9;){let e=n/r,t=n%r,l=i-a*e,u=s-o*e;n=r,r=t,i=a,s=o,a=l,o=u}if(n!==o7)throw Error("invert: does not exist");return ls(i,t)}BigInt(9),BigInt(16);let ll=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lu(e,t){let r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function lc(e){if("bigint"!=typeof e)throw Error("field order must be bigint");return Math.ceil(e.toString(2).length/8)}function ld(e){let t=lc(e);return t+Math.ceil(t/2)}let lh=BigInt(0),lf=BigInt(1);function lp(e){return o5(e.Fp,ll.reduce((e,t)=>(e[t]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"})),o5(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...lu(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:lg,hexToBytes:lm}=K,ly={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:t}=ly;if(e.length<2||2!==e[0])throw new t("Invalid signature integer tag");let r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(128&n[0])throw new t("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new t("Invalid signature integer: unnecessary leading zero");return{d:lg(n),l:e.subarray(r+2)}},toSig(e){let{Err:t}=ly,r="string"==typeof e?lm(e):e;o$(r);let n=r.length;if(n<2||48!=r[0])throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:i,l:s}=ly._parseInt(r.subarray(2)),{d:a,l:o}=ly._parseInt(s);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:i,s:a}},hexFromSig(e){let t=e=>8&Number.parseInt(e[0],16)?"00"+e:e,r=e=>{let t=e.toString(16);return 1&t.length?`0${t}`:t},n=t(r(e.s)),i=t(r(e.r)),s=n.length/2,a=i.length/2,o=r(s),l=r(a);return`30${r(a+s+4)}02${l}${i}02${o}${n}`}},lv=BigInt(0),lb=BigInt(1),lw=(BigInt(2),BigInt(3));BigInt(4);let lA=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),lE=BigInt(1),lk=BigInt(2),lP=(e,t)=>(e+t/lk)/t,lI=function(e,t,r=!1,n={}){if(e<=o9)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:i,nByteLength:s}=lu(e,t);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let a=function(e){if(e%lr===lt){let t=(e+o7)/lr;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}if(e%li===ln){let t=(e-ln)/li;return function(e,r){let n=e.mul(r,le),i=e.pow(n,t),s=e.mul(r,i),a=e.mul(e.mul(s,le),i),o=e.mul(s,e.sub(a,e.ONE));if(!e.eql(e.sqr(o),r))throw Error("Cannot find square root");return o}}return function(e){let t,r,n;let i=(e-o7)/le;for(t=e-o7,r=0;t%le===o9;t/=le,r++);for(n=le;n<e&&function(e,t,r){if(r<=o9||t<o9)throw Error("Expected power/modulo > 0");if(r===o7)return o9;let n=o7;for(;t>o9;)t&o7&&(n=n*e%r),e=e*e%r,t>>=o7;return n}(n,i,e)!==e-o7;n++);if(1===r){let t=(e+o7)/lr;return function(e,r){let n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(t+o7)/le;return function(e,a){if(e.pow(a,i)===e.neg(e.ONE))throw Error("Cannot find square root");let o=r,l=e.pow(e.mul(e.ONE,n),t),u=e.pow(a,s),c=e.pow(a,t);for(;!e.eql(c,e.ONE);){if(e.eql(c,e.ZERO))return e.ZERO;let t=1;for(let r=e.sqr(c);t<o&&!e.eql(r,e.ONE);t++)r=e.sqr(r);let r=e.pow(l,o7<<BigInt(o-t-1));l=e.sqr(r),u=e.mul(u,r),c=e.mul(c,l),o=t}return u}}(e)}(e),o=Object.freeze({ORDER:e,BITS:i,BYTES:s,MASK:o2(i),ZERO:o9,ONE:o7,create:t=>ls(t,e),isValid:t=>{if("bigint"!=typeof t)throw Error(`Invalid field element: expected bigint, got ${typeof t}`);return o9<=t&&t<e},is0:e=>e===o9,isOdd:e=>(e&o7)===o7,neg:t=>ls(-t,e),eql:(e,t)=>e===t,sqr:t=>ls(t*t,e),add:(t,r)=>ls(t+r,e),sub:(t,r)=>ls(t-r,e),mul:(t,r)=>ls(t*r,e),pow:(e,t)=>(function(e,t,r){if(r<o9)throw Error("Expected power > 0");if(r===o9)return e.ONE;if(r===o7)return t;let n=e.ONE,i=t;for(;r>o9;)r&o7&&(n=e.mul(n,i)),i=e.sqr(i),r>>=o7;return n})(o,e,t),div:(t,r)=>ls(t*lo(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>lo(t,e),sqrt:n.sqrt||(e=>a(o,e)),invertBatch:e=>(function(e,t){let r=Array(t.length),n=t.reduce((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n)),e.ONE),i=e.inv(n);return t.reduceRight((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n)),i),r})(o,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?oX(e,s):oY(e,s),fromBytes:e=>{if(e.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${e.length}`);return r?oW(e):oK(e)}});return Object.freeze(o)}(lA,void 0,void 0,{sqrt:function(e){let t=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),a=BigInt(44),o=BigInt(88),l=e*e*e%lA,u=l*l*e%lA,c=la(u,t,lA)*u%lA,d=la(c,t,lA)*u%lA,h=la(d,lk,lA)*l%lA,f=la(h,n,lA)*h%lA,p=la(f,i,lA)*f%lA,g=la(p,a,lA)*p%lA,m=la(g,o,lA)*g%lA,y=la(m,a,lA)*p%lA,v=la(y,t,lA)*u%lA,b=la(v,s,lA)*f%lA,w=la(b,r,lA)*l%lA,A=la(w,lk,lA);if(!lI.eql(lI.sqr(A),e))throw Error("Cannot find square root");return A}}),lS=function(e,t){let r=t=>(function(e){let t=function(e){let t=lp(e);return o5(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,s=2*r.BYTES+1;function a(e){return ls(e,n)}let{ProjectivePoint:o,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:c}=function(e){let t=function(e){let t=lp(e);o5(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=t.toBytes||((e,t,n)=>{let i=t.toAffine();return o1(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=t.fromBytes||(e=>{let t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){let{a:n,b:i}=t,s=r.sqr(e),a=r.mul(s,e);return r.add(r.add(a,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw Error("bad generator point: equation left != right");function a(e){return"bigint"==typeof e&&lv<e&&e<t.n}function o(e){if(!a(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(e){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:a}=t;if(n&&"bigint"!=typeof e){if(oG(e)&&(e=oz(e)),"string"!=typeof e||!n.includes(e.length))throw Error("Invalid key");e=e.padStart(2*i,"0")}try{r="bigint"==typeof e?e:oK(o0("private key",e,i))}catch(t){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof e}`)}return s&&(r=ls(r,a)),o(r),r}let u=new Map;function c(e){if(!(e instanceof d))throw Error("ProjectivePoint expected")}class d{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw Error("x required");if(null==t||!r.isValid(t))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(e){let{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw Error("invalid affine point");if(e instanceof d)throw Error("projective point not allowed");let i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?d.ZERO:new d(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)}static fromHex(e){let t=d.fromAffine(i(o0("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return d.BASE.multiply(l(e))}_setWindowSize(e){this._WINDOW_SIZE=e,u.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!r.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:n}=this.toAffine();if(!r.isValid(e)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),a=s(e);if(!r.eql(i,a))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){c(e);let{px:t,py:n,pz:i}=this,{px:s,py:a,pz:o}=e,l=r.eql(r.mul(t,o),r.mul(s,i)),u=r.eql(r.mul(n,o),r.mul(a,i));return l&&u}negate(){return new d(this.px,r.neg(this.py),this.pz)}double(){let{a:e,b:n}=t,i=r.mul(n,lw),{px:s,py:a,pz:o}=this,l=r.ZERO,u=r.ZERO,c=r.ZERO,h=r.mul(s,s),f=r.mul(a,a),p=r.mul(o,o),g=r.mul(s,a);return g=r.add(g,g),c=r.mul(s,o),c=r.add(c,c),l=r.mul(e,c),u=r.mul(i,p),u=r.add(l,u),l=r.sub(f,u),u=r.add(f,u),u=r.mul(l,u),l=r.mul(g,l),c=r.mul(i,c),p=r.mul(e,p),g=r.sub(h,p),g=r.mul(e,g),g=r.add(g,c),c=r.add(h,h),h=r.add(c,h),h=r.add(h,p),h=r.mul(h,g),u=r.add(u,h),p=r.mul(a,o),p=r.add(p,p),h=r.mul(p,g),l=r.sub(l,h),c=r.mul(p,f),c=r.add(c,c),new d(l,u,c=r.add(c,c))}add(e){c(e);let{px:n,py:i,pz:s}=this,{px:a,py:o,pz:l}=e,u=r.ZERO,h=r.ZERO,f=r.ZERO,p=t.a,g=r.mul(t.b,lw),m=r.mul(n,a),y=r.mul(i,o),v=r.mul(s,l),b=r.add(n,i),w=r.add(a,o);b=r.mul(b,w),w=r.add(m,y),b=r.sub(b,w),w=r.add(n,s);let A=r.add(a,l);return w=r.mul(w,A),A=r.add(m,v),w=r.sub(w,A),A=r.add(i,s),u=r.add(o,l),A=r.mul(A,u),u=r.add(y,v),A=r.sub(A,u),f=r.mul(p,w),u=r.mul(g,v),f=r.add(u,f),u=r.sub(y,f),f=r.add(y,f),h=r.mul(u,f),y=r.add(m,m),y=r.add(y,m),v=r.mul(p,v),w=r.mul(g,w),y=r.add(y,v),v=r.sub(m,v),v=r.mul(p,v),w=r.add(w,v),m=r.mul(y,w),h=r.add(h,m),m=r.mul(A,w),u=r.mul(b,u),u=r.sub(u,m),m=r.mul(b,y),f=r.mul(A,f),new d(u,h,f=r.add(f,m))}subtract(e){return this.add(e.negate())}is0(){return this.equals(d.ZERO)}wNAF(e){return f.wNAFCached(this,u,e,e=>{let t=r.invertBatch(e.map(e=>e.pz));return e.map((e,r)=>e.toAffine(t[r])).map(d.fromAffine)})}multiplyUnsafe(e){let n=d.ZERO;if(e===lv)return n;if(o(e),e===lb)return this;let{endo:i}=t;if(!i)return f.unsafeLadder(this,e);let{k1neg:s,k1:a,k2neg:l,k2:u}=i.splitScalar(e),c=n,h=n,p=this;for(;a>lv||u>lv;)a&lb&&(c=c.add(p)),u&lb&&(h=h.add(p)),p=p.double(),a>>=lb,u>>=lb;return s&&(c=c.negate()),l&&(h=h.negate()),h=new d(r.mul(h.px,i.beta),h.py,h.pz),c.add(h)}multiply(e){let n,i;o(e);let{endo:s}=t;if(s){let{k1neg:t,k1:a,k2neg:o,k2:l}=s.splitScalar(e),{p:u,f:c}=this.wNAF(a),{p:h,f:p}=this.wNAF(l);u=f.constTimeNegate(t,u),h=f.constTimeNegate(o,h),h=new d(r.mul(h.px,s.beta),h.py,h.pz),n=u.add(h),i=c.add(p)}else{let{p:t,f:r}=this.wNAF(e);n=t,i=r}return d.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(e,t,r){let n=d.BASE,i=(e,t)=>t!==lv&&t!==lb&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),s=i(this,t).add(i(e,r));return s.is0()?void 0:s}toAffine(e){let{px:t,py:n,pz:i}=this,s=this.is0();null==e&&(e=s?r.ONE:r.inv(i));let a=r.mul(t,e),o=r.mul(n,e),l=r.mul(i,e);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:a,y:o}}isTorsionFree(){let{h:e,isTorsionFree:r}=t;if(e===lb)return!0;if(r)return r(d,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:r}=t;return e===lb?this:r?r(d,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return this.assertValidity(),n(d,this,e)}toHex(e=!0){return oz(this.toRawBytes(e))}}d.BASE=new d(t.Gx,t.Gy,r.ONE),d.ZERO=new d(r.ZERO,r.ONE,r.ZERO);let h=t.nBitLength,f=function(e,t){let r=(e,t)=>{let r=t.negate();return e?r:t},n=e=>({windows:Math.ceil(t/e)+1,windowSize:2**(e-1)});return{constTimeNegate:r,unsafeLadder(t,r){let n=e.ZERO,i=t;for(;r>lh;)r&lf&&(n=n.add(i)),i=i.double(),r>>=lf;return n},precomputeWindow(e,t){let{windows:r,windowSize:i}=n(t),s=[],a=e,o=a;for(let e=0;e<r;e++){o=a,s.push(o);for(let e=1;e<i;e++)o=o.add(a),s.push(o);a=o.double()}return s},wNAF(t,i,s){let{windows:a,windowSize:o}=n(t),l=e.ZERO,u=e.BASE,c=BigInt(2**t-1),d=2**t,h=BigInt(t);for(let e=0;e<a;e++){let t=e*o,n=Number(s&c);s>>=h,n>o&&(n-=d,s+=lf);let a=t+Math.abs(n)-1,f=e%2!=0,p=n<0;0===n?u=u.add(r(f,i[t])):l=l.add(r(p,i[a]))}return{p:l,f:u}},wNAFCached(e,t,r,n){let i=e._WINDOW_SIZE||1,s=t.get(e);return s||(s=this.precomputeWindow(e,i),1!==i&&t.set(e,n(s))),this.wNAF(i,s,r)}}}(d,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:d,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:a}}({...t,toBytes(e,t,n){let i=t.toAffine(),s=r.toBytes(i.x),a=o1;return n?a(Uint8Array.from([t.hasEvenY()?2:3]),s):a(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(e){let t=e.length,n=e[0],a=e.subarray(1);if(t===i&&(2===n||3===n)){let e;let t=oK(a);if(!(lv<t&&t<r.ORDER))throw Error("Point is not on curve");let i=u(t);try{e=r.sqrt(i)}catch(e){throw Error("Point is not on curve"+(e instanceof Error?": "+e.message:""))}return(1&n)==1!=((e&lb)===lb)&&(e=r.neg(e)),{x:t,y:e}}if(t===s&&4===n)return{x:r.fromBytes(a.subarray(0,r.BYTES)),y:r.fromBytes(a.subarray(r.BYTES,2*r.BYTES))};throw Error(`Point of length ${t} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),d=e=>oz(oY(e,t.nByteLength)),h=(e,t,r)=>oK(e.slice(t,r));class f{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){let r=t.nByteLength;return new f(h(e=o0("compactSignature",e,2*r),0,r),h(e,r,2*r))}static fromDER(e){let{r:t,s:r}=ly.toSig(o0("DER",e));return new f(t,r)}assertValidity(){if(!c(this.r))throw Error("r must be 0 < r < CURVE.n");if(!c(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new f(this.r,this.s,e)}recoverPublicKey(e){let{r:i,s,recovery:l}=this,u=m(o0("msgHash",e));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let c=2===l||3===l?i+t.n:i;if(c>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let h=(1&l)==0?"02":"03",f=o.fromHex(h+d(c)),p=lo(c,n),g=a(-u*p),y=a(s*p),v=o.BASE.multiplyAndAddUnsafe(f,g,y);if(!v)throw Error("point at infinify");return v.assertValidity(),v}hasHighS(){return this.s>n>>lb}normalizeS(){return this.hasHighS()?new f(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return oJ(this.toDERHex())}toDERHex(){return ly.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return oJ(this.toCompactHex())}toCompactHex(){return d(this.r)+d(this.s)}}function p(e){let t=oG(e),r="string"==typeof e,n=(t||r)&&e.length;return t?n===i||n===s:r?n===2*i||n===2*s:e instanceof o}let g=t.bits2int||function(e){let r=oK(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},m=t.bits2int_modN||function(e){return a(g(e))},y=o2(t.nBitLength);function v(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(lv<=e&&e<y))throw Error(`bigint expected < 2^${t.nBitLength}`);return oY(e,t.nByteLength)}let b={lowS:t.lowS,prehash:!1},w={lowS:t.lowS,prehash:!1};return o.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return o.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(p(e))throw Error("first arg must be private key");if(!p(t))throw Error("second arg must be public key");return o.fromHex(t).multiply(l(e)).toRawBytes(r)},sign:function(e,i,s=b){let{seed:u,k2sig:d}=function(e,i,s=b){if(["recovered","canonical"].some(e=>e in s))throw Error("sign() legacy options not supported");let{hash:u,randomBytes:d}=t,{lowS:h,prehash:p,extraEntropy:y}=s;null==h&&(h=!0),e=o0("msgHash",e),p&&(e=o0("prehashed msgHash",u(e)));let w=m(e),A=l(i),x=[v(A),v(w)];if(null!=y&&!1!==y){let e=!0===y?d(r.BYTES):y;x.push(o0("extraEntropy",e))}return{seed:o1(...x),k2sig:function(e){let t=g(e);if(!c(t))return;let r=lo(t,n),i=o.BASE.multiply(t).toAffine(),s=a(i.x);if(s===lv)return;let l=a(r*a(w+s*A));if(l===lv)return;let u=(i.x===s?0:2)|Number(i.y&lb),d=l;if(h&&l>n>>lb)d=l>n>>lb?a(-l):l,u^=1;return new f(s,d,u)}}}(e,i,s);return o8(t.hash.outputLen,t.nByteLength,t.hmac)(u,d)},verify:function(e,r,i,s=w){let l,u;if(r=o0("msgHash",r),i=o0("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:c,prehash:d}=s;try{if("string"==typeof e||oG(e))try{u=f.fromDER(e)}catch(t){if(!(t instanceof ly.Err))throw t;u=f.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:t,s:r}=e;u=new f(t,r)}else throw Error("PARSE");l=o.fromHex(i)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(c&&u.hasHighS())return!1;d&&(r=t.hash(r));let{r:h,s:p}=u,g=m(r),y=lo(p,n),v=a(g*y),b=a(h*y),A=o.BASE.multiplyAndAddUnsafe(l,v,b)?.toAffine();return!!A&&a(A.x)===h},ProjectivePoint:o,Signature:f,utils:{isValidPrivateKey(e){try{return l(e),!0}catch(e){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let e=ld(t.n);return function(e,t,r=!1){let n=e.length,i=lc(t),s=ld(t);if(n<16||n<s||n>1024)throw Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=ls(r?oK(e):oW(e),t-o7)+o7;return r?oX(a,i):oY(a,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=o.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}})({...e,hash:t,hmac:(e,...r)=>ow(t,e,rd(...r)),randomBytes:rm});return Object.freeze({...r(t),create:r})}({a:BigInt(0),b:BigInt(7),Fp:lI,n:lx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let t=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-lE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=lP(t*e,lx),a=lP(-r*e,lx),o=ls(e-s*t-a*n,lx),l=ls(-s*r-a*t,lx),u=o>i,c=l>i;if(u&&(o=lx-o),c&&(l=lx-l),o>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:u,k1:o,k2neg:c,k2:l}}}},oC),lO=(BigInt(0),lS.ProjectivePoint,null!=lS?lS:W),lC=BigInt("0xffffffffffffffff"),lT=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),l_=lO.CURVE.n/BigInt(2),lB={type:"object",required:["crypto","id","version","address"],properties:{crypto:{type:"object",required:["cipher","ciphertext","cipherparams","kdf","kdfparams","mac"],properties:{cipher:{type:"string"},ciphertext:{type:"string"},cipherparams:{type:"object"},kdf:{type:"string"},kdfparams:{type:"object"},salt:{type:"string"},mac:{type:"string"}}},id:{type:"string"},version:{type:"number"},address:{type:"string"}}};(f=L||(L={}))[f.Mainnet=1]="Mainnet",f[f.Goerli=5]="Goerli",f[f.Sepolia=11155111]="Sepolia",(p=M||(M={})).Chainstart="chainstart",p.Homestead="homestead",p.Dao="dao",p.TangerineWhistle="tangerineWhistle",p.SpuriousDragon="spuriousDragon",p.Byzantium="byzantium",p.Constantinople="constantinople",p.Petersburg="petersburg",p.Istanbul="istanbul",p.MuirGlacier="muirGlacier",p.Berlin="berlin",p.London="london",p.ArrowGlacier="arrowGlacier",p.GrayGlacier="grayGlacier",p.MergeForkIdTransition="mergeForkIdTransition",p.Merge="merge",p.Shanghai="shanghai",p.ShardingForkDev="shardingFork",(g=D||(D={})).ProofOfStake="pos",g.ProofOfWork="pow",g.ProofOfAuthority="poa",(m=U||(U={})).Ethash="ethash",m.Clique="clique",m.Casper="casper",(y=j||(j={})).PolygonMainnet="polygon-mainnet",y.PolygonMumbai="polygon-mumbai",y.ArbitrumRinkebyTestnet="arbitrum-rinkeby-testnet",y.ArbitrumOne="arbitrum-one",y.xDaiChain="x-dai-chain",y.OptimisticKovan="optimistic-kovan",y.OptimisticEthereum="optimistic-ethereum",(v=H||(H={}))[v.Number=0]="Number",v[v.BigInt=1]="BigInt",v[v.Uint8Array=2]="Uint8Array",v[v.PrefixedHexString=3]="PrefixedHexString";let lR=e=>{if("string"!=typeof e)throw Error(`[stripHexPrefix] input must be type 'string', received ${typeof e}`);return iN(e)?e.slice(2):e},lN=function(e){if(!Number.isSafeInteger(e)||e<0)throw Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`};function lF(e){let t=e;if("string"!=typeof t)throw Error(`[padToEven] value must be type 'string', received ${typeof t}`);return t.length%2&&(t=`0${t}`),t}let lL=function(e){let t=lN(e);return sb(`0x${lF(t.slice(2))}`)},lM=function(e){var t;if(null==e)return new Uint8Array;if(e instanceof Uint8Array)return e;if((null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)==="Uint8Array"||Array.isArray(e))return Uint8Array.from(e);if("string"==typeof e){if(!iB(e))throw Error(`Cannot convert string to Uint8Array. only supports 0x-prefixed hex strings and this string was given: ${e}`);return sb(lF(lR(e)))}if("number"==typeof e)return lM(sx(e));if("bigint"==typeof e){if(e<BigInt(0))throw Error(`Cannot convert negative bigint to Uint8Array. Given: ${e}`);let t=e.toString(16);return t.length%2&&(t=`0${t}`),lM(`0x${t}`)}if(e.toArray)return Uint8Array.from(e.toArray());throw Error("invalid type")};function lD(e){let t=sv(e);return"0x"===t?BigInt(0):BigInt(t)}let lU=function(e){return new Uint8Array(e).fill(0)},lj=function(e,t,r){let n=lU(t);return r?e.length<t?(n.set(e),n):e.subarray(0,t):e.length<t?(n.set(e,t-e.length),n):e.subarray(-t)};function lH(e){if(!sd(e))throw Error(`This method only supports Uint8Array but input was: ${e}`)}let lG=function(e,t){return lH(e),lj(e,t,!1)},l$=function(e){return lH(e),function(e){let t=e[0];for(;e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e}(e)},lq=e=>`0x${e.toString(16)}`;function lz(e){return l$(lM(`0x${e.toString(16)}`))}let lV=function(e,t,r,n,i){let s=t===BigInt(0)||t===BigInt(1)?t:void 0===i?t-BigInt(27):t-(i*BigInt(2)+BigInt(35));if(!(s===BigInt(0)||s===BigInt(1)))throw Error("Invalid signature v value");return new lO.Signature(lD(r),lD(n)).addRecoveryBit(Number(s)).recoverPublicKey(e).toRawBytes(!1).slice(1)};function lQ(e,t){if(null===e)return null;if(void 0===e)return;if("string"!=typeof e||iB(e)){if("number"==typeof e&&!Number.isSafeInteger(e))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative input type)")}else throw Error(`A string must be provided with a 0x-prefix, given: ${e}`);let r=lM(e);switch(t){case H.Uint8Array:return r;case H.BigInt:return lD(r);case H.Number:{let e=lD(r);if(e>BigInt(Number.MAX_SAFE_INTEGER))throw Error("The provided number is greater than MAX_SAFE_INTEGER (please use an alternative output type)");return Number(e)}case H.PrefixedHexString:return sv(r);default:throw Error("unknown outputType")}}var lZ=r(5951),lJ=r(1332),lK={name:"goerli",chainId:5,networkId:5,defaultHardfork:"merge",consensus:{type:"poa",algorithm:"clique",clique:{period:15,epoch:3e4}},comment:"Cross-client PoA test network",url:"https://github.com/goerli/testnet",genesis:{timestamp:"0x5c51a607",gasLimit:10485760,difficulty:1,nonce:"0x0000000000000000",extraData:"0x22466c6578692069732061207468696e6722202d204166726900000000000000e0a2bd4258d2768837baa26a28fe71dc079f84c70000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000"},hardforks:[{name:"chainstart",block:0,forkHash:"0xa3f5ab08"},{name:"homestead",block:0,forkHash:"0xa3f5ab08"},{name:"tangerineWhistle",block:0,forkHash:"0xa3f5ab08"},{name:"spuriousDragon",block:0,forkHash:"0xa3f5ab08"},{name:"byzantium",block:0,forkHash:"0xa3f5ab08"},{name:"constantinople",block:0,forkHash:"0xa3f5ab08"},{name:"petersburg",block:0,forkHash:"0xa3f5ab08"},{name:"istanbul",block:1561651,forkHash:"0xc25efa5c"},{name:"berlin",block:4460644,forkHash:"0x757a1c47"},{name:"london",block:5062605,forkHash:"0xb8c6299d"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://goerli.etherscan.io/block/7382818",name:"merge",ttd:"10790000",block:7382819,forkHash:"0xb8c6299d"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.goerli.ethdisco.net"]},lW={name:"mainnet",chainId:1,networkId:1,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"The Ethereum main chain",url:"https://ethstats.net/",genesis:{gasLimit:5e3,difficulty:17179869184,nonce:"0x0000000000000042",extraData:"0x11bbe8db4e347b4e8c937c1c8370e4b5ed33adb3db69cbdb7a38e1e50b1b82fa"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfc64ec04"},{name:"homestead",block:115e4,forkHash:"0x97c2c34c"},{name:"dao",block:192e4,forkHash:"0x91d1f948"},{name:"tangerineWhistle",block:2463e3,forkHash:"0x7a64da13"},{name:"spuriousDragon",block:2675e3,forkHash:"0x3edd5b10"},{name:"byzantium",block:437e4,forkHash:"0xa00bc324"},{name:"constantinople",block:728e4,forkHash:"0x668db0af"},{name:"petersburg",block:728e4,forkHash:"0x668db0af"},{name:"istanbul",block:9069e3,forkHash:"0x879d6e30"},{name:"muirGlacier",block:92e5,forkHash:"0xe029e991"},{name:"berlin",block:12244e3,forkHash:"0x0eb440f6"},{name:"london",block:12965e3,forkHash:"0xb715077d"},{name:"arrowGlacier",block:13773e3,forkHash:"0x20c327fc"},{name:"grayGlacier",block:1505e4,forkHash:"0xf0afd0e3"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://etherscan.io/block/15537393",name:"merge",ttd:"58750000000000000000000",block:15537394,forkHash:"0xf0afd0e3"},{name:"mergeForkIdTransition",block:null,forkHash:null},{name:"shanghai",block:null,forkHash:null}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.mainnet.ethdisco.net"]},lY={name:"sepolia",chainId:11155111,networkId:11155111,defaultHardfork:"merge",consensus:{type:"pow",algorithm:"ethash",ethash:{}},comment:"PoW test network to replace Ropsten",url:"https://github.com/ethereum/go-ethereum/pull/23730",genesis:{timestamp:"0x6159af19",gasLimit:3e7,difficulty:131072,nonce:"0x0000000000000000",extraData:"0x5365706f6c69612c20417468656e732c204174746963612c2047726565636521"},hardforks:[{name:"chainstart",block:0,forkHash:"0xfe3366e7"},{name:"homestead",block:0,forkHash:"0xfe3366e7"},{name:"tangerineWhistle",block:0,forkHash:"0xfe3366e7"},{name:"spuriousDragon",block:0,forkHash:"0xfe3366e7"},{name:"byzantium",block:0,forkHash:"0xfe3366e7"},{name:"constantinople",block:0,forkHash:"0xfe3366e7"},{name:"petersburg",block:0,forkHash:"0xfe3366e7"},{name:"istanbul",block:0,forkHash:"0xfe3366e7"},{name:"muirGlacier",block:0,forkHash:"0xfe3366e7"},{name:"berlin",block:0,forkHash:"0xfe3366e7"},{name:"london",block:0,forkHash:"0xfe3366e7"},{"//_comment":"The forkHash will remain same as mergeForkIdTransition is post merge, terminal block: https://sepolia.etherscan.io/block/1450408",name:"merge",ttd:"17000000000000000",block:1450409,forkHash:"0xfe3366e7"},{name:"mergeForkIdTransition",block:1735371,forkHash:"0xb96cbd13"},{name:"shanghai",block:null,timestamp:"1677557088",forkHash:"0xf7f9bc08"}],bootstrapNodes:[],dnsNetworks:["enrtree://AKA3AM6LPBYEUDMVNU3BSVQJ5AD45Y7YPOHJLEF6W26QOE4VTUDPE@all.sepolia.ethdisco.net"]};let lX={1153:{name:"EIP-1153",number:1153,comment:"Transient Storage",url:"https://eips.ethereum.org/EIPS/eip-1153",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{tstore:{v:100,d:"Base fee of the TSTORE opcode"},tload:{v:100,d:"Base fee of the TLOAD opcode"}},vm:{},pow:{}},1559:{name:"EIP-1559",number:1559,comment:"Fee market change for ETH 1.0 chain",url:"https://eips.ethereum.org/EIPS/eip-1559",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2930],gasConfig:{baseFeeMaxChangeDenominator:{v:8,d:"Maximum base fee change denominator"},elasticityMultiplier:{v:2,d:"Maximum block gas target elasticity"},initialBaseFee:{v:1e9,d:"Initial base fee on first EIP1559 block"}},gasPrices:{},vm:{},pow:{}},2315:{name:"EIP-2315",number:2315,comment:"Simple subroutines for the EVM",url:"https://eips.ethereum.org/EIPS/eip-2315",status:"Draft",minimumHardfork:"istanbul",gasConfig:{},gasPrices:{beginsub:{v:2,d:"Base fee of the BEGINSUB opcode"},returnsub:{v:5,d:"Base fee of the RETURNSUB opcode"},jumpsub:{v:10,d:"Base fee of the JUMPSUB opcode"}},vm:{},pow:{}},2537:{name:"EIP-2537",number:2537,comment:"BLS12-381 precompiles",url:"https://eips.ethereum.org/EIPS/eip-2537",status:"Draft",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{Bls12381G1AddGas:{v:600,d:"Gas cost of a single BLS12-381 G1 addition precompile-call"},Bls12381G1MulGas:{v:12e3,d:"Gas cost of a single BLS12-381 G1 multiplication precompile-call"},Bls12381G2AddGas:{v:4500,d:"Gas cost of a single BLS12-381 G2 addition precompile-call"},Bls12381G2MulGas:{v:55e3,d:"Gas cost of a single BLS12-381 G2 multiplication precompile-call"},Bls12381PairingBaseGas:{v:115e3,d:"Base gas cost of BLS12-381 pairing check"},Bls12381PairingPerPairGas:{v:23e3,d:"Per-pair gas cost of BLS12-381 pairing check"},Bls12381MapG1Gas:{v:5500,d:"Gas cost of BLS12-381 map field element to G1"},Bls12381MapG2Gas:{v:11e4,d:"Gas cost of BLS12-381 map field element to G2"},Bls12381MultiExpGasDiscount:{v:[[1,1200],[2,888],[3,764],[4,641],[5,594],[6,547],[7,500],[8,453],[9,438],[10,423],[11,408],[12,394],[13,379],[14,364],[15,349],[16,334],[17,330],[18,326],[19,322],[20,318],[21,314],[22,310],[23,306],[24,302],[25,298],[26,294],[27,289],[28,285],[29,281],[30,277],[31,273],[32,269],[33,268],[34,266],[35,265],[36,263],[37,262],[38,260],[39,259],[40,257],[41,256],[42,254],[43,253],[44,251],[45,250],[46,248],[47,247],[48,245],[49,244],[50,242],[51,241],[52,239],[53,238],[54,236],[55,235],[56,233],[57,232],[58,231],[59,229],[60,228],[61,226],[62,225],[63,223],[64,222],[65,221],[66,220],[67,219],[68,219],[69,218],[70,217],[71,216],[72,216],[73,215],[74,214],[75,213],[76,213],[77,212],[78,211],[79,211],[80,210],[81,209],[82,208],[83,208],[84,207],[85,206],[86,205],[87,205],[88,204],[89,203],[90,202],[91,202],[92,201],[93,200],[94,199],[95,199],[96,198],[97,197],[98,196],[99,196],[100,195],[101,194],[102,193],[103,193],[104,192],[105,191],[106,191],[107,190],[108,189],[109,188],[110,188],[111,187],[112,186],[113,185],[114,185],[115,184],[116,183],[117,182],[118,182],[119,181],[120,180],[121,179],[122,179],[123,178],[124,177],[125,176],[126,176],[127,175],[128,174]],d:"Discount gas costs of calls to the MultiExp precompiles with `k` (point, scalar) pair"}},vm:{},pow:{}},2565:{name:"EIP-2565",number:2565,comment:"ModExp gas cost",url:"https://eips.ethereum.org/EIPS/eip-2565",status:"Final",minimumHardfork:"byzantium",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:3,d:"Gquaddivisor from modexp precompile for gas calculation"}},vm:{},pow:{}},2718:{name:"EIP-2718",comment:"Typed Transaction Envelope",url:"https://eips.ethereum.org/EIPS/eip-2718",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{},vm:{},pow:{}},2929:{name:"EIP-2929",comment:"Gas cost increases for state access opcodes",url:"https://eips.ethereum.org/EIPS/eip-2929",status:"Final",minimumHardfork:"chainstart",gasConfig:{},gasPrices:{coldsload:{v:2100,d:"Gas cost of the first read of storage from a given location (per transaction)"},coldaccountaccess:{v:2600,d:"Gas cost of the first read of a given address (per transaction)"},warmstorageread:{v:100,d:"Gas cost of reading storage locations which have already loaded 'cold'"},sstoreCleanGasEIP2200:{v:2900,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreNoopGasEIP2200:{v:100,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:100,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitRefundEIP2200:{v:19900,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanRefundEIP2200:{v:4900,d:"Once per SSTORE operation for resetting to the original non-zero value"},call:{v:0,d:"Base fee of the CALL opcode"},callcode:{v:0,d:"Base fee of the CALLCODE opcode"},delegatecall:{v:0,d:"Base fee of the DELEGATECALL opcode"},staticcall:{v:0,d:"Base fee of the STATICCALL opcode"},balance:{v:0,d:"Base fee of the BALANCE opcode"},extcodesize:{v:0,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:0,d:"Base fee of the EXTCODECOPY opcode"},extcodehash:{v:0,d:"Base fee of the EXTCODEHASH opcode"},sload:{v:0,d:"Base fee of the SLOAD opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"}},vm:{},pow:{}},2930:{name:"EIP-2930",comment:"Optional access lists",url:"https://eips.ethereum.org/EIPS/eip-2930",status:"Final",minimumHardfork:"istanbul",requiredEIPs:[2718,2929],gasConfig:{},gasPrices:{accessListStorageKeyCost:{v:1900,d:"Gas cost per storage key in an Access List transaction"},accessListAddressCost:{v:2400,d:"Gas cost per storage key in an Access List transaction"}},vm:{},pow:{}},3198:{name:"EIP-3198",number:3198,comment:"BASEFEE opcode",url:"https://eips.ethereum.org/EIPS/eip-3198",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{basefee:{v:2,d:"Gas cost of the BASEFEE opcode"}},vm:{},pow:{}},3529:{name:"EIP-3529",comment:"Reduction in refunds",url:"https://eips.ethereum.org/EIPS/eip-3529",status:"Final",minimumHardfork:"berlin",requiredEIPs:[2929],gasConfig:{maxRefundQuotient:{v:5,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{selfdestructRefund:{v:0,d:"Refunded following a selfdestruct operation"},sstoreClearRefundEIP2200:{v:4800,d:"Once per SSTORE operation for clearing an originally existing storage slot"}},vm:{},pow:{}},3540:{name:"EIP-3540",number:3540,comment:"EVM Object Format (EOF) v1",url:"https://eips.ethereum.org/EIPS/eip-3540",status:"Review",minimumHardfork:"london",requiredEIPs:[3541],gasConfig:{},gasPrices:{},vm:{},pow:{}},3541:{name:"EIP-3541",comment:"Reject new contracts starting with the 0xEF byte",url:"https://eips.ethereum.org/EIPS/eip-3541",status:"Final",minimumHardfork:"berlin",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3554:{name:"EIP-3554",comment:"Reduction in refunds",url:"Difficulty Bomb Delay to December 1st 2021",status:"Final",minimumHardfork:"muirGlacier",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:95e5,d:"the amount of blocks to delay the difficulty bomb with"}}},3607:{name:"EIP-3607",number:3607,comment:"Reject transactions from senders with deployed code",url:"https://eips.ethereum.org/EIPS/eip-3607",status:"Final",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3651:{name:"EIP-3651",number:3198,comment:"Warm COINBASE",url:"https://eips.ethereum.org/EIPS/eip-3651",status:"Review",minimumHardfork:"london",requiredEIPs:[2929],gasConfig:{},gasPrices:{},vm:{},pow:{}},3670:{name:"EIP-3670",number:3670,comment:"EOF - Code Validation",url:"https://eips.ethereum.org/EIPS/eip-3670",status:"Review",minimumHardfork:"london",requiredEIPs:[3540],gasConfig:{},gasPrices:{},vm:{},pow:{}},3675:{name:"EIP-3675",number:3675,comment:"Upgrade consensus to Proof-of-Stake",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Final",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},3855:{name:"EIP-3855",number:3855,comment:"PUSH0 instruction",url:"https://eips.ethereum.org/EIPS/eip-3855",status:"Review",minimumHardfork:"chainstart",requiredEIPs:[],gasConfig:{},gasPrices:{push0:{v:2,d:"Base fee of the PUSH0 opcode"}},vm:{},pow:{}},3860:{name:"EIP-3860",number:3860,comment:"Limit and meter initcode",url:"https://eips.ethereum.org/EIPS/eip-3860",status:"Review",minimumHardfork:"spuriousDragon",requiredEIPs:[],gasConfig:{},gasPrices:{initCodeWordCost:{v:2,d:"Gas to pay for each word (32 bytes) of initcode when creating a contract"}},vm:{maxInitCodeSize:{v:49152,d:"Maximum length of initialization code when creating a contract"}},pow:{}},4345:{name:"EIP-4345",number:4345,comment:"Difficulty Bomb Delay to June 2022",url:"https://eips.ethereum.org/EIPS/eip-4345",status:"Final",minimumHardfork:"london",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:107e5,d:"the amount of blocks to delay the difficulty bomb with"}}},4399:{name:"EIP-4399",number:4399,comment:"Supplant DIFFICULTY opcode with PREVRANDAO",url:"https://eips.ethereum.org/EIPS/eip-4399",status:"Review",minimumHardfork:"london",requiredEIPs:[],gasConfig:{},gasPrices:{},vm:{},pow:{}},5133:{name:"EIP-5133",number:5133,comment:"Delaying Difficulty Bomb to mid-September 2022",url:"https://eips.ethereum.org/EIPS/eip-5133",status:"Draft",minimumHardfork:"grayGlacier",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:114e5,d:"the amount of blocks to delay the difficulty bomb with"}}}},l0={chainstart:{name:"chainstart",comment:"Start of the Ethereum main chain",url:"",status:"",gasConfig:{minGasLimit:{v:5e3,d:"Minimum the gas limit may ever be"},gasLimitBoundDivisor:{v:1024,d:"The bound divisor of the gas limit, used in update calculations"},maxRefundQuotient:{v:2,d:"Maximum refund quotient; max tx refund is min(tx.gasUsed/maxRefundQuotient, tx.gasRefund)"}},gasPrices:{base:{v:2,d:"Gas base cost, used e.g. for ChainID opcode (Istanbul)"},tierStep:{v:[0,2,3,5,8,10,20],d:"Once per operation, for a selection of them"},exp:{v:10,d:"Base fee of the EXP opcode"},expByte:{v:10,d:"Times ceil(log256(exponent)) for the EXP instruction"},sha3:{v:30,d:"Base fee of the SHA3 opcode"},sha3Word:{v:6,d:"Once per word of the SHA3 operation's data"},sload:{v:50,d:"Base fee of the SLOAD opcode"},sstoreSet:{v:2e4,d:"Once per SSTORE operation if the zeroness changes from zero"},sstoreReset:{v:5e3,d:"Once per SSTORE operation if the zeroness does not change from zero"},sstoreRefund:{v:15e3,d:"Once per SSTORE operation if the zeroness changes to zero"},jumpdest:{v:1,d:"Base fee of the JUMPDEST opcode"},log:{v:375,d:"Base fee of the LOG opcode"},logData:{v:8,d:"Per byte in a LOG* operation's data"},logTopic:{v:375,d:"Multiplied by the * of the LOG*, per LOG transaction. e.g. LOG0 incurs 0 * c_txLogTopicGas, LOG4 incurs 4 * c_txLogTopicGas"},create:{v:32e3,d:"Base fee of the CREATE opcode"},call:{v:40,d:"Base fee of the CALL opcode"},callStipend:{v:2300,d:"Free gas given at beginning of call"},callValueTransfer:{v:9e3,d:"Paid for CALL when the value transfor is non-zero"},callNewAccount:{v:25e3,d:"Paid for CALL when the destination address didn't exist prior"},selfdestructRefund:{v:24e3,d:"Refunded following a selfdestruct operation"},memory:{v:3,d:"Times the address of the (highest referenced byte in memory + 1). NOTE: referencing happens on read, write and in instructions such as RETURN and CALL"},quadCoeffDiv:{v:512,d:"Divisor for the quadratic particle of the memory cost equation"},createData:{v:200,d:""},tx:{v:21e3,d:"Per transaction. NOTE: Not payable on data of calls between transactions"},txCreation:{v:32e3,d:"The cost of creating a contract via tx"},txDataZero:{v:4,d:"Per byte of data attached to a transaction that equals zero. NOTE: Not payable on data of calls between transactions"},txDataNonZero:{v:68,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},copy:{v:3,d:"Multiplied by the number of 32-byte words that are copied (round up) for any *COPY operation and added"},ecRecover:{v:3e3,d:""},sha256:{v:60,d:""},sha256Word:{v:12,d:""},ripemd160:{v:600,d:""},ripemd160Word:{v:120,d:""},identity:{v:15,d:""},identityWord:{v:3,d:""},stop:{v:0,d:"Base fee of the STOP opcode"},add:{v:3,d:"Base fee of the ADD opcode"},mul:{v:5,d:"Base fee of the MUL opcode"},sub:{v:3,d:"Base fee of the SUB opcode"},div:{v:5,d:"Base fee of the DIV opcode"},sdiv:{v:5,d:"Base fee of the SDIV opcode"},mod:{v:5,d:"Base fee of the MOD opcode"},smod:{v:5,d:"Base fee of the SMOD opcode"},addmod:{v:8,d:"Base fee of the ADDMOD opcode"},mulmod:{v:8,d:"Base fee of the MULMOD opcode"},signextend:{v:5,d:"Base fee of the SIGNEXTEND opcode"},lt:{v:3,d:"Base fee of the LT opcode"},gt:{v:3,d:"Base fee of the GT opcode"},slt:{v:3,d:"Base fee of the SLT opcode"},sgt:{v:3,d:"Base fee of the SGT opcode"},eq:{v:3,d:"Base fee of the EQ opcode"},iszero:{v:3,d:"Base fee of the ISZERO opcode"},and:{v:3,d:"Base fee of the AND opcode"},or:{v:3,d:"Base fee of the OR opcode"},xor:{v:3,d:"Base fee of the XOR opcode"},not:{v:3,d:"Base fee of the NOT opcode"},byte:{v:3,d:"Base fee of the BYTE opcode"},address:{v:2,d:"Base fee of the ADDRESS opcode"},balance:{v:20,d:"Base fee of the BALANCE opcode"},origin:{v:2,d:"Base fee of the ORIGIN opcode"},caller:{v:2,d:"Base fee of the CALLER opcode"},callvalue:{v:2,d:"Base fee of the CALLVALUE opcode"},calldataload:{v:3,d:"Base fee of the CALLDATALOAD opcode"},calldatasize:{v:2,d:"Base fee of the CALLDATASIZE opcode"},calldatacopy:{v:3,d:"Base fee of the CALLDATACOPY opcode"},codesize:{v:2,d:"Base fee of the CODESIZE opcode"},codecopy:{v:3,d:"Base fee of the CODECOPY opcode"},gasprice:{v:2,d:"Base fee of the GASPRICE opcode"},extcodesize:{v:20,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:20,d:"Base fee of the EXTCODECOPY opcode"},blockhash:{v:20,d:"Base fee of the BLOCKHASH opcode"},coinbase:{v:2,d:"Base fee of the COINBASE opcode"},timestamp:{v:2,d:"Base fee of the TIMESTAMP opcode"},number:{v:2,d:"Base fee of the NUMBER opcode"},difficulty:{v:2,d:"Base fee of the DIFFICULTY opcode"},gaslimit:{v:2,d:"Base fee of the GASLIMIT opcode"},pop:{v:2,d:"Base fee of the POP opcode"},mload:{v:3,d:"Base fee of the MLOAD opcode"},mstore:{v:3,d:"Base fee of the MSTORE opcode"},mstore8:{v:3,d:"Base fee of the MSTORE8 opcode"},sstore:{v:0,d:"Base fee of the SSTORE opcode"},jump:{v:8,d:"Base fee of the JUMP opcode"},jumpi:{v:10,d:"Base fee of the JUMPI opcode"},pc:{v:2,d:"Base fee of the PC opcode"},msize:{v:2,d:"Base fee of the MSIZE opcode"},gas:{v:2,d:"Base fee of the GAS opcode"},push:{v:3,d:"Base fee of the PUSH opcode"},dup:{v:3,d:"Base fee of the DUP opcode"},swap:{v:3,d:"Base fee of the SWAP opcode"},callcode:{v:40,d:"Base fee of the CALLCODE opcode"},return:{v:0,d:"Base fee of the RETURN opcode"},invalid:{v:0,d:"Base fee of the INVALID opcode"},selfdestruct:{v:0,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{stackLimit:{v:1024,d:"Maximum size of VM stack allowed"},callCreateDepth:{v:1024,d:"Maximum depth of call/create stack"},maxExtraDataSize:{v:32,d:"Maximum size extra data may be after Genesis"}},pow:{minimumDifficulty:{v:131072,d:"The minimum that the difficulty may ever be"},difficultyBoundDivisor:{v:2048,d:"The bound divisor of the difficulty, used in the update calculations"},durationLimit:{v:13,d:"The decision boundary on the blocktime duration used to determine whether difficulty should go up or not"},epochDuration:{v:3e4,d:"Duration between proof-of-work epochs"},timebombPeriod:{v:1e5,d:"Exponential difficulty timebomb period"},minerReward:{v:"5000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:0,d:"the amount of blocks to delay the difficulty bomb with"}}},homestead:{name:"homestead",comment:"Homestead hardfork with protocol and network changes",url:"https://eips.ethereum.org/EIPS/eip-606",status:"Final",gasConfig:{},gasPrices:{delegatecall:{v:40,d:"Base fee of the DELEGATECALL opcode"}},vm:{},pow:{}},dao:{name:"dao",comment:"DAO rescue hardfork",url:"https://eips.ethereum.org/EIPS/eip-779",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{}},tangerineWhistle:{name:"tangerineWhistle",comment:"Hardfork with gas cost changes for IO-heavy operations",url:"https://eips.ethereum.org/EIPS/eip-608",status:"Final",gasConfig:{},gasPrices:{sload:{v:200,d:"Once per SLOAD operation"},call:{v:700,d:"Once per CALL operation & message call transaction"},extcodesize:{v:700,d:"Base fee of the EXTCODESIZE opcode"},extcodecopy:{v:700,d:"Base fee of the EXTCODECOPY opcode"},balance:{v:400,d:"Base fee of the BALANCE opcode"},delegatecall:{v:700,d:"Base fee of the DELEGATECALL opcode"},callcode:{v:700,d:"Base fee of the CALLCODE opcode"},selfdestruct:{v:5e3,d:"Base fee of the SELFDESTRUCT opcode"}},vm:{},pow:{}},spuriousDragon:{name:"spuriousDragon",comment:"HF with EIPs for simple replay attack protection, EXP cost increase, state trie clearing, contract code size limit",url:"https://eips.ethereum.org/EIPS/eip-607",status:"Final",gasConfig:{},gasPrices:{expByte:{v:50,d:"Times ceil(log256(exponent)) for the EXP instruction"}},vm:{maxCodeSize:{v:24576,d:"Maximum length of contract code"}},pow:{}},byzantium:{name:"byzantium",comment:"Hardfork with new precompiles, instructions and other protocol changes",url:"https://eips.ethereum.org/EIPS/eip-609",status:"Final",gasConfig:{},gasPrices:{modexpGquaddivisor:{v:20,d:"Gquaddivisor from modexp precompile for gas calculation"},ecAdd:{v:500,d:"Gas costs for curve addition precompile"},ecMul:{v:4e4,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:1e5,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:8e4,d:"Gas costs regarding curve pairing precompile input length"},revert:{v:0,d:"Base fee of the REVERT opcode"},staticcall:{v:700,d:"Base fee of the STATICCALL opcode"},returndatasize:{v:2,d:"Base fee of the RETURNDATASIZE opcode"},returndatacopy:{v:3,d:"Base fee of the RETURNDATACOPY opcode"}},vm:{},pow:{minerReward:{v:"3000000000000000000",d:"the amount a miner get rewarded for mining a block"},difficultyBombDelay:{v:3e6,d:"the amount of blocks to delay the difficulty bomb with"}}},constantinople:{name:"constantinople",comment:"Postponed hardfork including EIP-1283 (SSTORE gas metering changes)",url:"https://eips.ethereum.org/EIPS/eip-1013",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:200,d:"Once per SSTORE operation if the value doesn't change"},netSstoreInitGas:{v:2e4,d:"Once per SSTORE operation from clean zero"},netSstoreCleanGas:{v:5e3,d:"Once per SSTORE operation from clean non-zero"},netSstoreDirtyGas:{v:200,d:"Once per SSTORE operation from dirty"},netSstoreClearRefund:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},netSstoreResetRefund:{v:4800,d:"Once per SSTORE operation for resetting to the original non-zero value"},netSstoreResetClearRefund:{v:19800,d:"Once per SSTORE operation for resetting to the original zero value"},shl:{v:3,d:"Base fee of the SHL opcode"},shr:{v:3,d:"Base fee of the SHR opcode"},sar:{v:3,d:"Base fee of the SAR opcode"},extcodehash:{v:400,d:"Base fee of the EXTCODEHASH opcode"},create2:{v:32e3,d:"Base fee of the CREATE2 opcode"}},vm:{},pow:{minerReward:{v:"2000000000000000000",d:"The amount a miner gets rewarded for mining a block"},difficultyBombDelay:{v:5e6,d:"the amount of blocks to delay the difficulty bomb with"}}},petersburg:{name:"petersburg",comment:"Aka constantinopleFix, removes EIP-1283, activate together with or after constantinople",url:"https://eips.ethereum.org/EIPS/eip-1716",status:"Final",gasConfig:{},gasPrices:{netSstoreNoopGas:{v:null,d:"Removed along EIP-1283"},netSstoreInitGas:{v:null,d:"Removed along EIP-1283"},netSstoreCleanGas:{v:null,d:"Removed along EIP-1283"},netSstoreDirtyGas:{v:null,d:"Removed along EIP-1283"},netSstoreClearRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetRefund:{v:null,d:"Removed along EIP-1283"},netSstoreResetClearRefund:{v:null,d:"Removed along EIP-1283"}},vm:{},pow:{}},istanbul:{name:"istanbul",comment:"HF targeted for December 2019 following the Constantinople/Petersburg HF",url:"https://eips.ethereum.org/EIPS/eip-1679",status:"Final",gasConfig:{},gasPrices:{blake2Round:{v:1,d:"Gas cost per round for the Blake2 F precompile"},ecAdd:{v:150,d:"Gas costs for curve addition precompile"},ecMul:{v:6e3,d:"Gas costs for curve multiplication precompile"},ecPairing:{v:45e3,d:"Base gas costs for curve pairing precompile"},ecPairingWord:{v:34e3,d:"Gas costs regarding curve pairing precompile input length"},txDataNonZero:{v:16,d:"Per byte of data attached to a transaction that is not equal to zero. NOTE: Not payable on data of calls between transactions"},sstoreSentryGasEIP2200:{v:2300,d:"Minimum gas required to be present for an SSTORE call, not consumed"},sstoreNoopGasEIP2200:{v:800,d:"Once per SSTORE operation if the value doesn't change"},sstoreDirtyGasEIP2200:{v:800,d:"Once per SSTORE operation if a dirty value is changed"},sstoreInitGasEIP2200:{v:2e4,d:"Once per SSTORE operation from clean zero to non-zero"},sstoreInitRefundEIP2200:{v:19200,d:"Once per SSTORE operation for resetting to the original zero value"},sstoreCleanGasEIP2200:{v:5e3,d:"Once per SSTORE operation from clean non-zero to something else"},sstoreCleanRefundEIP2200:{v:4200,d:"Once per SSTORE operation for resetting to the original non-zero value"},sstoreClearRefundEIP2200:{v:15e3,d:"Once per SSTORE operation for clearing an originally existing storage slot"},balance:{v:700,d:"Base fee of the BALANCE opcode"},extcodehash:{v:700,d:"Base fee of the EXTCODEHASH opcode"},chainid:{v:2,d:"Base fee of the CHAINID opcode"},selfbalance:{v:5,d:"Base fee of the SELFBALANCE opcode"},sload:{v:800,d:"Base fee of the SLOAD opcode"}},vm:{},pow:{}},muirGlacier:{name:"muirGlacier",comment:"HF to delay the difficulty bomb",url:"https://eips.ethereum.org/EIPS/eip-2384",status:"Final",gasConfig:{},gasPrices:{},vm:{},pow:{difficultyBombDelay:{v:9e6,d:"the amount of blocks to delay the difficulty bomb with"}}},berlin:{name:"berlin",comment:"HF targeted for July 2020 following the Muir Glacier HF",url:"https://eips.ethereum.org/EIPS/eip-2070",status:"Final",eips:[2565,2929,2718,2930]},london:{name:"london",comment:"HF targeted for July 2021 following the Berlin fork",url:"https://github.com/ethereum/eth1.0-specs/blob/master/network-upgrades/mainnet-upgrades/london.md",status:"Final",eips:[1559,3198,3529,3541]},shanghai:{name:"shanghai",comment:"Next feature hardfork after the merge hardfork having withdrawals, warm coinbase, push0, limit/meter initcode",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/shanghai.md",status:"Final",eips:[3651,3855,3860,4895]},arrowGlacier:{name:"arrowGlacier",comment:"HF to delay the difficulty bomb",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/arrow-glacier.md",status:"Final",eips:[4345],gasConfig:{},gasPrices:{},vm:{},pow:{}},grayGlacier:{name:"grayGlacier",comment:"Delaying the difficulty bomb to Mid September 2022",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/gray-glacier.md",status:"Draft",eips:[5133],gasConfig:{},gasPrices:{},vm:{},pow:{}},mergeForkIdTransition:{name:"mergeForkIdTransition",comment:"Pre-merge hardfork to fork off non-upgraded clients",url:"https://eips.ethereum.org/EIPS/eip-3675",status:"Draft",eips:[]},merge:{name:"merge",comment:"Hardfork to upgrade the consensus mechanism to Proof-of-Stake",url:"https://github.com/ethereum/execution-specs/blob/master/network-upgrades/mainnet-upgrades/merge.md",status:"Final",consensus:{type:"pos",algorithm:"casper",casper:{}},eips:[3675,4399]}},{buf:l1}=lJ;class l2 extends sz{constructor(e){var t,r;super(),this._eips=[],this._customChains=null!==(t=e.customChains)&&void 0!==t?t:[],this._chainParams=this.setChain(e.chain),this.DEFAULT_HARDFORK=null!==(r=this._chainParams.defaultHardfork)&&void 0!==r?r:M.Merge,this.HARDFORK_CHANGES=this.hardforks().map(e=>[e.name,l0[e.name]]),this._hardfork=this.DEFAULT_HARDFORK,void 0!==e.hardfork&&this.setHardfork(e.hardfork),e.eips&&this.setEIPs(e.eips)}static custom(e,t={}){var r;let n=null!==(r=t.baseChain)&&void 0!==r?r:"mainnet",i=Object.assign({},l2._getChainParams(n));if(i.name="custom-chain","string"!=typeof e)return new l2(Object.assign({chain:Object.assign(Object.assign({},i),e)},t));if(e===j.PolygonMainnet)return l2.custom({name:j.PolygonMainnet,chainId:137,networkId:137},t);if(e===j.PolygonMumbai)return l2.custom({name:j.PolygonMumbai,chainId:80001,networkId:80001},t);if(e===j.ArbitrumRinkebyTestnet)return l2.custom({name:j.ArbitrumRinkebyTestnet,chainId:421611,networkId:421611},t);if(e===j.ArbitrumOne)return l2.custom({name:j.ArbitrumOne,chainId:42161,networkId:42161},t);if(e===j.xDaiChain)return l2.custom({name:j.xDaiChain,chainId:100,networkId:100},t);if(e===j.OptimisticKovan)return l2.custom({name:j.OptimisticKovan,chainId:69,networkId:69},Object.assign({hardfork:M.Berlin},t));if(e===j.OptimisticEthereum)return l2.custom({name:j.OptimisticEthereum,chainId:10,networkId:10},Object.assign({hardfork:M.Berlin},t));throw Error(`Custom chain ${e} not supported`)}static fromGethGenesis(e,{chain:t,eips:r,genesisHash:n,hardfork:i,mergeForkIdPostMerge:s}){var a;let o=function(e,t,r){try{if(["config","difficulty","gasLimit","alloc"].some(t=>!(t in e)))throw Error("Invalid format, expected geth genesis fields missing");return void 0!==t&&(e.name=t),function(e,t=!0){var r,n,i;let{name:s,config:a,difficulty:o,mixHash:l,gasLimit:u,coinbase:c,baseFeePerGas:d}=e,{extraData:h,timestamp:f,nonce:p}=e,g=Number(f),{chainId:m}=a;if(""===h&&(h="0x"),iN(f)||(f=lN(parseInt(f))),18!==p.length&&(p=(i=p)&&"0x0"!==i?iN(i)?`0x${lR(i).padStart(16,"0")}`:`0x${i.padStart(16,"0")}`:"0x0000000000000000"),a.eip155Block!==a.eip158Block)throw Error("EIP155 block number must equal EIP 158 block number since both are part of SpuriousDragon hardfork and the client only supports activating the full hardfork");let y={name:s,chainId:m,networkId:m,genesis:{timestamp:f,gasLimit:parseInt(u),difficulty:parseInt(o),nonce:p,extraData:h,mixHash:l,coinbase:c,baseFeePerGas:d},hardfork:void 0,hardforks:[],bootstrapNodes:[],consensus:void 0!==a.clique?{type:"poa",algorithm:"clique",clique:{period:null!==(r=a.clique.period)&&void 0!==r?r:a.clique.blockperiodseconds,epoch:null!==(n=a.clique.epoch)&&void 0!==n?n:a.clique.epochlength}}:{type:"pow",algorithm:"ethash",ethash:{}}},v={[M.Homestead]:{name:"homesteadBlock"},[M.Dao]:{name:"daoForkBlock"},[M.TangerineWhistle]:{name:"eip150Block"},[M.SpuriousDragon]:{name:"eip155Block"},[M.Byzantium]:{name:"byzantiumBlock"},[M.Constantinople]:{name:"constantinopleBlock"},[M.Petersburg]:{name:"petersburgBlock"},[M.Istanbul]:{name:"istanbulBlock"},[M.MuirGlacier]:{name:"muirGlacierBlock"},[M.Berlin]:{name:"berlinBlock"},[M.London]:{name:"londonBlock"},[M.MergeForkIdTransition]:{name:"mergeForkBlock",postMerge:t},[M.Shanghai]:{name:"shanghaiTime",postMerge:!0,isTimestamp:!0},[M.ShardingForkDev]:{name:"shardingForkTime",postMerge:!0,isTimestamp:!0}},b=Object.keys(v).reduce((e,t)=>(e[v[t].name]=t,e),{}),w=Object.keys(a).filter(e=>void 0!==b[e]&&void 0!==a[e]&&null!==a[e]);if(y.hardforks=w.map(e=>({name:b[e],block:!0===v[b[e]].isTimestamp||"number"!=typeof a[e]?null:a[e],timestamp:!0===v[b[e]].isTimestamp&&"number"==typeof a[e]?a[e]:void 0})).filter(e=>null!==e.block||void 0!==e.timestamp),y.hardforks.sort((e,t)=>{var r,n;return(null!==(r=e.block)&&void 0!==r?r:1/0)-(null!==(n=t.block)&&void 0!==n?n:1/0)}),y.hardforks.sort((e,t)=>{var r,n;return(null!==(r=e.timestamp)&&void 0!==r?r:g)-(null!==(n=t.timestamp)&&void 0!==n?n:g)}),void 0!==a.terminalTotalDifficulty){let e={name:M.Merge,ttd:a.terminalTotalDifficulty,block:null},t=y.hardforks.findIndex(e=>{var t;return(null===(t=v[e.name])||void 0===t?void 0:t.postMerge)===!0});-1!==t?y.hardforks.splice(t,0,e):y.hardforks.push(e)}let A=y.hardforks.length>0?y.hardforks.slice(-1)[0]:void 0;return y.hardfork=null==A?void 0:A.name,y.hardforks.unshift({name:M.Chainstart,block:0}),y}(e,r)}catch(e){throw Error(`Error parsing parameters file: ${e.message}`)}}(e,t,s),l=new l2({chain:null!==(a=o.name)&&void 0!==a?a:"custom",customChains:[o],eips:r,hardfork:null!=i?i:o.hardfork});return void 0!==n&&l.setForkHashes(n),l}static isSupportedChainId(e){return!!this._getInitializedChains().names[e.toString()]}static _getChainParams(e,t){let r=e,n=this._getInitializedChains(t);if("number"==typeof r||"bigint"==typeof r){if(r=r.toString(),n.names[r]){let e=n.names[r];return n[e]}throw Error(`Chain with ID ${r} not supported`)}if(void 0!==n[r])return n[r];throw Error(`Chain with name ${r} not supported`)}setChain(e){if("number"==typeof e||"bigint"==typeof e||"string"==typeof e)this._chainParams=l2._getChainParams(e,this._customChains);else if("object"==typeof e){if(this._customChains.length>0)throw Error("Chain must be a string, number, or bigint when initialized with customChains passed in");for(let t of["networkId","genesis","hardforks","bootstrapNodes"])if(!(t in e))throw Error(`Missing required chain parameter: ${t}`);this._chainParams=e}else throw Error("Wrong input format");for(let e of this.hardforks())if(void 0===e.block)throw Error("Hardfork cannot have undefined block number");return this._chainParams}setHardfork(e){let t=!1;for(let r of this.HARDFORK_CHANGES)r[0]===e&&(this._hardfork!==e&&(this._hardfork=e,this.emit("hardforkChanged",e)),t=!0);if(!t)throw Error(`Hardfork with name ${e} not supported`)}getHardforkByBlockNumber(e,t,r){let n=lQ(e,H.BigInt),i=lQ(t,H.BigInt),s=lQ(r,H.Number),a=this.hardforks().filter(e=>null!==e.block||null!==e.ttd&&void 0!==e.ttd||void 0!==e.timestamp),o=a.findIndex(e=>null!==e.ttd&&void 0!==e.ttd);if(a.slice(o+1).findIndex(e=>null!==e.ttd&&void 0!==e.ttd)>=0)throw Error("More than one merge hardforks found with ttd specified");let l=a.findIndex(e=>null!==e.block&&e.block>n||void 0!==s&&Number(e.timestamp)>s);if(-1===l)l=a.length;else if(0===l)throw Error("Must have at least one hardfork at block 0");if(void 0===s){let e=a.slice(0,l).reverse().findIndex(e=>null!==e.block||void 0!==e.ttd);l-=e}if(null===a[l-=1].block&&void 0===a[l].timestamp)(null==i||BigInt(a[l].ttd)>i)&&(l-=1);else if(o>=0&&null!=i){if(l>=o&&BigInt(a[o].ttd)>i)throw Error("Maximum HF determined by total difficulty is lower than the block number HF");if(l<o&&BigInt(a[o].ttd)<=i)throw Error("HF determined by block number is lower than the minimum total difficulty HF")}let u=l;for(;l<a.length-1&&a[l].block===a[l+1].block&&a[l].timestamp===a[l+1].timestamp;l+=1);if(s){if(a.slice(0,u).reduce((e,t)=>{var r;return Math.max(Number(null!==(r=t.timestamp)&&void 0!==r?r:"0"),e)},0)>s)throw Error("Maximum HF determined by timestamp is lower than the block number/ttd HF");if(a.slice(l+1).reduce((e,t)=>{var r;return Math.min(Number(null!==(r=t.timestamp)&&void 0!==r?r:s),e)},s)<s)throw Error("Maximum HF determined by block number/ttd is lower than timestamp HF")}return a[l].name}setHardforkByBlockNumber(e,t,r){let n=this.getHardforkByBlockNumber(e,t,r);return this.setHardfork(n),n}_getHardfork(e){for(let t of this.hardforks())if(t.name===e)return t;return null}setEIPs(e=[]){for(let t of e){if(!(t in lX))throw Error(`${t} not supported`);let r=this.gteHardfork(lX[t].minimumHardfork);if(!r)throw Error(`${t} cannot be activated on hardfork ${this.hardfork()}, minimumHardfork: ${r}`);if(void 0!==lX[t].requiredEIPs){for(let r of lX[t].requiredEIPs)if(!(e.includes(r)||this.isActivatedEIP(r)))throw Error(`${t} requires EIP ${r}, but is not included in the EIP list`)}}this._eips=e}param(e,t){let r;for(let n of this._eips)if(void 0!==(r=this.paramByEIP(e,t,n)))return r;return this.paramByHardfork(e,t,this._hardfork)}paramByHardfork(e,t,r){let n=null;for(let i of this.HARDFORK_CHANGES){if("eips"in i[1])for(let r of i[1].eips){let i=this.paramByEIP(e,t,r);n="bigint"==typeof i?i:n}else{if(void 0===i[1][e])throw Error(`Topic ${e} not defined`);void 0!==i[1][e][t]&&(n=i[1][e][t].v)}if(i[0]===r)break}return BigInt(null!=n?n:0)}paramByEIP(e,t,r){if(!(r in lX))throw Error(`${r} not supported`);let n=lX[r];if(!(e in n))throw Error(`Topic ${e} not defined`);if(void 0!==n[e][t])return BigInt(n[e][t].v)}paramByBlock(e,t,r,n,i){let s=this.getHardforkByBlockNumber(r,n,i);return this.paramByHardfork(e,t,s)}isActivatedEIP(e){if(this.eips().includes(e))return!0;for(let t of this.HARDFORK_CHANGES){let r=t[1];if(this.gteHardfork(r.name)&&"eips"in r&&r.eips.includes(e))return!0}return!1}hardforkIsActiveOnBlock(e,t){let r=lQ(t,H.BigInt),n=null!=e?e:this._hardfork,i=this.hardforkBlock(n);return"bigint"==typeof i&&i!==BigInt(0)&&r>=i}activeOnBlock(e){return this.hardforkIsActiveOnBlock(null,e)}hardforkGteHardfork(e,t){let r=null!=e?e:this._hardfork,n=this.hardforks(),i=-1,s=-1,a=0;for(let e of n)e.name===r&&(i=a),e.name===t&&(s=a),a+=1;return i>=s&&-1!==s}gteHardfork(e){return this.hardforkGteHardfork(null,e)}hardforkBlock(e){var t;let r=null!=e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.block;return null==n?null:BigInt(n)}hardforkTimestamp(e){var t;let r=null!=e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.timestamp;return null==n?null:BigInt(n)}eipBlock(e){for(let t of this.HARDFORK_CHANGES){let r=t[1];if("eips"in r&&r.eips.includes(e))return this.hardforkBlock("number"==typeof t[0]?String(t[0]):t[0])}return null}hardforkTTD(e){var t;let r=null!=e?e:this._hardfork,n=null===(t=this._getHardfork(r))||void 0===t?void 0:t.ttd;return null==n?null:BigInt(n)}isHardforkBlock(e,t){let r=lQ(e,H.BigInt),n=null!=t?t:this._hardfork,i=this.hardforkBlock(n);return"bigint"==typeof i&&i!==BigInt(0)&&i===r}nextHardforkBlockOrTimestamp(e){var t,r;let n=null!=e?e:this._hardfork,i=this.hardforks(),s=i.findIndex(e=>e.name===n);if(n===M.Merge&&(s-=1),s<0)return null;let a=null!==(t=i[s].timestamp)&&void 0!==t?t:i[s].block;a=null!=a?Number(a):null;let o=i.slice(s+1).find(e=>{var t;let r=null!==(t=e.timestamp)&&void 0!==t?t:e.block;return r=null!=r?Number(r):null,e.name!==M.Merge&&null!=r&&r!==a});if(void 0===o)return null;let l=null!==(r=o.timestamp)&&void 0!==r?r:o.block;return null==l?null:BigInt(l)}nextHardforkBlock(e){let t=null!=e?e:this._hardfork,r=this.hardforkBlock(t);if(null===r&&t===M.Merge){let e=this.hardforks(),t=e.findIndex(e=>null!==e.ttd&&void 0!==e.ttd);if(t<0)throw Error("Merge hardfork should have been found");r=this.hardforkBlock(e[t-1].name)}return null===r?null:this.hardforks().reduce((e,t)=>{let n=BigInt(null===t.block||void 0!==t.ttd&&null!==t.ttd?0:t.block);return n>r&&null===e?n:e},null)}isNextHardforkBlock(e,t){let r=lQ(e,H.BigInt),n=null!=t?t:this._hardfork,i=this.nextHardforkBlock(n);return null!==i&&i===r}_calcForkHash(e,t){let r=new Uint8Array,n=0;for(let t of this.hardforks()){let{block:i,timestamp:s,name:a}=t,o=null!=s?s:i;if("number"==typeof(o=null!==o?Number(o):null)&&0!==o&&o!==n&&a!==M.Merge&&(r=sh(r,sb(o.toString(16).padStart(16,"0"))),n=o),t.name===e)break}return sv(lL(l1(sh(t,r))>>>0))}forkHash(e,t){let r=null!=e?e:this._hardfork,n=this._getHardfork(r);if(null===n||(null==n?void 0:n.block)===null&&(null==n?void 0:n.timestamp)===void 0&&(null==n?void 0:n.ttd)===void 0)throw Error("No fork hash calculation possible for future hardfork");if((null==n?void 0:n.forkHash)!==null&&(null==n?void 0:n.forkHash)!==void 0)return n.forkHash;if(!t)throw Error("genesisHash required for forkHash calculation");return this._calcForkHash(r,t)}hardforkForForkHash(e){let t=this.hardforks().filter(t=>t.forkHash===e);return t.length>=1?t[t.length-1]:null}setForkHashes(e){var t;for(let r of this.hardforks()){let n=null!==(t=r.timestamp)&&void 0!==t?t:r.block;(null===r.forkHash||void 0===r.forkHash)&&(null!=n||void 0!==r.ttd)&&(r.forkHash=this.forkHash(r.name,e))}}genesis(){return this._chainParams.genesis}hardforks(){return this._chainParams.hardforks}bootstrapNodes(){return this._chainParams.bootstrapNodes}dnsNetworks(){return this._chainParams.dnsNetworks}hardfork(){return this._hardfork}chainId(){return BigInt(this._chainParams.chainId)}chainName(){return this._chainParams.name}networkId(){return BigInt(this._chainParams.networkId)}eips(){return this._eips}consensusType(){let e;let t=this.hardfork();for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus.type),r[0]===t)break;return null!=e?e:this._chainParams.consensus.type}consensusAlgorithm(){let e;let t=this.hardfork();for(let r of this.HARDFORK_CHANGES)if("consensus"in r[1]&&(e=r[1].consensus.algorithm),r[0]===t)break;return null!=e?e:this._chainParams.consensus.algorithm}consensusConfig(){var e;let t;let r=this.hardfork();for(let e of this.HARDFORK_CHANGES)if("consensus"in e[1]&&(t=e[1].consensus[e[1].consensus.algorithm]),e[0]===r)break;return null!==(e=null!=t?t:this._chainParams.consensus[this.consensusAlgorithm()])&&void 0!==e?e:{}}copy(){let e=Object.assign(Object.create(Object.getPrototypeOf(this)),this);return e.removeAllListeners(),e}static _getInitializedChains(e){let t={};for(let[e,r]of Object.entries(L))t[r]=e.toLowerCase();let r={mainnet:lW,goerli:lK,sepolia:lY};if(e)for(let n of e){let{name:e}=n;t[n.chainId.toString()]=e,r[e]=n}return r.names=t,r}}(b=G||(G={}))[b.EIP155ReplayProtection=155]="EIP155ReplayProtection",b[b.EIP1559FeeMarket=1559]="EIP1559FeeMarket",b[b.EIP2718TypedTransaction=2718]="EIP2718TypedTransaction",b[b.EIP2930AccessLists=2930]="EIP2930AccessLists";class l3{constructor(e){if(20!==e.length)throw Error("Invalid address length");this.buf=e}static zero(){return new l3(lU(20))}equals(e){return sf(this.buf,e.buf)}isZero(){return this.equals(l3.zero())}toString(){return sv(this.buf)}toArray(){return this.buf}static publicToAddress(e,t=!1){let r=e;if(lH(r),t&&64!==r.length&&(r=lO.ProjectivePoint.fromHex(r).toRawBytes(!1).slice(1)),64!==r.length)throw Error("Expected pubKey to be of length 64");return rD(r).slice(-20)}}let l4=(e,t)=>{let r=e.param("vm","maxInitCodeSize");if(r&&BigInt(t)>r)throw Error(`the initcode size of this transaction is too large: it is ${t} while the max is ${e.param("vm","maxInitCodeSize")}`)},l8=e=>{let t,r;if(0===e.length||Array.isArray(e[0])){r=null!=e?e:[];let n=[];for(let e=0;e<r.length;e+=1){let t=r[e],i=sv(t[0]),s=[];for(let e=0;e<t[1].length;e+=1)s.push(sv(t[1][e]));let a={address:i,storageKeys:s};n.push(a)}t=n}else{t=e;let n=[];for(let t=0;t<e.length;t+=1){let r=e[t],i=lM(r.address),s=[];for(let e=0;e<r.storageKeys.length;e+=1)s.push(lM(r.storageKeys[e]));n.push([i,s])}r=n}return{AccessListJSON:t,accessList:r}},l6=e=>{for(let t=0;t<e.length;t+=1){let r=e[t],n=r[0],i=r[1];if(void 0!==r[2])throw Error("Access list item cannot have 3 elements. It can only have an address, and an array of storage slots.");if(20!==n.length)throw Error("Invalid EIP-2930 transaction: address length should be 20 bytes");for(let e=0;e<i.length;e+=1)if(32!==i[e].length)throw Error("Invalid EIP-2930 transaction: storage slot length should be 32 bytes")}},l5=e=>{let t=[];for(let r=0;r<e.length;r+=1){let n=e[r],i={address:sv(lG(n[0],20)),storageKeys:[]},s=n&&n[1];for(let e=0;e<s.length;e+=1){let t=s[e];i.storageKeys.push(sv(lG(t,32)))}t.push(i)}return t},l9=(e,t)=>{let r=t.param("gasPrices","accessListStorageKeyCost"),n=t.param("gasPrices","accessListAddressCost"),i=0;for(let t=0;t<e.length;t+=1)i+=e[t][1].length;return e.length*Number(n)+i*Number(r)};class l7{constructor(e,t){var r,n;this.cache={hash:void 0,dataFee:void 0},this.activeCapabilities=[],this.DEFAULT_CHAIN=L.Mainnet,this.DEFAULT_HARDFORK=M.Merge;let{nonce:i,gasLimit:s,to:a,value:o,data:l,v:u,r:c,s:d,type:h}=e;this._type=Number(lD(lM(h))),this.txOptions=t;let f=lM(""===a?"0x":a),p=lM(""===u?"0x":u),g=lM(""===c?"0x":c),m=lM(""===d?"0x":d);this.nonce=lD(lM(""===i?"0x":i)),this.gasLimit=lD(lM(""===s?"0x":s)),this.to=f.length>0?new l3(f):void 0,this.value=lD(lM(""===o?"0x":o)),this.data=lM(""===l?"0x":l),this.v=p.length>0?lD(p):void 0,this.r=g.length>0?lD(g):void 0,this.s=m.length>0?lD(m):void 0,this._validateCannotExceedMaxInteger({value:this.value,r:this.r,s:this.s}),this._validateCannotExceedMaxInteger({gasLimit:this.gasLimit},64),this._validateCannotExceedMaxInteger({nonce:this.nonce},64,!0);let y=void 0===this.to||null===this.to,v=null!==(r=t.allowUnlimitedInitCodeSize)&&void 0!==r&&r,b=null!==(n=t.common)&&void 0!==n?n:this._getCommon();y&&b.isActivatedEIP(3860)&&!v&&l4(b,this.data.length)}get type(){return this._type}supports(e){return this.activeCapabilities.includes(e)}validate(e=!1){let t=[];return this.getBaseFee()>this.gasLimit&&t.push(`gasLimit is too low. given ${this.gasLimit}, need at least ${this.getBaseFee()}`),this.isSigned()&&!this.verifySignature()&&t.push("Invalid Signature"),e?t:0===t.length}_validateYParity(){let{v:e}=this;if(void 0!==e&&e!==BigInt(0)&&e!==BigInt(1))throw Error(this._errorMsg("The y-parity of the transaction should either be 0 or 1"))}_validateHighS(){let{s:e}=this;if(this.common.gteHardfork("homestead")&&void 0!==e&&e>l_)throw Error(this._errorMsg("Invalid Signature: s-values greater than secp256k1n/2 are considered invalid"))}getBaseFee(){let e=this.common.param("gasPrices","tx"),t=this.getDataFee();if(e&&(t+=e),this.common.gteHardfork("homestead")&&this.toCreationAddress()){let e=this.common.param("gasPrices","txCreation");e&&(t+=e)}return t}getDataFee(){let e=this.common.param("gasPrices","txDataZero"),t=this.common.param("gasPrices","txDataNonZero"),r=BigInt(0);for(let n=0;n<this.data.length;n+=1)0===this.data[n]?r+=e:r+=t;if((void 0===this.to||null===this.to)&&this.common.isActivatedEIP(3860)){let e=BigInt(Math.ceil(this.data.length/32));r+=this.common.param("gasPrices","initCodeWordCost")*e}return r}toCreationAddress(){return void 0===this.to||0===this.to.buf.length}isSigned(){let{v:e,r:t,s:r}=this;return void 0!==e&&void 0!==t&&void 0!==r}verifySignature(){try{let e=this.getSenderPublicKey();return 0!==l$(e).length}catch(e){return!1}}getSenderAddress(){return new l3(l3.publicToAddress(this.getSenderPublicKey()))}sign(e){if(32!==e.length)throw Error(this._errorMsg("Private key must be 32 bytes in length."));let t=!1;0===this.type&&this.common.gteHardfork("spuriousDragon")&&!this.supports(G.EIP155ReplayProtection)&&(this.activeCapabilities.push(G.EIP155ReplayProtection),t=!0);let r=this.getMessageToSign(!0),{v:n,r:i,s}=this._ecsign(r,e),a=this._processSignature(n,i,s);if(t){let e=this.activeCapabilities.indexOf(G.EIP155ReplayProtection);e>-1&&this.activeCapabilities.splice(e,1)}return a}_getCommon(e,t){var r,n,i,s;if(void 0!==t){let r=lD(lM(t));if(e){if(e.chainId()!==r)throw Error(this._errorMsg("The chain ID does not match the chain ID of Common"));return e.copy()}return l2.isSupportedChainId(r)?new l2({chain:r,hardfork:this.DEFAULT_HARDFORK}):l2.custom({name:"custom-chain",networkId:r,chainId:r},{baseChain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}if((null==e?void 0:e.copy)&&"function"==typeof(null==e?void 0:e.copy))return e.copy();if(e){let t="function"==typeof e.hardfork?e.hardfork():e.hardfork;return l2.custom({name:"custom-chain",networkId:e.networkId?e.networkId():null!==(n=BigInt(null===(r=e.customChain)||void 0===r?void 0:r.networkId))&&void 0!==n?n:void 0,chainId:e.chainId?e.chainId():null!==(s=BigInt(null===(i=e.customChain)||void 0===i?void 0:i.chainId))&&void 0!==s?s:void 0},{baseChain:this.DEFAULT_CHAIN,hardfork:t||this.DEFAULT_HARDFORK})}return new l2({chain:this.DEFAULT_CHAIN,hardfork:this.DEFAULT_HARDFORK})}_validateCannotExceedMaxInteger(e,t=256,r=!1){for(let[n,i]of Object.entries(e))switch(t){case 64:if(r){if(void 0!==i&&i>=lC)throw Error(this._errorMsg(`${n} cannot equal or exceed MAX_UINT64 (2^64-1), given ${i}`))}else if(void 0!==i&&i>lC)throw Error(this._errorMsg(`${n} cannot exceed MAX_UINT64 (2^64-1), given ${i}`));break;case 256:if(r){if(void 0!==i&&i>=lT)throw Error(this._errorMsg(`${n} cannot equal or exceed MAX_INTEGER (2^256-1), given ${i}`))}else if(void 0!==i&&i>lT)throw Error(this._errorMsg(`${n} cannot exceed MAX_INTEGER (2^256-1), given ${i}`));break;default:throw Error(this._errorMsg("unimplemented bits value"))}}static _validateNotArray(e){let t=["nonce","gasPrice","gasLimit","to","value","data","v","r","s","type","baseFee","maxFeePerGas","chainId"];for(let[r,n]of Object.entries(e))if(t.includes(r)&&Array.isArray(n))throw Error(`${r} cannot be an array`)}_getSharedErrorPostfix(){let e="";try{e=this.isSigned()?sv(this.hash()):"not available (unsigned)"}catch(t){e="error"}let t="";try{t=this.isSigned().toString()}catch(t){e="error"}let r="";try{r=this.common.hardfork()}catch(e){r="error"}return`tx type=${this.type} hash=${e} nonce=${this.nonce} value=${this.value} signed=${t} hf=${r}`}_ecsign(e,t,r){let n=lO.sign(e,t),i=n.toCompactRawBytes();return{r:i.subarray(0,32),s:i.subarray(32,64),v:void 0===r?BigInt(n.recovery+27):BigInt(n.recovery+35)+BigInt(r)*BigInt(2)}}static fromSerializedTx(e,t={}){}static fromTxData(e,t={}){}}let ue=sb("2".padStart(2,"0"));class ut extends l7{constructor(e,t={}){var r;super(Object.assign(Object.assign({},e),{type:2}),t),this.DEFAULT_HARDFORK="london";let{chainId:n,accessList:i,maxFeePerGas:s,maxPriorityFeePerGas:a}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(1559))throw Error("EIP-1559 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([1559,2718,2930]);let o=l8(null!=i?i:[]);if(this.accessList=o.accessList,this.AccessListJSON=o.AccessListJSON,l6(this.accessList),this.maxFeePerGas=lD(lM(""===s?"0x":s)),this.maxPriorityFeePerGas=lD(lM(""===a?"0x":a)),this._validateCannotExceedMaxInteger({maxFeePerGas:this.maxFeePerGas,maxPriorityFeePerGas:this.maxPriorityFeePerGas}),l7._validateNotArray(e),this.gasLimit*this.maxFeePerGas>lT)throw Error(this._errorMsg("gasLimit * maxFeePerGas cannot exceed MAX_INTEGER (2^256-1)"));if(this.maxFeePerGas<this.maxPriorityFeePerGas)throw Error(this._errorMsg("maxFeePerGas cannot be less than maxPriorityFeePerGas (The total must be the larger of the two)"));this._validateYParity(),this._validateHighS(),(null===(r=null==t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}static fromTxData(e,t={}){return new ut(e,t)}static fromSerializedTx(e,t={}){if(!sf(e.subarray(0,1),ue))throw Error(`Invalid serialized tx input: not an EIP-1559 transaction (wrong tx type, expected: 2, received: ${sv(e.subarray(0,1))}`);let r=lZ.yH.decode(e.subarray(1));if(!Array.isArray(r))throw Error("Invalid serialized tx input: must be array");return ut.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(9!==e.length&&12!==e.length)throw Error("Invalid EIP-1559 transaction. Only expecting 9 values (for unsigned tx) or 12 values (for signed tx).");let[r,n,i,s,a,o,l,u,c,d,h,f]=e;return this._validateNotArray({chainId:r,v:d}),iF({nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:a,value:l,v:d,r:h,s:f}),new ut({chainId:lD(r),nonce:n,maxPriorityFeePerGas:i,maxFeePerGas:s,gasLimit:a,to:o,value:l,data:u,accessList:null!=c?c:[],v:void 0!==d?lD(d):void 0,r:h,s:f},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(l9(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(e=BigInt(0)){let t=this.maxPriorityFeePerGas,r=this.maxFeePerGas-e;return this.gasLimit*((t<r?t:r)+e)+this.value}raw(){return[lz(this.chainId),lz(this.nonce),lz(this.maxPriorityFeePerGas),lz(this.maxFeePerGas),lz(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),lz(this.value),this.data,this.accessList,void 0!==this.v?lz(this.v):Uint8Array.from([]),void 0!==this.r?lz(this.r):Uint8Array.from([]),void 0!==this.s?lz(this.s):Uint8Array.from([])]}serialize(){let e=this.raw();return sh(ue,lZ.yH.encode(e))}getMessageToSign(e=!0){let t=this.raw().slice(0,9),r=sh(ue,lZ.yH.encode(t));return e?rD(r):r}hash(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call hash method if transaction is not signed"));return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=rD(this.serialize())),this.cache.hash):rD(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call this method if transaction is not signed"));let e=this.getMessageToVerifySignature(),{v:t,r,s:n}=this;this._validateHighS();try{return lV(e,t+BigInt(27),lz(r),lz(n))}catch(e){throw Error(this._errorMsg("Invalid Signature"))}}_processSignature(e,t,r){let n=Object.assign(Object.assign({},this.txOptions),{common:this.common});return ut.fromTxData({chainId:this.chainId,nonce:this.nonce,maxPriorityFeePerGas:this.maxPriorityFeePerGas,maxFeePerGas:this.maxFeePerGas,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:lD(t),s:lD(r)},n)}toJSON(){let e=l5(this.accessList);return{chainId:lq(this.chainId),nonce:lq(this.nonce),maxPriorityFeePerGas:lq(this.maxPriorityFeePerGas),maxFeePerGas:lq(this.maxFeePerGas),gasLimit:lq(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:lq(this.value),data:sv(this.data),accessList:e,v:void 0!==this.v?lq(this.v):void 0,r:void 0!==this.r?lq(this.r):void 0,s:void 0!==this.s?lq(this.s):void 0}}errorStr(){return this._getSharedErrorPostfix()+` maxFeePerGas=${this.maxFeePerGas} maxPriorityFeePerGas=${this.maxPriorityFeePerGas}`}_errorMsg(e){return`${e} (${this.errorStr()})`}}let ur=sb("1".padStart(2,"0"));class un extends l7{constructor(e,t={}){var r;super(Object.assign(Object.assign({},e),{type:1}),t),this.DEFAULT_HARDFORK="berlin";let{chainId:n,accessList:i,gasPrice:s}=e;if(this.common=this._getCommon(t.common,n),this.chainId=this.common.chainId(),!this.common.isActivatedEIP(2930))throw Error("EIP-2930 not enabled on Common");this.activeCapabilities=this.activeCapabilities.concat([2718,2930]);let a=l8(null!=i?i:[]);if(this.accessList=a.accessList,this.AccessListJSON=a.AccessListJSON,l6(this.accessList),this.gasPrice=lD(lM(""===s?"0x":s)),this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),l7._validateNotArray(e),this.gasPrice*this.gasLimit>lT)throw Error(this._errorMsg("gasLimit * gasPrice cannot exceed MAX_INTEGER"));this._validateYParity(),this._validateHighS(),(null===(r=null==t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}static fromTxData(e,t={}){return new un(e,t)}static fromSerializedTx(e,t={}){if(!sf(e.subarray(0,1),ur))throw Error(`Invalid serialized tx input: not an EIP-2930 transaction (wrong tx type, expected: 1, received: ${sv(e.subarray(0,1))}`);let r=lZ.yH.decode(Uint8Array.from(e.subarray(1)));if(!Array.isArray(r))throw Error("Invalid serialized tx input: must be array");return un.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(8!==e.length&&11!==e.length)throw Error("Invalid EIP-2930 transaction. Only expecting 8 values (for unsigned tx) or 11 values (for signed tx).");let[r,n,i,s,a,o,l,u,c,d,h]=e;return this._validateNotArray({chainId:r,v:c}),iF({nonce:n,gasPrice:i,gasLimit:s,value:o,v:c,r:d,s:h}),new un({chainId:lD(r),nonce:n,gasPrice:i,gasLimit:s,to:a,value:o,data:l,accessList:null!=u?u:[],v:void 0!==c?lD(c):void 0,r:d,s:h},t)}getDataFee(){if(this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork())return this.cache.dataFee.value;let e=super.getDataFee();return e+=BigInt(l9(this.accessList,this.common)),Object.isFrozen(this)&&(this.cache.dataFee={value:e,hardfork:this.common.hardfork()}),e}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}raw(){return[lz(this.chainId),lz(this.nonce),lz(this.gasPrice),lz(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),lz(this.value),this.data,this.accessList,void 0!==this.v?lz(this.v):Uint8Array.from([]),void 0!==this.r?lz(this.r):Uint8Array.from([]),void 0!==this.s?lz(this.s):Uint8Array.from([])]}serialize(){let e=this.raw();return sh(ur,lZ.yH.encode(e))}getMessageToSign(e=!0){let t=this.raw().slice(0,8),r=sh(ur,lZ.yH.encode(t));return e?rD(r):r}hash(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call hash method if transaction is not signed"));return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=rD(this.serialize())),this.cache.hash):rD(this.serialize())}getMessageToVerifySignature(){return this.getMessageToSign()}getSenderPublicKey(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call this method if transaction is not signed"));let e=this.getMessageToVerifySignature(),{v:t,r,s:n}=this;this._validateHighS();try{return lV(e,t+BigInt(27),lz(r),lz(n))}catch(e){throw Error(this._errorMsg("Invalid Signature"))}}_processSignature(e,t,r){let n=Object.assign(Object.assign({},this.txOptions),{common:this.common});return un.fromTxData({chainId:this.chainId,nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,accessList:this.accessList,v:e-BigInt(27),r:lD(t),s:lD(r)},n)}toJSON(){let e=l5(this.accessList);return{chainId:lq(this.chainId),nonce:lq(this.nonce),gasPrice:lq(this.gasPrice),gasLimit:lq(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:lq(this.value),data:sv(this.data),accessList:e,v:void 0!==this.v?lq(this.v):void 0,r:void 0!==this.r?lq(this.r):void 0,s:void 0!==this.s?lq(this.s):void 0}}errorStr(){var e,t;return this._getSharedErrorPostfix()+` gasPrice=${this.gasPrice} accessListCount=${null!==(t=null===(e=this.accessList)||void 0===e?void 0:e.length)&&void 0!==t?t:0}`}_errorMsg(e){return`${e} (${this.errorStr()})`}}function ui(e,t){let r=Number(e),n=2*Number(t);return r===n+35||r===n+36}class us extends l7{constructor(e,t={}){var r;if(super(Object.assign(Object.assign({},e),{type:0}),t),this.common=this._validateTxV(this.v,t.common),this.gasPrice=lD(lM(""===e.gasPrice?"0x":e.gasPrice)),this.gasPrice*this.gasLimit>lT)throw Error(this._errorMsg("gas limit * gasPrice cannot exceed MAX_INTEGER (2^256-1)"));this._validateCannotExceedMaxInteger({gasPrice:this.gasPrice}),l7._validateNotArray(e),this.common.gteHardfork("spuriousDragon")&&(this.isSigned()?ui(this.v,this.common.chainId())&&this.activeCapabilities.push(G.EIP155ReplayProtection):this.activeCapabilities.push(G.EIP155ReplayProtection)),(null===(r=null==t?void 0:t.freeze)||void 0===r||r)&&Object.freeze(this)}static fromTxData(e,t={}){return new us(e,t)}static fromSerializedTx(e,t={}){let r=lZ.yH.decode(e);if(!Array.isArray(r))throw Error("Invalid serialized tx input. Must be array");return this.fromValuesArray(r,t)}static fromValuesArray(e,t={}){if(6!==e.length&&9!==e.length)throw Error("Invalid transaction. Only expecting 6 values (for unsigned tx) or 9 values (for signed tx).");let[r,n,i,s,a,o,l,u,c]=e;return iF({nonce:r,gasPrice:n,gasLimit:i,value:a,v:l,r:u,s:c}),new us({nonce:r,gasPrice:n,gasLimit:i,to:s,value:a,data:o,v:l,r:u,s:c},t)}raw(){return[lz(this.nonce),lz(this.gasPrice),lz(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),lz(this.value),this.data,void 0!==this.v?lz(this.v):Uint8Array.from([]),void 0!==this.r?lz(this.r):Uint8Array.from([]),void 0!==this.s?lz(this.s):Uint8Array.from([])]}serialize(){return lZ.yH.encode(this.raw())}_getMessageToSign(){let e=[lz(this.nonce),lz(this.gasPrice),lz(this.gasLimit),void 0!==this.to?this.to.buf:Uint8Array.from([]),lz(this.value),this.data];return this.supports(G.EIP155ReplayProtection)&&(e.push(lM(this.common.chainId())),e.push(l$(lM(0))),e.push(l$(lM(0)))),e}getMessageToSign(e=!0){let t=this._getMessageToSign();return e?rD(lZ.yH.encode(t)):t}getDataFee(){return this.cache.dataFee&&this.cache.dataFee.hardfork===this.common.hardfork()?this.cache.dataFee.value:(Object.isFrozen(this)&&(this.cache.dataFee={value:super.getDataFee(),hardfork:this.common.hardfork()}),super.getDataFee())}getUpfrontCost(){return this.gasLimit*this.gasPrice+this.value}hash(){if(!this.isSigned())throw Error(this._errorMsg("Cannot call hash method if transaction is not signed"));return Object.isFrozen(this)?(this.cache.hash||(this.cache.hash=rD(lZ.yH.encode(this.raw()))),this.cache.hash):rD(lZ.yH.encode(this.raw()))}getMessageToVerifySignature(){if(!this.isSigned())throw Error(this._errorMsg("This transaction is not signed"));let e=this._getMessageToSign();return rD(lZ.yH.encode(e))}getSenderPublicKey(){let e=this.getMessageToVerifySignature(),{v:t,r,s:n}=this;this._validateHighS();try{return lV(e,t,lz(r),lz(n),this.supports(G.EIP155ReplayProtection)?this.common.chainId():void 0)}catch(e){throw Error(this._errorMsg("Invalid Signature"))}}_processSignature(e,t,r){let n=e;this.supports(G.EIP155ReplayProtection)&&(n+=this.common.chainId()*BigInt(2)+BigInt(8));let i=Object.assign(Object.assign({},this.txOptions),{common:this.common});return us.fromTxData({nonce:this.nonce,gasPrice:this.gasPrice,gasLimit:this.gasLimit,to:this.to,value:this.value,data:this.data,v:n,r:lD(t),s:lD(r)},i)}toJSON(){return{nonce:lq(this.nonce),gasPrice:lq(this.gasPrice),gasLimit:lq(this.gasLimit),to:void 0!==this.to?this.to.toString():void 0,value:lq(this.value),data:sv(this.data),v:void 0!==this.v?lq(this.v):void 0,r:void 0!==this.r?lq(this.r):void 0,s:void 0!==this.s?lq(this.s):void 0}}_validateTxV(e,t){let r;let n=void 0!==e?Number(e):void 0;if(void 0!==n&&n<37&&27!==n&&28!==n)throw Error(`Legacy txs need either v = 27/28 or v >= 37 (EIP-155 replay protection), got v = ${n}`);if(void 0!==n&&0!==n&&(!t||t.gteHardfork("spuriousDragon"))&&27!==n&&28!==n){if(t){if(!ui(BigInt(n),t.chainId()))throw Error(`Incompatible EIP155-based V ${n} and chain id ${t.chainId()}. See the Common parameter of the Transaction constructor to set the chain id.`)}else{let e;e=(n-35)%2==0?35:36,r=BigInt(n-e)/BigInt(2)}}return this._getCommon(t,r)}errorStr(){return this._getSharedErrorPostfix()+` gasPrice=${this.gasPrice}`}_errorMsg(e){return`${e} (${this.errorStr()})`}}let ua=new Map;class uo{constructor(){}static typeToInt(e){return Number(lD(lM(e)))}static registerTransactionType(e,t){let r=uo.typeToInt(e);ua.set(r,t)}static fromTxData(e,t={}){if(!("type"in e)||void 0===e.type)return us.fromTxData(e,t);let r=uo.typeToInt(e.type);if(0===r)return us.fromTxData(e,t);if(1===r)return un.fromTxData(e,t);if(2===r)return ut.fromTxData(e,t);let n=ua.get(r);if(null==n?void 0:n.fromTxData)return n.fromTxData(e,t);throw Error(`Tx instantiation with type ${r} not supported`)}static fromSerializedData(e,t={}){if(!(e[0]<=127))return us.fromSerializedTx(e,t);switch(e[0]){case 1:return un.fromSerializedTx(e,t);case 2:return ut.fromSerializedTx(e,t);default:{let r=ua.get(Number(e[0]));if(null==r?void 0:r.fromSerializedTx)return r.fromSerializedTx(e,t);throw Error(`TypedTransaction with ID ${e[0]} unknown`)}}}static fromBlockBodyData(e,t={}){if(sd(e))return this.fromSerializedData(e,t);if(Array.isArray(e))return us.fromValuesArray(e,t);throw Error("Cannot decode transaction: unknown type input")}}var ul=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let uu=(e,t)=>{let r;if(!t&&"string"==typeof e&&i_(e)&&66!==e.length)throw new el;try{r=sd(e)?e:sm(e)}catch(e){throw new eu}if(!t&&32!==r.byteLength)throw new el;return r},uc=e=>{let t=sb(i_(e)?e:sP(e));return af(sh(sb(sI(`\x19Ethereum Signed Message:
${t.byteLength}`)),t))},ud=(e,t)=>{let r=uu(t),n=lO.sign(e.substring(2),r),i=n.toCompactRawBytes(),s=n.r.toString(16).padStart(64,"0"),a=n.s.toString(16).padStart(64,"0"),o=n.recovery+27;return{messageHash:e,v:sx(o),r:`0x${s}`,s:`0x${a}`,signature:`${sv(i)}${o.toString(16)}`}},uh=(e,t)=>{let{messageHash:r,v:n,r:i,s,signature:a}=ud(uc(e),t);return{message:e,messageHash:r,v:n,r:i,s,signature:a}},uf=(e,t)=>ul(void 0,void 0,void 0,function*(){let r=e.sign(sb(t));if(sr(r.v)||sr(r.r)||sr(r.s))throw new th("Signer Error");let n=r.validate(!0);if(n.length>0){let e="Signer Error ";for(let t of n)e+=`${e} ${t}.`;throw new th(e)}let i=sv(r.serialize()),s=af(i);return{messageHash:sv(r.getMessageToSign(!0)),v:`0x${r.v.toString(16)}`,r:`0x${r.r.toString(16).padStart(64,"0")}`,s:`0x${r.s.toString(16).padStart(64,"0")}`,rawTransaction:i,transactionHash:sv(s)}}),up=e=>{if(sr(e))throw new ez;return sH(uo.fromSerializedData(sb(e)).getSenderAddress().toString())},ug=(e,t,r,n,i)=>{if("object"==typeof e){let t=`${e.r}${e.s.slice(2)}${e.v.slice(2)}`;return ug(e.messageHash,t,r)}if("string"==typeof t&&"string"==typeof r&&!sr(n))return ug(e,`${r}${n.slice(2)}${t.slice(2)}`,i);if(sr(t))throw new ec("signature string undefined");let s=r?e:uc(e),a=parseInt(t.substring(130),16);a>26&&(a-=27);let o=af(lO.Signature.fromCompact(t.slice(2,130)).addRecoveryBit(a).recoverPublicKey(s.replace("0x","")).toRawBytes(!1).subarray(1));return sH(`0x${o.slice(-40)}`)},um=e=>{let t=uu(e),r=af(lO.getPublicKey(t,!1).slice(1)).slice(-40);return sH(`0x${r}`)},uy=(e,t)=>{let r=uu(e);return`0x${sv(lO.getPublicKey(r,t)).slice(4)}`},uv=(e,t,r)=>ul(void 0,void 0,void 0,function*(){var n,i,s,a,o,l,u;let c,d,h,f;let p=uu(e);if(c=(null==r?void 0:r.salt)?"string"==typeof r.salt?sb(r.salt):r.salt:ak(32),!(iT(t)||sd(t)))throw new ep;let g="string"==typeof t?sb(sP(t)):t;if(null==r?void 0:r.iv){if(16!==(d="string"==typeof r.iv?sb(r.iv):r.iv).length)throw new eg}else d=ak(16);let m=null!==(n=null==r?void 0:r.kdf)&&void 0!==n?n:"scrypt";if("pbkdf2"===m){if((f={dklen:null!==(i=null==r?void 0:r.dklen)&&void 0!==i?i:32,salt:sv(c).replace("0x",""),c:null!==(s=null==r?void 0:r.c)&&void 0!==s?s:262144,prf:"hmac-sha256"}).c<1e3)throw new em;h=oL(g,c,f.c,f.dklen,"sha256")}else if("scrypt"===m)f={n:null!==(a=null==r?void 0:r.n)&&void 0!==a?a:8192,r:null!==(o=null==r?void 0:r.r)&&void 0!==o?o:8,p:null!==(l=null==r?void 0:r.p)&&void 0!==l?l:1,dklen:null!==(u=null==r?void 0:r.dklen)&&void 0!==u?u:32,salt:sv(c).replace("0x","")},h=oU(g,c,f.n,f.p,f.r,f.dklen);else throw new ed;let y=yield om(p,h.slice(0,16),d,"aes-128-ctr"),v=sv(y).slice(2),b=af(sh(h.slice(16,32),y)).replace("0x","");return{version:3,id:aR(),address:um(p).toLowerCase().replace("0x",""),crypto:{ciphertext:v,cipherparams:{iv:sv(d).replace("0x","")},cipher:"aes-128-ctr",kdf:m,kdfparams:f,mac:b}}}),ub=(e,t)=>{let r=uu(e,t);return{address:um(r),privateKey:sv(r),signTransaction:e=>{throw new th("Do not have network access to sign the transaction")},sign:e=>uh("string"==typeof e?e:JSON.stringify(e),r),encrypt:(e,t)=>ul(void 0,void 0,void 0,function*(){return uv(r,e,t)})}},uw=()=>{let e=lO.utils.randomPrivateKey();return ub(`${sv(e)}`)},uA=(e,t,r)=>ul(void 0,void 0,void 0,function*(){let n;let i="object"==typeof e?e:JSON.parse(r?e.toLowerCase():e);if(sc.validateJSONSchema(lB,i),3!==i.version)throw new ef;let s="string"==typeof t?sb(sP(t)):t;if(sc.validate(["bytes"],[s]),"scrypt"===i.crypto.kdf){let e=i.crypto.kdfparams;n=oU(s,"string"==typeof e.salt?sb(e.salt):e.salt,e.n,e.p,e.r,e.dklen)}else if("pbkdf2"===i.crypto.kdf){let e=i.crypto.kdfparams;n=oL(s,"string"==typeof e.salt?sb(e.salt):e.salt,e.c,e.dklen,"sha256")}else throw new ed;let a=sb(i.crypto.ciphertext);if(af(sh(n.slice(16,32),a)).replace("0x","")!==i.crypto.mac)throw new eh;return ub((yield ov(sb(i.crypto.ciphertext),n.slice(0,16),sb(i.crypto.cipherparams.iv))))});var ux=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class uE{constructor(e){this._requestManager=e,this._requests=new Map}get requests(){return[...this._requests.values()].map(e=>e.payload)}add(e){let t=a$(e),r=new aQ;return this._requests.set(t.id,{payload:t,promise:r}),r}execute(e){var t;return ux(this,void 0,void 0,function*(){if(0===this.requests.length)return Promise.resolve([]);let r=new aQ({timeout:null!==(t=null==e?void 0:e.timeout)&&void 0!==t?t:1e3,eagerStart:!0,timeoutMessage:"Batch request timeout"});return this._processBatchRequest(r).catch(e=>r.reject(e)),r.catch(e=>{e instanceof eB&&this._abortAllRequests("Batch request timeout"),r.reject(e)}),r})}_processBatchRequest(e){var t,r;return ux(this,void 0,void 0,function*(){let n=yield this._requestManager.sendBatch([...this._requests.values()].map(e=>e.payload));if(n.length!==this._requests.size)throw this._abortAllRequests("Invalid batch response"),new tT(n,`Batch request size mismatch the results size. Requests: ${this._requests.size}, Responses: ${n.length}`);let i=this.requests.map(e=>e.id).map(Number).sort((e,t)=>e-t),s=n.map(e=>e.id).map(Number).sort((e,t)=>e-t);if(JSON.stringify(i)!==JSON.stringify(s))throw this._abortAllRequests("Invalid batch response"),new tT(n,`Batch request mismatch the results. Requests: [${i.join()}], Responses: [${s.join()}]`);for(let e of n)aF(e)?null===(t=this._requests.get(e.id))||void 0===t||t.promise.resolve(e.result):aL(e)&&(null===(r=this._requests.get(e.id))||void 0===r||r.promise.reject(e.error));e.resolve(n)})}_abortAllRequests(e){for(let{promise:t}of this._requests.values())t.reject(new eR(e))}}class uk extends a1{constructor(e){var t;if(super(),this.providers=oa.providers,s4(e)||"string"==typeof e&&""!==e.trim()||or(e)){this._requestManager=new oa(e),this._subscriptionManager=new ol(this._requestManager,{});return}let{config:r,provider:n,requestManager:i,subscriptionManager:s,registeredSubscriptions:a,accountProvider:o,wallet:l,requestManagerMiddleware:u}=e;this.setConfig(null!=r?r:{}),this._requestManager=null!=i?i:new oa(n,null===(t=null==r?void 0:r.enableExperimentalFeatures)||void 0===t?void 0:t.useSubscriptionWhenCheckingBlockTimeout,u),s?this._subscriptionManager=s:this._subscriptionManager=new ol(this.requestManager,null!=a?a:{}),o&&(this._accountProvider=o),l&&(this._wallet=l)}get requestManager(){return this._requestManager}get subscriptionManager(){return this._subscriptionManager}get wallet(){return this._wallet}get accountProvider(){return this._accountProvider}static fromContextObject(...e){return new this(...e.reverse())}getContextObject(){var e;return{config:this.config,provider:this.provider,requestManager:this.requestManager,subscriptionManager:this.subscriptionManager,registeredSubscriptions:null===(e=this.subscriptionManager)||void 0===e?void 0:e.registeredSubscriptions,providers:this.providers,wallet:this.wallet,accountProvider:this.accountProvider}}use(e,...t){let r=new e(...[...t,this.getContextObject()]);return this.on(N.CONFIG_CHANGE,e=>{r.setConfig({[e.name]:e.newValue})}),this[e.name]=r,r}link(e){this.setConfig(e.config),this._requestManager=e.requestManager,this.provider=e.provider,this._subscriptionManager=e.subscriptionManager,this._wallet=e.wallet,this._accountProvider=e._accountProvider,e.on(N.CONFIG_CHANGE,e=>{this.setConfig({[e.name]:e.newValue})})}registerPlugin(e){if(void 0!==this[e.pluginNamespace])throw new eF(e.pluginNamespace);let t={[e.pluginNamespace]:e};t[e.pluginNamespace].link(this),Object.assign(this,t)}get provider(){return this.currentProvider}set provider(e){this.requestManager.setProvider(e)}get currentProvider(){return this.requestManager.provider}set currentProvider(e){this.requestManager.setProvider(e)}get givenProvider(){return uk.givenProvider}setProvider(e){return this.provider=e,!0}setRequestManagerMiddleware(e){this.requestManager.setMiddleware(e)}get BatchRequest(){return uE.bind(void 0,this._requestManager)}extend(e){var t;return e.property&&!this[e.property]&&(this[e.property]={}),null===(t=e.methods)||void 0===t||t.forEach(t=>{let r=(...e)=>{var r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){return this.requestManager.send({method:t.call,params:e})},new(i||(i=Promise))(function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(a,o)}l((s=s.apply(r,n||[])).next())})};e.property?this[e.property][t.name]=r:this[t.name]=r}),this}}uk.providers=oa.providers;class uP{constructor(e){if(this.toAddress=()=>{if(this.isDirect()){let e=this._iban.slice(4);return sH(ae(uP._parseInt(e,36),40))}throw Error("Iban is indirect and cannot be converted. Must be length of 34 or 35")},uP.isIndirect(e)||uP.isDirect(e))this._iban=e;else throw Error("Invalid IBAN was provided")}static isDirect(e){return 34===e.length||35===e.length}isDirect(){return uP.isDirect(this._iban)}static isIndirect(e){return 20===e.length}isIndirect(){return uP.isIndirect(this._iban)}static isValid(e){return/^XE[0-9]{2}(ETH[0-9A-Z]{13}|[0-9A-Z]{30,31})$/.test(e)&&1===uP._mod9710(uP._iso13616Prepare(e))}isValid(){return uP.isValid(this._iban)}static fromBban(e){let t=this._mod9710(this._iso13616Prepare(`XE00${e}`)),r=`0${(98-t).toString()}`.slice(-2);return new uP(`XE${r}${e}`)}static createIndirect(e){return uP.fromBban(`ETH${e.institution}${e.identifier}`)}static fromAddress(e){if(!i1(e))throw new ty(e);let t=ae(BigInt(sw(e)).toString(36),15);return uP.fromBban(t.toUpperCase())}static toIban(e){return uP.fromAddress(e).toString()}client(){return this.isIndirect()?this._iban.slice(11):""}checksum(){return this._iban.slice(2,4)}institution(){return this.isIndirect()?this._iban.slice(7,11):""}toString(){return this._iban}}uP._iso13616Prepare=e=>{let t=e.toUpperCase();return`${t.slice(4)}${t.slice(0,4)}`.split("").map(e=>{let t=e.charCodeAt(0);return t>=65&&t<=90?t-65+10:e}).join("")},uP._parseInt=(e,t)=>[...e].reduce((e,r)=>BigInt(parseInt(r,t))+BigInt(t)*e,BigInt(0)),uP._mod9710=e=>{let t,r=e;for(;r.length>2;)t=r.slice(0,9),r=`${(parseInt(t,10)%97).toString()}${r.slice(t.length)}`;return parseInt(r,10)%97},uP.toAddress=e=>new uP(e).toAddress();var uI=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class uS extends a0{constructor(e){super(),this[$]="Promise",this._promise=new Promise(e)}then(e,t){return uI(this,void 0,void 0,function*(){return this._promise.then(e,t)})}catch(e){return uI(this,void 0,void 0,function*(){return this._promise.catch(e)})}finally(e){return uI(this,void 0,void 0,function*(){return this._promise.finally(e)})}on(e,t){return super.on(e,t),this}once(e,t){return super.once(e,t),this}}$=Symbol.toStringTag,r(1345);var uO=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};function uC(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_syncing",params:[]})})}function uT(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["hex"],[t]),e.send({method:"eth_sendRawTransaction",params:[t]})})}function u_(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag","bool"],[t,r]),e.send({method:"eth_getBlockByNumber",params:[t,r]})})}var uB=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})},uR=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let uN=e=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_listAccounts",params:[]})}),uF=(e,t)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_newAccount",params:[t]})}),uL=(e,t,r,n)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_unlockAccount",params:[t,r,n]})}),uM=(e,t)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_lockAccount",params:[t]})}),uD=(e,t,r)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_importRawKey",params:[t,r]})}),uU=(e,t,r)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_sendTransaction",params:[t,r]})}),uj=(e,t,r)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_signTransaction",params:[t,r]})}),uH=(e,t,r,n)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_sign",params:[t,r,n]})}),uG=(e,t,r)=>uR(void 0,void 0,void 0,function*(){return e.send({method:"personal_ecRecover",params:[t,r]})}),u$={type:"object",properties:{accessList:{type:"null"},maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},uq={type:"object",properties:{maxFeePerGas:{type:"null"},maxPriorityFeePerGas:{type:"null"}}},uz={type:"object",properties:{gasPrice:{type:"null"}}},uV=(e,t,r)=>{try{sc.validateJSONSchema(e,t)}catch(e){if(e instanceof iS)throw new tp(e.errors,r);throw e}},uQ=e=>{var t,r;if(!sr(e.type)){let t;switch(e.type){case"0x0":t=u$;break;case"0x1":t=uq;break;case"0x2":t=uz;break;default:return au({format:"uint"},e.type,X)}return uV(t,e,e.type),au({format:"uint"},e.type,X)}if(!sr(e.maxFeePerGas)||!sr(e.maxPriorityFeePerGas))return uV(uz,e,"0x2"),"0x2";if(!sr(e.accessList))return uV(uq,e,"0x1"),"0x1";let n=null!==(t=e.hardfork)&&void 0!==t?t:null===(r=e.common)||void 0===r?void 0:r.hardfork;if(!sr(n)){let t=Object.keys(I).indexOf(n);if(t>=Object.keys(I).indexOf("london"))return sr(e.gasPrice)?"0x2":"0x0";if(t===Object.keys(I).indexOf("berlin"))return"0x0"}if(!sr(e.gasPrice))return uV(u$,e,"0x0"),"0x0"},uZ=(e,t)=>{var r;return(null!==(r=null==t?void 0:t.transactionTypeParser)&&void 0!==r?r:uQ)(e)},uJ=e=>e[0]>127?"0x0":sL(e[0]),uK={type:"array",items:Object.assign({},{type:"object",properties:{address:{format:"address"},storageKeys:{type:"array",items:{format:"bytes32"}}}})},uW={type:"object",properties:{accessList:Object.assign({},uK),gasUsed:{type:"string"}}},uY={type:"string",enum:["goerli","kovan","mainnet","rinkeby","ropsten","sepolia"]},uX={type:"string",enum:["arrowGlacier","berlin","byzantium","chainstart","constantinople","dao","homestead","istanbul","london","merge","muirGlacier","petersburg","shanghai","spuriousDragon","tangerineWhistle"]},u0={type:"object",properties:{from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},uK),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},chain:Object.assign({},uY),hardfork:Object.assign({},uX),chainId:{format:"uint"},networkId:{format:"uint"},common:{type:"object",properties:{customChain:Object.assign({},{type:"object",properties:{name:{format:"string"},networkId:{format:"uint"},chainId:{format:"uint"}}}),baseChain:Object.assign({},uY),hardfork:Object.assign({},uX)}},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}}},u1={type:"object",properties:Object.assign(Object.assign({},u0.properties),{blockHash:{format:"bytes32"},blockNumber:{format:"uint"},hash:{format:"bytes32"},transactionIndex:{format:"uint"},from:{format:"address"},to:{oneOf:[{format:"address"},{type:"null"}]},value:{format:"uint"},gas:{format:"uint"},gasPrice:{format:"uint"},effectiveGasPrice:{format:"uint"},type:{format:"uint"},maxFeePerGas:{format:"uint"},maxPriorityFeePerGas:{format:"uint"},accessList:Object.assign({},uK),data:{format:"bytes"},input:{format:"bytes"},nonce:{format:"uint"},gasLimit:{format:"uint"},v:{format:"uint"},r:{format:"bytes32"},s:{format:"bytes32"}})},u2={type:"object",properties:{index:{format:"uint"},validatorIndex:{format:"uint"},address:{format:"address"},amount:{format:"uint"}}},u3={type:"object",properties:{baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{oneOf:[{type:"array",items:Object.assign({},u1)},{type:"array",items:{format:"bytes32"}}]},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},u2)},withdrawalsRoot:{format:"bytes32"}}},u4={type:"object",properties:{author:{format:"bytes32"},excessDataGas:{format:"uint"},baseFeePerGas:{format:"uint"},blobGasUsed:{format:"uint"},difficulty:{format:"uint"},excessBlobGas:{format:"uint"},extraData:{format:"bytes"},gasLimit:{format:"uint"},gasUsed:{format:"uint"},hash:{format:"bytes32"},logsBloom:{format:"bytes256"},miner:{format:"bytes"},mixHash:{format:"bytes32"},nonce:{format:"uint"},number:{format:"uint"},parentBeaconBlockRoot:{format:"bytes32"},parentHash:{format:"bytes32"},receiptsRoot:{format:"bytes32"},sha3Uncles:{format:"bytes32"},size:{format:"uint"},stateRoot:{format:"bytes32"},timestamp:{format:"uint"},totalDifficulty:{format:"uint"},transactions:{type:"array",items:{format:"bytes32"}},transactionsRoot:{format:"bytes32"},uncles:{type:"array",items:{format:"bytes32"}},withdrawals:{type:"array",items:Object.assign({},u2)},withdrawalsRoot:{format:"bytes32"}}},u8={type:"object",properties:{removed:{format:"bool"},logIndex:{format:"uint"},transactionIndex:{format:"uint"},transactionHash:{format:"bytes32"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},address:{format:"address"},data:{format:"bytes"},topics:{type:"array",items:{format:"bytes32"}}}},u6={type:"object",properties:{startingBlock:{format:"string"},currentBlock:{format:"string"},highestBlock:{format:"string"},knownStates:{format:"string"},pulledStates:{format:"string"}}},u5={type:"object",properties:{transactionHash:{format:"bytes32"},transactionIndex:{format:"uint"},blockHash:{format:"bytes32"},blockNumber:{format:"uint"},from:{format:"address"},to:{format:"address"},cumulativeGasUsed:{format:"uint"},gasUsed:{format:"uint"},effectiveGasPrice:{format:"uint"},contractAddress:{format:"address"},logs:{type:"array",items:Object.assign({},u8)},logsBloom:{format:"bytes"},root:{format:"bytes"},status:{format:"uint"},type:{format:"uint"}}},u9={type:"object",properties:{messageHash:{format:"bytes"},r:{format:"bytes32"},s:{format:"bytes32"},v:{format:"bytes"},message:{format:"bytes"},signature:{format:"bytes"}}},u7={type:"object",properties:{oldestBlock:{format:"uint"},baseFeePerGas:{type:"array",items:{format:"uint"}},reward:{type:"array",items:{type:"array",items:{format:"uint"}}},gasUsedRatio:{type:"array",items:{type:"number"}}}},ce={type:"object",properties:{balance:{format:"uint"},codeHash:{format:"bytes32"},nonce:{format:"uint"},storageHash:{format:"bytes32"},accountProof:{type:"array",items:{format:"bytes32"}},storageProof:{type:"array",items:Object.assign({},{type:"object",properties:{key:{format:"bytes32"},value:{format:"uint"},proof:{type:"array",items:{format:"bytes32"}}}})}}};function ct(e,t=Y,r={transactionSchema:u1,fillInputAndData:!1}){var n,i;let s=s6({},e);if(sr(null==e?void 0:e.common)||(s.common=Object.assign({},e.common),sr(null===(n=e.common)||void 0===n?void 0:n.customChain)||(s.common.customChain=Object.assign({},e.common.customChain))),!sr((s=au(null!==(i=r.transactionSchema)&&void 0!==i?i:u1,s,t)).data)&&!sr(s.input)&&sL(s.data)!==sL(s.input))throw new ts({data:sv(s.data),input:sv(s.input)});return r.fillInputAndData&&(sr(s.data)?sr(s.input)||(s.data=s.input):s.input=s.data),sr(s.gasLimit)||(s.gas=s.gasLimit,delete s.gasLimit),s}var cr=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};function cn(e,t){return cr(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uB(this,void 0,void 0,function*(){return e.send({method:"net_version",params:[]})})}(e.requestManager)),t)})}let ci=e=>cr(void 0,void 0,void 0,function*(){return function(e){return uB(this,void 0,void 0,function*(){return e.send({method:"net_listening",params:[]})})}(e.requestManager)});var cs=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class ca extends uk{getId(e=this.defaultReturnFormat){return cs(this,void 0,void 0,function*(){return cn(this,e)})}getPeerCount(e=this.defaultReturnFormat){return cs(this,void 0,void 0,function*(){return function(e,t){return cr(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uB(this,void 0,void 0,function*(){return e.send({method:"net_peerCount",params:[]})})}(e.requestManager)),t)})}(this,e)})}isListening(){return cs(this,void 0,void 0,function*(){return ci(this)})}}let co="ALLEVENTS",cl={name:co,signature:"",type:"event",inputs:[]},cu={bytes:k.HEX,number:E.NUMBER};var cc=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};function cd(e,t,r){return cc(this,void 0,void 0,function*(){let n=cg(e,t);if(!sr(n)){if(n.startsWith("-")||0>Number(n)||Number(n)>127)throw new ti(n);if(sr(e.gasPrice)&&("0x0"===n||"0x1"===n))return{gasPrice:yield dL(t,r),maxPriorityFeePerGas:void 0,maxFeePerGas:void 0};if("0x2"===n)return Object.assign({gasPrice:void 0},(yield function(e,t,r){var n,i,s,a;return cc(this,void 0,void 0,function*(){let o;let l=yield dD(t,t.defaultBlock,!1,X);if(sr(l.baseFeePerGas))throw new tn;if(sr(e.gasPrice)&&BigInt(l.baseFeePerGas)===BigInt(0)&&(o=yield dL(t,r)),!sr(e.gasPrice)||!sr(o)){let t=au({format:"uint"},null!==(n=e.gasPrice)&&void 0!==n?n:o,r);return{maxPriorityFeePerGas:t,maxFeePerGas:t}}return{maxPriorityFeePerGas:au({format:"uint"},null!==(i=e.maxPriorityFeePerGas)&&void 0!==i?i:t.defaultMaxPriorityFeePerGas,r),maxFeePerGas:au({format:"uint"},null!==(s=e.maxFeePerGas)&&void 0!==s?s:BigInt(l.baseFeePerGas)*BigInt(2)+BigInt(null!==(a=e.maxPriorityFeePerGas)&&void 0!==a?a:t.defaultMaxPriorityFeePerGas),r)}})}(e,t,r)))}})}var ch=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let cf=(e,t,r,n)=>{if(void 0!==r&&e in r&&void 0!==r[e]){if("string"==typeof r[e]&&i1(r[e]))return r[e];if(!i_(r[e])&&i8(r[e])){if(t.wallet){let n=t.wallet.get(au({format:"uint"},r[e],cu));if(!sr(n))return n.address}throw new tf}throw"from"===e?new eQ(r.from):new eZ(r.to)}if("from"===e){if(!sr(n))return um(n);if(!sr(t.defaultAccount))return t.defaultAccount}},cp=(e,t,r=e.defaultReturnFormat)=>ch(void 0,void 0,void 0,function*(){if(sr(t))throw new tr;return dj(e,t,e.defaultBlock,r)}),cg=(e,t)=>{let r=uZ(e,t);return sr(r)?sr(t.defaultTransactionType)?void 0:au({format:"uint"},t.defaultTransactionType,X):r},cm=e=>ch(void 0,void 0,void 0,function*(){var t;return(null!==(t=e.web3Context.transactionBuilder)&&void 0!==t?t:function(e){var t,r;return ch(this,void 0,void 0,function*(){let n=au(u0,e.transaction,e.web3Context.defaultReturnFormat);if(sr(n.from)&&(n.from=cf("from",e.web3Context,void 0,e.privateKey)),sr(n.nonce)&&(n.nonce=yield cp(e.web3Context,n.from,X)),sr(n.value)&&(n.value="0x0"),sr(n.data))sr(n.input)?n.input="0x":n.input.startsWith("0x")||(n.input=`0x${n.input}`);else{if(!sr(n.input)&&n.data!==n.input)throw new ts({data:sv(n.data),input:sv(n.input)});n.data.startsWith("0x")||(n.data=`0x${n.data}`)}if(sr(n.common)){if(e.web3Context.defaultCommon){let t=e.web3Context.defaultCommon,r=t.customChain.chainId,i=t.customChain.networkId,s=t.customChain.name;n.common=Object.assign(Object.assign({},t),{customChain:{chainId:r,networkId:i,name:s}})}sr(n.chain)&&(n.chain=e.web3Context.defaultChain),sr(n.hardfork)&&(n.hardfork=e.web3Context.defaultHardfork)}if(sr(n.chainId)&&sr(null===(t=n.common)||void 0===t?void 0:t.customChain.chainId)&&(n.chainId=yield dz(e.web3Context,X)),sr(n.networkId)&&(n.networkId=null!==(r=e.web3Context.defaultNetworkId)&&void 0!==r?r:yield cn(e.web3Context,X)),sr(n.gasLimit)&&!sr(n.gas)&&(n.gasLimit=n.gas),n.type=cg(n,e.web3Context),sr(n.accessList)&&("0x1"===n.type||"0x2"===n.type)&&(n.accessList=[]),e.fillGasPrice&&(n=Object.assign(Object.assign({},n),(yield cd(n,e.web3Context,X)))),sr(n.gas)&&sr(n.gasLimit)&&e.fillGasLimit){let t=yield d$(e.web3Context,n,"latest",X);n=Object.assign(Object.assign({},n),{gas:au({format:"uint"},t,X)})}return n})})(Object.assign(Object.assign({},e),{transaction:e.transaction}))});var cy=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};function cv(e,t,r){let[n,i]=aB(()=>cy(this,void 0,void 0,function*(){let n;try{n=yield dM(e,cu)}catch(e){console.warn("An error happen while trying to get the block number",e);return}let i=n-t;if(i>=e.transactionBlockTimeout)return new tu({starterBlockNumber:t,numberOfBlocks:i,transactionHash:r})}),e.transactionPollingInterval);return[i,{clean:()=>{clearInterval(n)}}]}function cb(e,t){var r,n;return cy(this,void 0,void 0,function*(){let{provider:i}=e.requestManager,s=yield dM(e,cu);return(null===(n=(r=i).supportsSubscriptions)||void 0===n?void 0:n.call(r))&&e.enableExperimentalFeatures.useSubscriptionWhenCheckingBlockTimeout?yield function(e,t,r){var n;return cy(this,void 0,void 0,function*(){let i,s,a=!0;function o(n,i){i&&console.warn("error happened at subscription. So revert to polling...",i),s.clean(),a=!1;let[o,l]=cv(e,t,r);s.clean=l.clean,o.catch(e=>n(e))}try{i=yield null===(n=e.subscriptionManager)||void 0===n?void 0:n.subscribe("newHeads"),s={clean:()=>{var t;i.id&&(null===(t=e.subscriptionManager)||void 0===t||t.removeSubscription(i).then(()=>{}).catch(()=>{}))}}}catch(n){return cv(e,t,r)}return[new Promise((n,s)=>{try{i.on("data",n=>{if(a=!1,!(null==n?void 0:n.number))return;let i=Number(BigInt(n.number)-BigInt(t));i>=e.transactionBlockTimeout&&s(new tu({starterBlockNumber:t,numberOfBlocks:i,transactionHash:r}))}),i.on("error",e=>{o(s,e)})}catch(e){o(s,e)}setTimeout(()=>{a&&o(s)},1e3*e.blockHeaderTimeout)}),s]})}(e,s,t):cv(e,s,t)})}function cw(e,t,r){var n,i,s,a;return n=this,i=void 0,s=void 0,a=function*(){let[n,i]=a_(e.transactionSendTimeout,new ta({numberOfSeconds:e.transactionSendTimeout/1e3,transactionHash:r})),[s,a]=yield cb(e,r);try{return yield Promise.race([t(),i,s])}finally{clearTimeout(n),a.clean()}},new(s||(s=Promise))(function(e,t){function r(e){try{l(a.next(e))}catch(e){t(e)}}function o(e){try{l(a.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):((n=t.value)instanceof s?n:new s(function(e){e(n)})).then(r,o)}l((a=a.apply(n,i||[])).next())})}var cA=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};function cx(e,t,r,n){var i;return cA(this,void 0,void 0,function*(){let[s,a]=aC(()=>cA(this,void 0,void 0,function*(){try{return(null!=n?n:dU)(e,t,r)}catch(e){console.warn("An error happen while trying to get the transaction receipt",e);return}}),null!==(i=e.transactionReceiptPollingInterval)&&void 0!==i?i:e.transactionPollingInterval),[o,l]=a_(e.transactionPollingTimeout,new tl({numberOfSeconds:e.transactionPollingTimeout/1e3,transactionHash:t})),[u,c]=yield cb(e,t);try{return yield Promise.race([s,l,u])}finally{o&&clearTimeout(o),a&&clearInterval(a),c.clean()}})}let cE=({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,customTransactionReceiptSchema:n,returnFormat:i})=>{var s;let a=1,o=setInterval(()=>{var s,l,u,c;s=void 0,l=void 0,u=void 0,c=function*(){if(a>=e.transactionConfirmationBlocks){clearInterval(o);return}let s=yield u_(e.requestManager,sx(BigInt(t.blockNumber)+BigInt(a)),!1);(null==s?void 0:s.hash)&&(a+=1,r.emit("confirmation",{confirmations:au({format:"uint"},a,i),receipt:au(null!=n?n:u5,t,i),latestBlockHash:au({format:"bytes32"},s.hash,i)}))},new(u||(u=Promise))(function(e,t){function r(e){try{i(c.next(e))}catch(e){t(e)}}function n(e){try{i(c.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof u?i:new u(function(e){e(i)})).then(r,n)}i((c=c.apply(s,l||[])).next())})},null!==(s=e.transactionReceiptPollingInterval)&&void 0!==s?s:e.transactionPollingInterval)};var ck=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let cP=({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,customTransactionReceiptSchema:n,returnFormat:i})=>{let s,a=!0;setImmediate(()=>{var o;null===(o=e.subscriptionManager)||void 0===o||o.subscribe("newHeads").then(o=>{o.on("data",l=>ck(void 0,void 0,void 0,function*(){var u;if(a=!1,!(null==l?void 0:l.number)||s===(null==l?void 0:l.parentHash))return;s=null==l?void 0:l.parentHash;let c=BigInt(l.number)-BigInt(t.blockNumber)+BigInt(1);r.emit("confirmation",{confirmations:au({format:"uint"},c,i),receipt:au(null!=n?n:u5,t,i),latestBlockHash:au({format:"bytes32"},l.parentHash,i)}),c>=e.transactionConfirmationBlocks&&(yield null===(u=e.subscriptionManager)||void 0===u?void 0:u.removeSubscription(o))})),o.on("error",()=>ck(void 0,void 0,void 0,function*(){var s;yield null===(s=e.subscriptionManager)||void 0===s?void 0:s.removeSubscription(o),a=!1,cE({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,customTransactionReceiptSchema:n,returnFormat:i})}))}).catch(()=>{a=!1,cE({web3Context:e,transactionReceipt:t,customTransactionReceiptSchema:n,transactionPromiEvent:r,returnFormat:i})})}),setTimeout(()=>{a&&cE({web3Context:e,transactionReceipt:t,transactionPromiEvent:r,returnFormat:i})},1e3*e.blockHeaderTimeout)},cI=e=>!s4(e)&&"object"==typeof e&&!s4(e.type)&&"error"===e.type,cS=e=>!s4(e)&&"object"==typeof e&&!s4(e.type)&&"event"===e.type,cO=e=>!s4(e)&&"object"==typeof e&&!s4(e.type)&&"function"===e.type,cC=e=>!s4(e)&&"object"==typeof e&&!s4(e.type)&&"constructor"===e.type,cT=e=>"object"==typeof e&&void 0===e.components&&void 0===e.name,c_=e=>e.includes("[]")?{type:"tuple[]",name:e.slice(0,-2)}:{type:"tuple",name:e},cB=e=>{let t=[];for(let r of Object.keys(e)){let n=e[r];"object"==typeof n?t.push(Object.assign(Object.assign({},c_(r)),{components:cB(n)})):t.push({name:r,type:e[r]})}return t},cR=(e,t)=>{let r=[];return t.forEach(t=>{if("object"==typeof t.components){if(!t.type.startsWith("tuple"))throw new eN(`Invalid value given "${t.type}". Error: components found but type is not tuple.`);let n=t.type.indexOf("["),i=n>=0?t.type.substring(n):"",s=cR(e,t.components);Array.isArray(s)&&e?r.push(`tuple(${s.join(",")})${i}`):e?r.push(`(${s.join()})`):r.push(`(${s.join(",")})${i}`)}else r.push(t.type)}),r},cN=e=>{var t,r,n,i;return cI(e)||cS(e)||cO(e)?(null===(t=e.name)||void 0===t?void 0:t.includes("("))?e.name:`${null!==(r=e.name)&&void 0!==r?r:""}(${cR(!1,null!==(n=e.inputs)&&void 0!==n?n:[]).join(",")})`:`(${cR(!1,null!==(i=e.inputs)&&void 0!==i?i:[]).join(",")})`},cF=e=>{if("string"!=typeof e&&!cI(e))throw new eN("Invalid parameter value in encodeErrorSignature");return af(e&&("function"==typeof e||"object"==typeof e)?cN(e):e)},cL=e=>{if("string"!=typeof e&&!cS(e))throw new eN("Invalid parameter value in encodeEventSignature");return af(e&&("function"==typeof e||"object"==typeof e)?cN(e):e)};function cM(e,t){let r=e.exec(t);return r?.groups}var cD=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cU=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,cj=/^\(.+?\).*?$/,cH=Object.defineProperty,cG=(e,t,r)=>t in e?cH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c$=(e,t,r)=>(cG(e,"symbol"!=typeof t?t+"":t,r),r),cq=class extends Error{constructor(e,t={}){let r=t.cause instanceof cq?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof cq&&t.cause.docsPath||t.docsPath;super([e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://abitype.dev${n}`]:[],...r?[`Details: ${r}`]:[],"Version: abitype@0.7.1"].join("\n")),c$(this,"details"),c$(this,"docsPath"),c$(this,"metaMessages"),c$(this,"shortMessage"),c$(this,"name","AbiTypeError"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}},cz=/^struct (?<name>[a-zA-Z0-9_]+) \{(?<properties>.*?)\}$/,cV=new Set(["memory","indexed","storage","calldata"]),cQ=new Set(["calldata","memory","storage"]),cZ=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]),cJ=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,cK=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z0-9_]+))?$/,cW=/^u?int$/;function cY(e,t){var r,n,i;let s;let a=(r=t?.type)?`${r}:${e}`:e;if(cZ.has(a))return cZ.get(a);let o=cj.test(e),l=cM(o?cK:cJ,e);if(!l)throw new cq("Invalid ABI parameter.",{details:e});if(l.name&&("address"===(n=l.name)||"bool"===n||"function"===n||"string"===n||"tuple"===n||cD.test(n)||cU.test(n)||c0.test(n)))throw new cq("Invalid ABI parameter.",{details:e,metaMessages:[`"${l.name}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]});let u=l.name?{name:l.name}:{},c="indexed"===l.modifier?{indexed:!0}:{},d=t?.structs??{},h={};if(o){s="tuple";let e=function e(t,r=[],n="",i=0){if(""===t){if(""===n)return r;if(0!==i)throw new cq("Unbalanced parentheses.",{metaMessages:[`"${n.trim()}" has too many ${i>0?"opening":"closing"} parentheses.`],details:`Depth "${i}"`});return[...r,n.trim()]}let s=t.length;for(let a=0;a<s;a++){let s=t[a],o=t.slice(a+1);switch(s){case",":return 0===i?e(o,[...r,n.trim()]):e(o,r,`${n}${s}`,i);case"(":return e(o,r,`${n}${s}`,i+1);case")":return e(o,r,`${n}${s}`,i-1);default:return e(o,r,`${n}${s}`,i)}}return[]}(l.type),t=[],r=e.length;for(let n=0;n<r;n++)t.push(cY(e[n],{structs:d}));h={components:t}}else if(l.type in d)s="tuple",h={components:d[l.type]};else if(cW.test(l.type))s=`${l.type}256`;else if(s=l.type,t?.type!=="struct"&&!cX(s))throw new cq("Unknown type.",{metaMessages:[`Type "${s}" is not a valid ABI type.`]});if(l.modifier){if(!t?.modifiers?.has?.(l.modifier))throw new cq("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${l.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`]});if(cQ.has(l.modifier)&&(i=s,!l.array&&"bytes"!==i&&"string"!==i&&"tuple"!==i))throw new cq("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${l.modifier}" not allowed${t?.type?` in "${t.type}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${l.modifier}" was given.`]})}let f={type:`${s}${l.array??""}`,...u,...c,...h};return cZ.set(a,f),f}function cX(e){return"address"===e||"bool"===e||"function"===e||"string"===e||cD.test(e)||cU.test(e)}var c0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/,c1=/^(?<type>[a-zA-Z0-9_]+?)(?<array>(?:\[\d*?\])+?)?$/;function c2(e=0){var t;if((null===(t=globalThis.Buffer)||void 0===t?void 0:t.alloc)!==void 0){let t=globalThis.Buffer.alloc(e);return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}return new Uint8Array(e)}function c3(e){return e.map(e=>{var t;if(!s4(e)&&"object"==typeof e&&!s4(e.type)&&"string"==typeof e.type)return e;if("string"==typeof e)return function e(t){var r,n;return Object.assign(Object.assign({},t),{name:null!==(r=t.name)&&void 0!==r?r:"",components:null===(n=t.components)||void 0===n?void 0:n.map(t=>e(t))})}(function(e){let t;if("string"==typeof e)t=cY(e,{modifiers:cV});else{let r=function(e){let t={},r=e.length;for(let n=0;n<r;n++){let r=e[n];if(!cz.test(r))continue;let i=cM(cz,r);if(!i)throw new cq("Invalid struct signature.",{details:r});let s=i.properties.split(";"),a=[],o=s.length;for(let e=0;e<o;e++){let t=s[e].trim();if(!t)continue;let r=cY(t,{type:"struct"});a.push(r)}if(!a.length)throw new cq("Invalid struct signature.",{details:r,metaMessages:["No properties exist."]});t[i.name]=a}let n={},i=Object.entries(t),s=i.length;for(let e=0;e<s;e++){let[r,s]=i[e];n[r]=function e(t,r,n=new Set){let i=[],s=t.length;for(let a=0;a<s;a++){let s=t[a];if(cj.test(s.type))i.push(s);else{let t=cM(c1,s.type);if(!t?.type)throw new cq("Invalid ABI parameter.",{details:JSON.stringify(s,null,2),metaMessages:["ABI parameter type is invalid."]});let{array:a,type:o}=t;if(o in r){if(n.has(o))throw new cq("Circular reference detected.",{metaMessages:[`Struct "${o}" is a circular reference.`]});i.push({...s,type:`tuple${a??""}`,components:e(r[o]??[],r,new Set([...n,o]))})}else if(cX(o))i.push(s);else throw new cq("Unknown type.",{metaMessages:[`Type "${o}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]})}}return i}(s,t)}return n}(e),n=e.length;for(let i=0;i<n;i++){let n=e[i];if(!cz.test(n)){t=cY(n,{modifiers:cV,structs:r});break}}}if(!t)throw new cq("Failed to parse ABI parameter.",{details:`parseAbiParameter(${JSON.stringify(e,null,2)})`,docsPath:"/api/human.html#parseabiparameter-1"});return t}(e.replace(/tuple/,"")));if(cT(e)){let r=Object.keys(e)[0],n=c_(r);return n.name=null!==(t=n.name)&&void 0!==t?t:"",Object.assign(Object.assign({},n),{components:cB(e[r])})}throw new eN("Invalid abi")})}function c4(e){let t=e.type.lastIndexOf("["),r=e.type.substring(0,t),n=e.type.substring(t),i=-1;if("[]"!==n&&isNaN(i=Number(n.slice(1,-1))))throw new eN("Invalid fixed array size",{size:n});return{param:{type:r,name:"",components:e.components},size:i}}function c8(e){var t,r;return!!("string"===e.type||"bytes"===e.type||e.type.endsWith("[]"))||("tuple"===e.type?null!==(r=null===(t=e.components)||void 0===t?void 0:t.some(c8))&&void 0!==r&&r:!!e.type.endsWith("]")&&c8(c4(e).param))}let c6=new Map,c5=BigInt(256);for(let e=8;e<=256;e+=8)c6.set(`uint${e}`,{min:BigInt(0),max:c5-BigInt(1)}),c6.set(`int${e}`,{min:-c5/BigInt(2),max:c5/BigInt(2)-BigInt(1)}),c5*=BigInt(256);c6.set("int",c6.get("int256")),c6.set("uint",c6.get("uint256"));let c9=BigInt(1)<<BigInt(256);function c7(e,t){let r;try{r=sD(t)}catch(r){throw new eN("provided input is not number value",{type:e.type,value:t,name:e.name})}let n=c6.get(e.type);if(!n)throw new eN("provided abi contains invalid number datatype",{type:e.type});if(r<n.min)throw new eN("provided input is less then minimum for given type",{type:e.type,value:t,name:e.name,minimum:n.min.toString()});if(r>n.max)throw new eN("provided input is greater then maximum for given type",{type:e.type,value:t,name:e.name,maximum:n.max.toString()});return{dynamic:!1,encoded:function(e,t=32){return iK(s5(e<0?(c9+e).toString(16):e.toString(16),2*t))}(r)}}function de(e,t){if(t.length<32)throw new eN("Not enough bytes left to decode",{param:e,bytesLeft:t.length});let r=t.subarray(0,32),n=c6.get(e.type);if(!n)throw new eN("provided abi contains invalid number datatype",{type:e.type});let i=function(e,t){let r=BigInt(iQ(e));return r<=t?r:r-c9}(r,n.max);if(i<n.min)throw new eN("decoded value is less then minimum for given type",{type:e.type,value:i,name:e.name,minimum:n.min.toString()});if(i>n.max)throw new eN("decoded value is greater then maximum for given type",{type:e.type,value:i,name:e.name,maximum:n.max.toString()});return{result:i,encoded:t.subarray(32),consumed:32}}function dt(e,t){if("string"==typeof t&&t.length%2!=0&&(t+="0"),!iX(t))throw new eN("provided input is not valid bytes value",{type:e.type,value:t,name:e.name});let r=sm(t),[,n]=e.type.split("bytes");if(n){if(Number(n)>32||1>Number(n))throw new eN("invalid bytes type. Static byte type can have between 1 and 32 bytes",{type:e.type});if(Number(n)<r.length)throw new eN("provided input size is different than type size",{type:e.type,value:t,name:e.name});let i=c2(32);return i.set(r),{dynamic:!1,encoded:i}}let i=c2(32+32*Math.ceil(r.length/32));return i.set(c7({type:"uint32",name:""},r.length).encoded),i.set(r,32),{dynamic:!0,encoded:i}}function dr(e,t){let[,r]=e.type.split("bytes"),n=Number(r),i=t,s=1,a=0;if(!n){let e=de({type:"uint32",name:""},i);n=Number(e.result),a+=e.consumed,i=e.encoded,s=Math.ceil(n/32)}if(n>t.length)throw new eN("there is not enough data to decode",{type:e.type,encoded:t,size:n});return{result:sv(i.subarray(0,n)),encoded:i.subarray(32*s),consumed:a+32*s}}function dn(e){let t=0,r=0,n=[],i=[];for(let r of e)r.dynamic?t+=32:t+=r.encoded.length;for(let s of e)s.dynamic?(n.push(c7({type:"uint256",name:""},t+r)),i.push(s),r+=s.encoded.length):n.push(s);return sh(...n.map(e=>e.encoded),...i.map(e=>e.encoded))}function di(e,t){if("string"===e.type)return function(e,t){if("string"!=typeof t)throw new eN("invalid input, should be string",{input:t});return dt({type:"bytes",name:""},sT(t))}(0,t);if("bool"===e.type)return function(e,t){let r;try{r=sG(t)}catch(r){if(r instanceof tE)throw new eN("provided input is not valid boolean value",{type:e.type,value:t,name:e.name})}return c7({type:"uint8",name:""},Number(r))}(e,t);if("address"===e.type)return function(e,t){if("string"!=typeof t)throw new eN("address type expects string as input type",{value:t,name:e.name,type:e.type});let r=t.toLowerCase();if(r.startsWith("0x")||(r=`0x${r}`),!i1(r))throw new eN("provided input is not valid address",{value:t,name:e.name,type:e.type});let n=iK(r),i=c2(32);return i.set(n,12),{dynamic:!1,encoded:i}}(e,t);if("tuple"===e.type)return da(e,t);if(e.type.endsWith("]"))return function(e,t){if(!Array.isArray(t))throw new eN("Expected value to be array",{abi:e,values:t});let{size:r,param:n}=c4(e),i=t.map(e=>di(n,e)),s=-1===r,a=i.length>0&&i[0].dynamic;if(!s&&t.length!==r)throw new eN("Given arguments count doesn't match array length",{arrayLength:r,argumentsLength:t.length});if(s||a){let e=dn(i);if(s){let t=c7({type:"uint256",name:""},i.length).encoded;return{dynamic:!0,encoded:i.length>0?sh(t,e):t}}return{dynamic:!0,encoded:e}}return{dynamic:!1,encoded:sh(...i.map(e=>e.encoded))}}(e,t);if(e.type.startsWith("bytes"))return dt(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return c7(e,t);throw new eN("Unsupported",{param:e,value:t})}function ds(e,t){if("string"===e.type)return function(e,t){let r=dr({type:"bytes",name:""},t);return{result:sO(r.result),encoded:r.encoded,consumed:r.consumed}}(0,t);if("bool"===e.type)return function(e,t){let r=de({type:"uint8",name:""},t);if(r.result>1||r.result<0)throw new eN("Invalid boolean value encoded",{boolBytes:t.subarray(0,32),numberResult:r});return{result:r.result===BigInt(1),encoded:r.encoded,consumed:32}}(0,t);if("address"===e.type)return function(e,t){let r=t.subarray(12,32);if(20!==r.length)throw new eN("Invalid decoding input, not enough bytes to decode address",{bytes:t});return{result:sH(iQ(r)),encoded:t.subarray(32),consumed:32}}(0,t);if("tuple"===e.type)return dl(e,t);if(e.type.endsWith("]"))return function(e,t){let{size:r,param:n}=c4(e),i=0,s=[],a=t;if(-1===r){let e=de({type:"uint32",name:""},t);r=Number(e.result),i=e.consumed,a=e.encoded}if(c8(n)){for(let e=0;e<r;e+=1){let t=de({type:"uint32",name:""},a.subarray(32*e));i+=t.consumed;let r=ds(n,a.subarray(Number(t.result)));i+=r.consumed,s.push(r.result)}return{result:s,encoded:a.subarray(i),consumed:i}}for(let e=0;e<r;e+=1){let e=ds(n,t.subarray(i));i+=e.consumed,s.push(e.result)}return{result:s,encoded:t.subarray(i),consumed:i}}(e,t);if(e.type.startsWith("bytes"))return dr(e,t);if(e.type.startsWith("uint")||e.type.startsWith("int"))return de(e,t);throw new eN("Unsupported",{param:e,bytes:t})}function da(e,t){var r,n,i;let s=!1;if(!Array.isArray(t)&&"object"!=typeof t)throw new eN("param must be either Array or Object",{param:e,input:t});let a=[];for(let o=0;o<(null!==(n=null===(r=e.components)||void 0===r?void 0:r.length)&&void 0!==n?n:0);o+=1){let r;let n=e.components[o];if(Array.isArray(t)){if(o>=t.length)throw new eN("input param length missmatch",{param:e,input:t});r=di(n,t[o])}else{let s=t[null!==(i=n.name)&&void 0!==i?i:""];if(null==s)throw new eN("missing input defined in abi",{param:e,input:t,paramName:n.name});r=di(n,s)}r.dynamic&&(s=!0),a.push(r)}return s?{dynamic:!0,encoded:dn(a)}:{dynamic:!1,encoded:sh(...a.map(e=>e.encoded))}}function dl(e,t){let r={__length__:0},n=0;if(!e.components)return{result:r,encoded:t,consumed:n};let i=0;for(let[s,a]of e.components.entries()){let e;if(c8(a)){let r=de({type:"uint32",name:""},t.subarray(n));e=ds(a,t.subarray(Number(r.result))),n+=r.consumed,i+=e.consumed}else e=ds(a,t.subarray(n)),n+=e.consumed;r.__length__+=1,r[s]=e.result,a.name&&""!==a.name&&(r[a.name]=e.result)}return{encoded:t.subarray(n+i),result:r,consumed:n+i}}function du(e,t){if((null==e?void 0:e.length)!==t.length)throw new eN("Invalid number of values received for given ABI",{expected:null==e?void 0:e.length,received:t.length});return iQ(da({type:"tuple",name:"",components:c3(e)},t).encoded)}let dc=(e,t)=>du([e],[t]),dd=(e,t,r)=>{try{if(e.length>0&&(!t||"0x"===t||"0X"===t))throw new eN("Returned values aren't valid, did it run Out of Gas? You might also see this error if you are not using the correct ABI for the contract you are retrieving data from, requesting data from a block number that does not exist, or querying a node which is not fully synced.");return function(e,t,r){let n=c3(e);return dl({type:"tuple",name:"",components:n},iK(t)).result}(e,`0x${t.replace(/0x/i,"")}`,0)}catch(e){throw new eN(`Parameter decoding error: ${e.message}`,{internalErr:e})}},dh=(e,t)=>dd(e,t,!1),df=(e,t)=>dh([e],t)["0"],dp=e=>{if("string"!=typeof e&&!cO(e))throw new eN("Invalid parameter value in encodeFunctionSignature");return af(e&&("function"==typeof e||"object"==typeof e)?cN(e):e).slice(0,10)},dg=["bool","string","int","uint","address","fixed","ufixed"],dm=(e,t)=>"string"===e?t:df(e,t),dy=(e,t,r)=>{let n=Array.isArray(r)?r:[r],i={},s={};for(let[t,r]of e.entries())r.indexed?i[t]=r:s[t]=r;let a=t?dd(Object.values(s),t,!0):{__length__:0},o=n.length-Object.keys(i).length,l=Object.values(i).map((e,t)=>dg.some(t=>e.type.startsWith(t))?dm(e.type,n[t+o]):n[t+o]),u={__length__:0},c=0,d=0;for(let[t,r]of e.entries())u[t]="string"===r.type?"":void 0,i[t]&&(u[t]=l[c],c+=1),s[t]&&(u[t]=a[String(d)],d+=1),r.name&&(u[r.name]=u[t]),u.__length__+=1;return u},dv=(e,t)=>{if(null==t?void 0:t.data){let r,n,i;try{let s=t.data.slice(0,10),a=e.find(e=>cF(e).startsWith(s));(null==a?void 0:a.inputs)?(r=a.name,n=cN(a),i=dh([...a.inputs],t.data.substring(10))):t.data.startsWith("0x08c379a0")?(r="Error",n="Error(string)",i=dh([{name:"message",type:"string"}],t.data.substring(10))):t.data.startsWith("0x4e487b71")?(r="Panic",n="Panic(uint256)",i=dh([{name:"code",type:"uint256"}],t.data.substring(10))):console.error("No matching error abi found for error data",t.data)}catch(e){console.error(e)}r&&t.setDecodedProperties(r,n,i)}},db=/^\w+/,dw=/^(.*)\[([0-9]*?)]$/,dA=(e,t,r=[])=>{let n=t.match(db)[0];return r.includes(n)||!e.types[n]?r:[n,...e.types[n].reduce((t,r)=>[...t,...dA(e,r.type,t).filter(e=>!t.includes(e))],[])]},dx=(e,t)=>{let[r,...n]=dA(e,t);return[r,...n.sort()].map(t=>`${t}(${e.types[t].map(e=>`${e.type} ${e.name}`)})`).join("")},dE=(e,t)=>keccak256(dx(e,t)),dk=(e,t,r)=>keccak256(dI(e,t,r)),dP=(e,t,r)=>{let n=t.match(dw);if(n){let t=n[1],i=Number(n[2])||void 0;if(!Array.isArray(r))throw new AbiError("Cannot encode data: value is not of array type",{data:r});if(i&&r.length!==i)throw new AbiError(`Cannot encode data: expected length of ${i}, but got ${r.length}`,{data:r});let s=r.map(r=>dP(e,t,r));return["bytes32",keccak256(encodeParameters(s.map(e=>e[0]),s.map(e=>e[1])))]}return e.types[t]?["bytes32",dk(e,t,r)]:"string"===t||"bytes"===t?["bytes32",keccak256(r)]:[t,r]},dI=(e,t,r)=>{let[n,i]=e.types[t].reduce(([t,n],i)=>{if(isNullish(r[i.name])||isNullish(i.type))throw new AbiError(`Cannot encode data: missing data for '${i.name}'`,{data:r,field:i});let s=r[i.name],[a,o]=dP(e,i.type,s);return[[...t,a],[...n,o]]},[["bytes32"],[dE(e,t)]]);return encodeParameters(n,i)},dS=(e,t)=>{var r,n,i,s,a;if(e instanceof eP&&e.cause instanceof ek)return void 0!==t?(dv(t.filter(e=>cI(e)),e.cause),{reason:e.cause.message,signature:null===(r=e.cause.data)||void 0===r?void 0:r.slice(0,10),data:null===(n=e.cause.data)||void 0===n?void 0:n.substring(10),customErrorName:e.cause.errorName,customErrorDecodedSignature:e.cause.errorSignature,customErrorArguments:e.cause.errorArgs}):{reason:e.cause.message,signature:null===(i=e.cause.data)||void 0===i?void 0:i.slice(0,10),data:null===(s=e.cause.data)||void 0===s?void 0:s.substring(10)};if(e instanceof t_&&!Array.isArray(null===(a=e.cause)||void 0===a?void 0:a.errors)&&void 0!==e.cause)return e.cause.message;throw e};function dO(e,t,r,n=e.defaultReturnFormat){var i,s,a,o;return i=this,s=void 0,a=void 0,o=function*(){try{yield dG(e,t,e.defaultBlock,n);return}catch(e){return dS(e,r)}},new(a||(a=Promise))(function(e,t){function r(e){try{l(o.next(e))}catch(e){t(e)}}function n(e){try{l(o.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):((i=t.value)instanceof a?i:new a(function(e){e(i)})).then(r,n)}l((o=o.apply(i,s||[])).next())})}function dC(e,t,r,n,i,s){var a,o,l,u;return a=this,o=void 0,l=void 0,u=function*(){let a,o=s;if(void 0===o&&(void 0!==n?o=dS(n):e.handleRevert&&void 0!==t&&(o=yield dO(e,t,i))),void 0===o)a=new eq(r);else if("string"==typeof o)a=new eG(o,void 0,r);else if(void 0!==o.customErrorName&&void 0!==o.customErrorDecodedSignature&&void 0!==o.customErrorArguments){let e=o;a=new e$(e.reason,e.customErrorName,e.customErrorDecodedSignature,e.customErrorArguments,e.signature,r,e.data)}else a=new eG(o.reason,o.signature,r,o.data);return a},new(l||(l=Promise))(function(e,t){function r(e){try{i(u.next(e))}catch(e){t(e)}}function n(e){try{i(u.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof l?i:new l(function(e){e(i)})).then(r,n)}i((u=u.apply(a,o||[])).next())})}let dT=(e,t,r,n=Y)=>{var i,s,a,o,l;let u=Object.assign({},e),c=au(u8,t,n);if([co,"allEvents"].includes(u.name)&&(u=r.find(e=>e.signature===t.topics[0])||{anonymous:!0}),u.inputs=null!==(s=null!==(i=u.inputs)&&void 0!==i?i:e.inputs)&&void 0!==s?s:[],!u.anonymous){let e=0;(null!==(a=u.inputs)&&void 0!==a?a:[]).forEach(t=>{t.indexed&&(e+=1)}),e>0&&(null==t?void 0:t.topics)&&(null==t?void 0:t.topics.length)!==e+1&&(u=Object.assign(Object.assign({},u),{anonymous:!0,inputs:[]}))}let d=u.anonymous?t.topics:(null!==(o=t.topics)&&void 0!==o?o:[]).slice(1);return Object.assign(Object.assign({},c),{returnValues:dy([...null!==(l=u.inputs)&&void 0!==l?l:[]],t.data,d),event:u.name,signature:!u.anonymous&&t.topics&&0!==t.topics.length&&t.topics[0]?t.topics[0]:void 0,raw:{data:t.data,topics:t.topics}})};var d_=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class dB{constructor({options:e,web3Context:t,promiEvent:r,returnFormat:n}){this.options={checkRevertBeforeSending:!0},this.options=e,this.web3Context=t,this.promiEvent=r,this.returnFormat=n}getReceiptWithEvents(e){var t,r;let n=Object.assign({},null!=e?e:{});if((null===(t=this.options)||void 0===t?void 0:t.contractAbi)&&n.logs&&n.logs.length>0)for(let e of(n.events={},n.logs)){let t=dT(cl,e,null===(r=this.options)||void 0===r?void 0:r.contractAbi,this.returnFormat);t.event&&(n.events[t.event]=t)}return n}checkRevertBeforeSending(e){return d_(this,void 0,void 0,function*(){if(!1!==this.options.checkRevertBeforeSending){let t=e;sr(e.data)&&sr(e.input)&&sr(e.gas)&&(t=Object.assign(Object.assign({},e),{gas:21e3}));let r=yield dO(this.web3Context,t,this.options.contractAbi);if(void 0!==r)throw yield dC(this.web3Context,e,void 0,void 0,this.options.contractAbi,r)}})}emitSending(e){this.promiEvent.listenerCount("sending")>0&&this.promiEvent.emit("sending",e)}populateGasPrice({transactionFormatted:e,transaction:t}){var r;return d_(this,void 0,void 0,function*(){let n=e;return!this.web3Context.config.ignoreGasPricing&&!(null===(r=this.options)||void 0===r?void 0:r.ignoreGasPricing)&&sr(e.gasPrice)&&(sr(t.maxPriorityFeePerGas)||sr(t.maxFeePerGas))&&(n=Object.assign(Object.assign({},e),(yield cd(e,this.web3Context,X)))),n})}signAndSend({wallet:e,tx:t}){return d_(this,void 0,void 0,function*(){if(e){let r=yield e.signTransaction(t);return cw(this.web3Context,()=>d_(this,void 0,void 0,function*(){return uT(this.web3Context.requestManager,r.rawTransaction)}),r.transactionHash)}return cw(this.web3Context,()=>d_(this,void 0,void 0,function*(){return function(e,t){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_sendTransaction",params:[t]})})}(this.web3Context.requestManager,t)}))})}emitSent(e){this.promiEvent.listenerCount("sent")>0&&this.promiEvent.emit("sent",e)}emitTransactionHash(e){this.promiEvent.listenerCount("transactionHash")>0&&this.promiEvent.emit("transactionHash",e)}emitReceipt(e){this.promiEvent.listenerCount("receipt")>0&&this.promiEvent.emit("receipt",e)}handleError({error:e,tx:t}){var r;return d_(this,void 0,void 0,function*(){let n=e;return n instanceof eP&&this.web3Context.handleRevert&&(n=yield dC(this.web3Context,t,void 0,void 0,null===(r=this.options)||void 0===r?void 0:r.contractAbi)),(n instanceof t_||n instanceof eP||n instanceof e$||n instanceof eq||n instanceof eG||n instanceof tl)&&this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",n),n})}emitConfirmation({receipt:e,transactionHash:t,customTransactionReceiptSchema:r}){this.promiEvent.listenerCount("confirmation")>0&&function(e,t,r,n,i,s){if(sr(r)||sr(r.blockHash))throw new tc({receipt:r,blockHash:au({format:"bytes32"},null==r?void 0:r.blockHash,i),transactionHash:au({format:"bytes32"},n,i)});if(!r.blockNumber)throw new td({receipt:r});t.emit("confirmation",{confirmations:au({format:"uint"},1,i),receipt:au(null!=s?s:u5,r,i),latestBlockHash:au({format:"bytes32"},r.blockHash,i)});let a=e.requestManager.provider;a&&"supportsSubscriptions"in a&&a.supportsSubscriptions()?cP({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:i}):cE({web3Context:e,transactionReceipt:r,transactionPromiEvent:t,customTransactionReceiptSchema:s,returnFormat:i})}(this.web3Context,this.promiEvent,e,t,this.returnFormat,r)}handleResolve({receipt:e,tx:t}){var r,n,i;return d_(this,void 0,void 0,function*(){if(null===(r=this.options)||void 0===r?void 0:r.transactionResolver)return null===(n=this.options)||void 0===n?void 0:n.transactionResolver(e);if(e.status!==BigInt(0))return e;{let r=yield dC(this.web3Context,t,e,void 0,null===(i=this.options)||void 0===i?void 0:i.contractAbi);throw this.promiEvent.listenerCount("error")>0&&this.promiEvent.emit("error",r),r}})}}var dR=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})},dN=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};let dF=e=>dR(void 0,void 0,void 0,function*(){return uC(e.requestManager)});function dL(e,t){return dR(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_gasPrice",params:[]})})}(e.requestManager)),null!=t?t:e.defaultReturnFormat)})}function dM(e,t){return dR(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_blockNumber",params:[]})})}(e.requestManager)),null!=t?t:e.defaultReturnFormat)})}function dD(e,t=e.defaultBlock,r=!1,n){var i;return dR(this,void 0,void 0,function*(){let s;if(iX(t)){let n=au({format:"bytes32"},t,X);s=yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32","bool"],[t,r]),e.send({method:"eth_getBlockByHash",params:[t,r]})})}(e.requestManager,n,r)}else{let n=i5(t)?t:au({format:"uint"},t,X);s=yield u_(e.requestManager,n,r)}let a=au(u3,s,null!=n?n:e.defaultReturnFormat);return sr(a)?a:Object.assign(Object.assign({},a),{transactions:null!==(i=a.transactions)&&void 0!==i?i:[]})})}function dU(e,t,r){return dR(this,void 0,void 0,function*(){let n;let i=au({format:"bytes32"},t,Y);try{n=yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionReceipt",params:[t]})})}(e.requestManager,i)}catch(e){if("object"==typeof e&&!sr(e)&&"message"in e&&"transaction indexing is in progress"===e.message)console.warn("Transaction indexing is in progress.");else throw e}return sr(n)?n:au(u5,n,null!=r?r:e.defaultReturnFormat)})}function dj(e,t,r=e.defaultBlock,n){return dR(this,void 0,void 0,function*(){let i=i5(r)?r:au({format:"uint"},r,X);return au({format:"uint"},(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getTransactionCount",params:[t,r]})})}(e.requestManager,t,i)),null!=n?n:e.defaultReturnFormat)})}function dH(e,t,r,n={checkRevertBeforeSending:!0},i){let s=new uS((a,o)=>{setImmediate(()=>{dR(this,void 0,void 0,function*(){let l=new dB({web3Context:e,promiEvent:s,options:n,returnFormat:r}),u=Object.assign({},t);sr(i)||(u=yield i.processTransaction(u));let c=ct(Object.assign(Object.assign({},u),{from:cf("from",e,u),to:cf("to",e,u)}),X,{transactionSchema:e.config.customTransactionSchema});try{let t;c=yield l.populateGasPrice({transaction:u,transactionFormatted:c}),yield l.checkRevertBeforeSending(c),l.emitSending(c),e.wallet&&!sr(c.from)&&(t=e.wallet.get(c.from));let n=yield l.signAndSend({wallet:t,tx:c}),i=au({format:"bytes32"},n,null!=r?r:e.defaultReturnFormat);l.emitSent(c),l.emitTransactionHash(i);let s=yield cx(e,n,null!=r?r:e.defaultReturnFormat),o=l.getReceiptWithEvents(au(u5,s,null!=r?r:e.defaultReturnFormat));l.emitReceipt(o),a((yield l.handleResolve({receipt:o,tx:c}))),l.emitConfirmation({receipt:o,transactionHash:n})}catch(e){o((yield l.handleError({error:e,tx:c})))}})})});return s}function dG(e,t,r=e.defaultBlock,n=e.defaultReturnFormat){return dR(this,void 0,void 0,function*(){let i=i5(r)?r:au({format:"uint"},r,X);return au({format:"bytes"},(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_call",params:[t,r]})})}(e.requestManager,ct(t,X,{transactionSchema:e.config.customTransactionSchema}),i)),n)})}function d$(e,t,r=e.defaultBlock,n){return dR(this,void 0,void 0,function*(){let i=ct(t,X,{transactionSchema:e.config.customTransactionSchema}),s=i5(r)?r:au({format:"uint"},r,X);return au({format:"uint"},(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_estimateGas",params:[t,r]})})}(e.requestManager,i,s)),null!=n?n:e.defaultReturnFormat)})}function dq(e,t,r){return dR(this,void 0,void 0,function*(){let{toBlock:n,fromBlock:i}=t;sr(n)||"number"!=typeof n&&"bigint"!=typeof n||(n=sx(n)),sr(i)||"number"!=typeof i&&"bigint"!=typeof i||(i=sx(i));let s=Object.assign(Object.assign({},t),{fromBlock:i,toBlock:n});return(yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["filter"],[t]),e.send({method:"eth_getLogs",params:[t]})})}(e.requestManager,s)).map(t=>"string"==typeof t?t:au(u8,t,null!=r?r:e.defaultReturnFormat))})}function dz(e,t){return dR(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_chainId",params:[]})})}(e.requestManager)),null!=t?t:e.defaultReturnFormat)})}function dV(e,t,r=e.defaultBlock,n){return dR(this,void 0,void 0,function*(){let i=i5(r)?r:au({format:"uint"},r,X);return au(uW,(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag"],[r]),e.send({method:"eth_createAccessList",params:[t,r]})})}(e.requestManager,ct(t,X,{transactionSchema:e.config.customTransactionSchema}),i)),null!=n?n:e.defaultReturnFormat)})}class dQ extends oc{_buildSubscriptionParams(){return["logs",this.args]}formatSubscriptionResult(e){return au(u8,e,super.returnFormat)}}class dZ extends oc{_buildSubscriptionParams(){return["newPendingTransactions"]}formatSubscriptionResult(e){return au({format:"string"},e,super.returnFormat)}}class dJ extends oc{_buildSubscriptionParams(){return["newHeads"]}formatSubscriptionResult(e){return au(u4,e,super.returnFormat)}}class dK extends oc{_buildSubscriptionParams(){return["syncing"]}_processSubscriptionResult(e){if("boolean"==typeof e)this.emit("changed",e);else{let t=Object.fromEntries(Object.entries((null==e?void 0:e.status)||e).map(([e,t])=>[e.charAt(0).toLowerCase()+e.substring(1),t]));this.emit("changed",e.syncing),this.emit("data",au(u6,t,super.returnFormat))}}}var dW=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let dY={logs:dQ,newPendingTransactions:dZ,newHeads:dJ,syncing:dK,pendingTransactions:dZ,newBlockHeaders:dJ};class dX extends uk{constructor(e){if("string"==typeof e||or(e)){super({provider:e,registeredSubscriptions:dY});return}if(e.registeredSubscriptions){super(e);return}super(Object.assign(Object.assign({},e),{registeredSubscriptions:dY})),this.getFeeData=this.calculateFeeData}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}getProtocolVersion(){return dW(this,void 0,void 0,function*(){return function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_protocolVersion",params:[]})})}(this.requestManager)})}isSyncing(){return dW(this,void 0,void 0,function*(){return uC(this.requestManager)})}getCoinbase(){return dW(this,void 0,void 0,function*(){return function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_coinbase",params:[]})})}(this.requestManager)})}isMining(){return dW(this,void 0,void 0,function*(){return function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_mining",params:[]})})}(this.requestManager)})}getHashrate(e){var t;return void 0===e&&(e=null!==(t=this.defaultReturnFormat)&&void 0!==t?t:Y),dW(this,void 0,void 0,function*(){return this.getHashRate(e)})}getHashRate(e=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t){return dR(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_hashrate",params:[]})})}(e.requestManager)),null!=t?t:e.defaultReturnFormat)})}(this,e)})}getGasPrice(e=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dL(this,e)})}getMaxPriorityFeePerGas(e=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t){return dR(this,void 0,void 0,function*(){return au({format:"uint"},(yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_maxPriorityFeePerGas",params:[]})})}(e.requestManager)),null!=t?t:e.defaultReturnFormat)})}(this,e)})}calculateFeeData(e=BigInt(2),t=sp.Gwei){var r;return dW(this,void 0,void 0,function*(){let n,i,s;let a=yield this.getBlock(void 0,!1),o=null!==(r=null==a?void 0:a.baseFeePerGas)&&void 0!==r?r:void 0;try{n=yield this.getGasPrice()}catch(e){}try{i=yield this.getMaxPriorityFeePerGas()}catch(e){}return o&&(s=o*e+(i=null!=i?i:t)),{gasPrice:n,maxFeePerGas:s,maxPriorityFeePerGas:i,baseFeePerGas:o}})}getAccounts(){var e;return dW(this,void 0,void 0,function*(){return(null!==(e=yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_accounts",params:[]})})}(this.requestManager))&&void 0!==e?e:[]).map(e=>sH(e))})}getBlockNumber(e=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dM(this,e)})}getBalance(e,t=this.defaultBlock,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r=e.defaultBlock,n){return dR(this,void 0,void 0,function*(){let i=i5(r)?r:au({format:"uint"},r,X);return au({format:"uint"},(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getBalance",params:[t,r]})})}(e.requestManager,t,i)),null!=n?n:e.defaultReturnFormat)})}(this,e,t,r)})}getStorageAt(e,t,r=this.defaultBlock,n=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r,n=e.defaultBlock,i){return dR(this,void 0,void 0,function*(){let s=au({format:"uint"},r,X),a=i5(n)?n:au({format:"uint"},n,X);return au({format:"bytes"},(yield function(e,t,r,n){return uO(this,void 0,void 0,function*(){return sc.validate(["address","hex","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getStorageAt",params:[t,r,n]})})}(e.requestManager,t,s,a)),null!=i?i:e.defaultReturnFormat)})}(this,e,t,r,n)})}getCode(e,t=this.defaultBlock,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r=e.defaultBlock,n){return dR(this,void 0,void 0,function*(){let i=i5(r)?r:au({format:"uint"},r,X);return au({format:"bytes"},(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["address","blockNumberOrTag"],[t,r]),e.send({method:"eth_getCode",params:[t,r]})})}(e.requestManager,t,i)),null!=n?n:e.defaultReturnFormat)})}(this,e,t,r)})}getBlock(e=this.defaultBlock,t=!1,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dD(this,e,t,r)})}getBlockTransactionCount(e=this.defaultBlock,t=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t=e.defaultBlock,r){return dR(this,void 0,void 0,function*(){let n;if(iX(t)){let r=au({format:"bytes32"},t,X);n=yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32"],[t]),e.send({method:"eth_getBlockTransactionCountByHash",params:[t]})})}(e.requestManager,r)}else{let r=i5(t)?t:au({format:"uint"},t,X);n=yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getBlockTransactionCountByNumber",params:[t]})})}(e.requestManager,r)}return au({format:"uint"},n,null!=r?r:e.defaultReturnFormat)})}(this,e,t)})}getBlockUncleCount(e=this.defaultBlock,t=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t=e.defaultBlock,r){return dR(this,void 0,void 0,function*(){let n;if(iX(t)){let r=au({format:"bytes32"},t,X);n=yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32"],[t]),e.send({method:"eth_getUncleCountByBlockHash",params:[t]})})}(e.requestManager,r)}else{let r=i5(t)?t:au({format:"uint"},t,X);n=yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag"],[t]),e.send({method:"eth_getUncleCountByBlockNumber",params:[t]})})}(e.requestManager,r)}return au({format:"uint"},n,null!=r?r:e.defaultReturnFormat)})}(this,e,t)})}getUncle(e=this.defaultBlock,t,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t=e.defaultBlock,r,n){return dR(this,void 0,void 0,function*(){let i;let s=au({format:"uint"},r,X);if(iX(t)){let r=au({format:"bytes32"},t,X);i=yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getUncleByBlockHashAndIndex",params:[t,r]})})}(e.requestManager,r,s)}else{let r=i5(t)?t:au({format:"uint"},t,X);i=yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getUncleByBlockNumberAndIndex",params:[t,r]})})}(e.requestManager,r,s)}return au(u3,i,null!=n?n:e.defaultReturnFormat)})}(this,e,t,r)})}getTransaction(e,t=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){let r=yield function(e,t,r=e.defaultReturnFormat){return dR(this,void 0,void 0,function*(){let n=au({format:"bytes32"},t,Y),i=yield function(e,t){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32"],[t]),e.send({method:"eth_getTransactionByHash",params:[t]})})}(e.requestManager,n);return sr(i)?i:ct(i,r,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}(this,e,t);if(!r)throw new eV;return r})}getPendingTransactions(e=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t){return dR(this,void 0,void 0,function*(){return(yield function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_pendingTransactions",params:[]})})}(e.requestManager)).map(r=>ct(r,null!=t?t:e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0}))})}(this,e)})}getTransactionFromBlock(e=this.defaultBlock,t,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t=e.defaultBlock,r,n){return dR(this,void 0,void 0,function*(){let i;let s=au({format:"uint"},r,X);if(iX(t)){let r=au({format:"bytes32"},t,X);i=yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes32","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockHashAndIndex",params:[t,r]})})}(e.requestManager,r,s)}else{let r=i5(t)?t:au({format:"uint"},t,X);i=yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["blockNumberOrTag","hex"],[t,r]),e.send({method:"eth_getTransactionByBlockNumberAndIndex",params:[t,r]})})}(e.requestManager,r,s)}return sr(i)?i:ct(i,null!=n?n:e.defaultReturnFormat,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})})}(this,e,t,r)})}getTransactionReceipt(e,t=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){let r=yield dU(this,e,t);if(!r)throw new eV;return r})}getTransactionCount(e,t=this.defaultBlock,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dj(this,e,t,r)})}sendTransaction(e,t=this.defaultReturnFormat,r){return dH(this,e,t,r,this.transactionMiddleware)}sendSignedTransaction(e,t=this.defaultReturnFormat,r){return function(e,t,r,n={checkRevertBeforeSending:!0}){let i=new uS((s,a)=>{setImmediate(()=>{dR(this,void 0,void 0,function*(){let o=new dB({web3Context:e,promiEvent:i,options:n,returnFormat:r}),l=au({format:"bytes"},t,X),u=uo.fromSerializedData(sm(sb(l))),c=Object.assign(Object.assign({},u.toJSON()),{from:u.getSenderAddress().toString()});try{let{v:t,r:n,s:i}=c,a=dN(c,["v","r","s"]);yield o.checkRevertBeforeSending(a),o.emitSending(l);let u=yield cw(e,()=>dR(this,void 0,void 0,function*(){return uT(e.requestManager,l)}));o.emitSent(l);let d=au({format:"bytes32"},u,null!=r?r:e.defaultReturnFormat);o.emitTransactionHash(d);let h=yield cx(e,u,null!=r?r:e.defaultReturnFormat),f=o.getReceiptWithEvents(au(u5,h,null!=r?r:e.defaultReturnFormat));o.emitReceipt(f),s((yield o.handleResolve({receipt:f,tx:c}))),o.emitConfirmation({receipt:f,transactionHash:u})}catch(e){a((yield o.handleError({error:e,tx:c})))}})})});return i}(this,e,t,r)}sign(e,t,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r,n=e.defaultReturnFormat){var i;return dR(this,void 0,void 0,function*(){let s=au({format:"bytes"},t,Y);if(null===(i=e.wallet)||void 0===i?void 0:i.get(r))return au(u9,e.wallet.get(r).sign(s),n);if("number"==typeof r)throw new ej(t,'RPC method "eth_sign" does not support index signatures');return au({format:"bytes"},(yield function(e,t,r){return uO(this,void 0,void 0,function*(){return sc.validate(["address","hex"],[t,r]),e.send({method:"eth_sign",params:[t,r]})})}(e.requestManager,r,s)),n)})}(this,e,t,r)})}signTransaction(e,t=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r=e.defaultReturnFormat){return dR(this,void 0,void 0,function*(){let n=yield function(e,t){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_signTransaction",params:[t]})})}(e.requestManager,ct(t,X,{transactionSchema:e.config.customTransactionSchema}));return iT(n)?function(e,t,r={fillInputAndData:!1}){return{raw:au({format:"bytes"},e,t),tx:ct(Object.assign(Object.assign({},uo.fromSerializedData(sb(e)).toJSON()),{hash:sv(ad(sb(e))),type:uJ(sb(e))}),t,{fillInputAndData:r.fillInputAndData,transactionSchema:r.transactionSchema})}}(n,r,{fillInputAndData:!0}):{raw:au({format:"bytes"},n.raw,r),tx:ct(n.tx,r,{transactionSchema:e.config.customTransactionSchema,fillInputAndData:!0})}})}(this,e,t)})}call(e,t=this.defaultBlock,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dG(this,e,t,r)})}estimateGas(e,t=this.defaultBlock,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return d$(this,e,t,r)})}getPastLogs(e,t=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dq(this,e,t)})}getWork(){return dW(this,void 0,void 0,function*(){return function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_getWork",params:[]})})}(this.requestManager)})}submitWork(e,t,r){return dW(this,void 0,void 0,function*(){return function(e,t,r,n){return uO(this,void 0,void 0,function*(){return sc.validate(["bytes8","bytes32","bytes32"],[t,r,n]),e.send({method:"eth_submitWork",params:[t,r,n]})})}(this.requestManager,e,t,r)})}requestAccounts(){return dW(this,void 0,void 0,function*(){return function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"eth_requestAccounts",params:[]})})}(this.requestManager)})}getChainId(e=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dz(this,e)})}getNodeInfo(){return dW(this,void 0,void 0,function*(){return function(e){return uO(this,void 0,void 0,function*(){return e.send({method:"web3_clientVersion",params:[]})})}(this.requestManager)})}getProof(e,t,r=this.defaultBlock,n=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r,n=e.defaultBlock,i){return dR(this,void 0,void 0,function*(){let s=r.map(e=>au({format:"bytes"},e,X)),a=i5(n)?n:au({format:"uint"},n,X);return au(ce,(yield function(e,t,r,n){return uO(this,void 0,void 0,function*(){return sc.validate(["address","bytes32[]","blockNumberOrTag"],[t,r,n]),e.send({method:"eth_getProof",params:[t,r,n]})})}(e.requestManager,t,s,a)),null!=i?i:e.defaultReturnFormat)})}(this,e,t,r,n)})}getFeeHistory(e,t=this.defaultBlock,r,n=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return function(e,t,r=e.defaultBlock,n,i){return dR(this,void 0,void 0,function*(){let s=au({format:"uint"},t,X),a=i5(r)?r:au({format:"uint"},r,X),o=au({type:"array",items:{format:"uint"}},n,cu);return au(u7,(yield function(e,t,r,n){return uO(this,void 0,void 0,function*(){for(let e of(sc.validate(["hex","blockNumberOrTag"],[t,r]),n))sc.validate(["number"],[e]);return e.send({method:"eth_feeHistory",params:[t,r,n]})})}(e.requestManager,s,a,o)),null!=i?i:e.defaultReturnFormat)})}(this,e,t,r,n)})}createAccessList(e,t=this.defaultBlock,r=this.defaultReturnFormat){return dW(this,void 0,void 0,function*(){return dV(this,e,t,r)})}signTypedData(e,t,r,n){var i;return void 0===r&&(r=!1),void 0===n&&(n=null!==(i=this.defaultReturnFormat)&&void 0!==i?i:Y),dW(this,void 0,void 0,function*(){return function(e,t,r,n,i){return dR(this,void 0,void 0,function*(){return au({format:"bytes"},(yield function(e,t,r,n=!1){return uO(this,void 0,void 0,function*(){return sc.validate(["address"],[t]),e.send({method:`eth_signTypedData${n?"":"_v4"}`,params:[t,r]})})}(e.requestManager,t,r,n)),null!=i?i:e.defaultReturnFormat)})}(this,e,t,r,n)})}subscribe(e,t,r){var n,i;return void 0===r&&(r=null!==(n=this.defaultReturnFormat)&&void 0!==n?n:Y),dW(this,void 0,void 0,function*(){let n=yield null===(i=this.subscriptionManager)||void 0===i?void 0:i.subscribe(e,t,r);return n instanceof dQ&&"logs"===e&&"object"==typeof t&&!s4(t.fromBlock)&&Number.isFinite(Number(t.fromBlock))&&setImmediate(()=>{this.getPastLogs(t).then(e=>{for(let t of e)n._processSubscriptionResult(t)}).catch(e=>{n._processSubscriptionError(e)})}),n})}static shouldClearSubscription({sub:e}){return!(e instanceof dK)}clearSubscriptions(e=!1){var t;return null===(t=this.subscriptionManager)||void 0===t?void 0:t.unsubscribe(e?dX.shouldClearSubscription:void 0)}}let d0=e=>{if(!sr(e.common)){if(sr(e.common.customChain))throw new eJ;if(sr(e.common.customChain.chainId))throw new eK;if(!sr(e.chainId)&&e.chainId!==e.common.customChain.chainId)throw new eW({txChainId:e.chainId,customChainId:e.common.customChain.chainId})}},d1=e=>{if(!sr(e.common)&&!sr(e.chain)&&!sr(e.hardfork))throw new e0;if(!sr(e.chain)&&sr(e.hardfork)||!sr(e.hardfork)&&sr(e.chain))throw new e1({chain:e.chain,hardfork:e.hardfork})},d2=e=>{if(!sr(e.common)&&!sr(e.common.baseChain)&&!sr(e.chain)&&e.chain!==e.common.baseChain)throw new eY({txChain:e.chain,baseChain:e.common.baseChain})},d3=e=>{if(!sr(e.common)&&!sr(e.common.hardfork)&&!sr(e.hardfork)&&e.hardfork!==e.common.hardfork)throw new eX({txHardfork:e.hardfork,commonHardfork:e.common.hardfork})},d4=e=>{if(sr(e.gas)||!i3(e.gas)||sr(e.gasPrice)||!i3(e.gasPrice))throw new e6({gas:e.gas,gasPrice:e.gasPrice});if(!sr(e.maxFeePerGas)||!sr(e.maxPriorityFeePerGas))throw new e7({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas})},d8=e=>{if(!sr(e.gasPrice)&&"0x2"===e.type)throw new e9(e.gasPrice);if("0x0"===e.type||"0x1"===e.type)throw new e7({maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas});if(sr(e.maxFeePerGas)||!i3(e.maxFeePerGas)||sr(e.maxPriorityFeePerGas)||!i3(e.maxPriorityFeePerGas))throw new e5({maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})},d6=e=>{let t=!sr(e.gas)||!sr(e.gasLimit),r=t&&!sr(e.gasPrice),n=t&&!sr(e.maxPriorityFeePerGas)&&!sr(e.maxFeePerGas);if(!r&&!n)throw new e3({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});if(r&&n)throw new e8({gas:e.gas,gasPrice:e.gasPrice,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas});(r?d4:d8)(e),(!sr(e.type)&&e.type>"0x1"?d8:d4)(e)},d5=(e,t,r={transactionSchema:void 0})=>{if(!sr(t)){t(e);return}if("object"!=typeof e||sr(e))throw new te(e);d0(e),d1(e),d2(e),d3(e);let n=ct(e,X,{transactionSchema:r.transactionSchema});if(d6(n),sr(n.nonce)||sr(n.chainId)||n.nonce.startsWith("-")||n.chainId.startsWith("-"))throw new tt({nonce:e.nonce,chainId:e.chainId})},d9=e=>{var t,r;return Object.assign(Object.assign({},e),{nonce:e.nonce,gasPrice:e.gasPrice,gasLimit:null!==(t=e.gasLimit)&&void 0!==t?t:e.gas,to:e.to,value:e.value,data:null!==(r=e.data)&&void 0!==r?r:e.input,type:e.type,chainId:e.chainId,accessList:e.accessList,maxPriorityFeePerGas:e.maxPriorityFeePerGas,maxFeePerGas:e.maxFeePerGas})},d7=(e,t)=>{var r,n,i,s,a,o,l,u,c,d,h,f,p,g,m,y,v,b;let w;if((sr(e.chain)||sr(e.hardfork))&&sr(e.common))t.defaultCommon?(sr((w=Object.assign({},t.defaultCommon)).hardfork)&&(w.hardfork=null!==(r=e.hardfork)&&void 0!==r?r:t.defaultHardfork),sr(w.baseChain)&&(w.baseChain=t.defaultChain)):w=l2.custom({name:"custom-network",chainId:sM(e.chainId),networkId:sr(e.networkId)?void 0:sM(e.networkId),defaultHardfork:null!==(n=e.hardfork)&&void 0!==n?n:t.defaultHardfork},{baseChain:t.defaultChain});else{let r=null!==(o=null!==(a=null===(s=null===(i=null==e?void 0:e.common)||void 0===i?void 0:i.customChain)||void 0===s?void 0:s.name)&&void 0!==a?a:e.chain)&&void 0!==o?o:"custom-network",n=sM(null!==(c=null===(u=null===(l=null==e?void 0:e.common)||void 0===l?void 0:l.customChain)||void 0===u?void 0:u.chainId)&&void 0!==c?c:null==e?void 0:e.chainId),A=sM(null!==(f=null===(h=null===(d=null==e?void 0:e.common)||void 0===d?void 0:d.customChain)||void 0===h?void 0:h.networkId)&&void 0!==f?f:null==e?void 0:e.networkId),x=null!==(m=null!==(g=null===(p=null==e?void 0:e.common)||void 0===p?void 0:p.hardfork)&&void 0!==g?g:null==e?void 0:e.hardfork)&&void 0!==m?m:t.defaultHardfork,E=null!==(b=null!==(v=null===(y=e.common)||void 0===y?void 0:y.baseChain)&&void 0!==v?v:e.chain)&&void 0!==b?b:t.defaultChain;n&&A&&r&&(w=l2.custom({name:r,chainId:n,networkId:A,defaultHardfork:x},{baseChain:E}))}return{common:w}},he=(e,t,r,n=!1,i=!0)=>{var s,a,o,l;return s=void 0,a=void 0,o=void 0,l=function*(){let s=ct((yield cm({transaction:e,web3Context:t,privateKey:r,fillGasPrice:n,fillGasLimit:i})),X,{transactionSchema:t.config.customTransactionSchema});return d5(s,void 0,{transactionSchema:t.config.customTransactionSchema}),uo.fromTxData(d9(s),d7(s,t))},new(o||(o=Promise))(function(e,t){function r(e){try{i(l.next(e))}catch(e){t(e)}}function n(e){try{i(l.throw(e))}catch(e){t(e)}}function i(t){var i;t.done?e(t.value):((i=t.value)instanceof o?i:new o(function(e){e(i)})).then(r,n)}i((l=l.apply(s,a||[])).next())})},ht=({address:e},t,r)=>{var n,i;let s=null==r?void 0:r.topics,a=null!==(n=null==r?void 0:r.filter)&&void 0!==n?n:{},o={};if(s4(null==r?void 0:r.fromBlock)||(o.fromBlock=au(u3.properties.number,null==r?void 0:r.fromBlock,{number:E.HEX,bytes:k.HEX})),s4(null==r?void 0:r.toBlock)||(o.toBlock=au(u3.properties.number,null==r?void 0:r.toBlock,{number:E.HEX,bytes:k.HEX})),s&&Array.isArray(s))o.topics=[...s];else if(o.topics=[],!t||t.anonymous||[co,"allEvents"].includes(t.name)||o.topics.push(null!==(i=t.signature)&&void 0!==i?i:cL(cN(t))),![co,"allEvents"].includes(t.name)&&t.inputs)for(let e of t.inputs){if(!e.indexed)continue;let t=a[e.name];if(!t){o.topics.push(null);continue}Array.isArray(t)?o.topics.push(t.map(t=>dc(e.type,t))):"string"===e.type?o.topics.push(ad(t)):o.topics.push(dc(e.type,t))}return o.topics.length||delete o.topics,e&&(o.address=e.toLowerCase()),o},hr=(e,t,r)=>{let n;let i=Array.isArray(e.inputs)?e.inputs.length:0;if(e.inputs&&i!==t.length)throw new ex(`The number of arguments is not matching the methods required number. You need to pass ${i} arguments.`);if(n=e.inputs?du(Array.isArray(e.inputs)?e.inputs:[],t).replace("0x",""):(function(e){try{let t=function e(t){let r=[];return t.forEach(t=>{if(Array.isArray(t)){let n=e(t);r.push({type:"tuple",components:n,name:""})}else r.push({type:sL(t,!0)})}),r}(e);return iQ(da({type:"tuple",name:"",components:t},e).encoded)}catch(t){throw new eN("Could not infer types from given params",{params:e})}})(t).replace("0x",""),cC(e)){if(!r)throw new ex("The contract has no contract data option set. This is necessary to append the constructor parameters.");return r.startsWith("0x")?`${r}${n}`:`0x${r}${n}`}return`${dp(e)}${n}`},hn=(e,t,r=!0)=>{let n=r&&t&&t.length>=10&&t.startsWith("0x")?t.slice(10):t;if(!e.inputs)throw new ex("No inputs found in the ABI");return dh([...e.inputs],n)},hi=(e,t)=>{if("constructor"===e.type)return t;if(!t)return null;let r=t.length>=2?t.slice(2):t;if(!e.outputs)return null;let n=dh([...e.outputs],r);return 1===n.__length__?n[0]:n};class hs extends oc{constructor(e,t){super(e,t),this.address=e.address,this.topics=e.topics,this.abi=e.abi,this.jsonInterface=e.jsonInterface}_buildSubscriptionParams(){return["logs",{address:this.address,topics:this.topics}]}formatSubscriptionResult(e){return dT(this.abi,e,this.jsonInterface,super.returnFormat)}}Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));let ha=(e,t,r,n)=>{var i,s;let a={};return s4(e.data)&&"both"!==n||(a.data=hr(t,r,null!==(i=e.data)&&void 0!==i?i:e.input)),s4(e.input)&&"both"!==n||(a.input=hr(t,r,null!==(s=e.input)&&void 0!==s?s:e.data)),s4(a.input)&&s4(a.data)&&(a[n]=hr(t,r)),{data:a.data,input:a.input}},ho=({abi:e,params:t,options:r,contractOptions:n})=>{var i,s,a;if(!(null!==(a=null!==(s=null!==(i=null==r?void 0:r.input)&&void 0!==i?i:null==r?void 0:r.data)&&void 0!==s?s:n.input)&&void 0!==a?a:n.data)&&!(null==r?void 0:r.to)&&!n.address)throw new ex("Contract address not specified");if(!(null==r?void 0:r.from)&&!n.from)throw new ex('Contract "from" address not specified');let o=s6({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,data:n.data},r),l=ha(o,e,t,null==r?void 0:r.dataInputFill);return Object.assign(Object.assign({},o),{data:l.data,input:l.input})},hl=({abi:e,params:t,options:r,contractOptions:n})=>{if(!(null==r?void 0:r.to)&&!n.address)throw new ex("Contract address not specified");let i=s6({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,data:n.data},r),s=ha(i,e,t,null==r?void 0:r.dataInputFill);return Object.assign(Object.assign({},i),{data:s.data,input:s.input})},hu=({abi:e,params:t,options:r,contractOptions:n})=>{let i=s6({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,data:n.data},r),s=ha(i,e,t,null==r?void 0:r.dataInputFill);return Object.assign(Object.assign({},i),{data:s.data,input:s.input})},hc=e=>"object"==typeof e&&!s4(e)&&0!==Object.keys(e).length&&!s3(e),hd=({abi:e,params:t,options:r,contractOptions:n})=>{if(!(null==r?void 0:r.to)&&!n.address)throw new ex("Contract address not specified");if(!(null==r?void 0:r.from)&&!n.from)throw new ex('Contract "from" address not specified');let i=s6({to:n.address,gas:n.gas,gasPrice:n.gasPrice,from:n.from,input:n.input,maxPriorityFeePerGas:n.maxPriorityFeePerGas,maxFeePerGas:n.maxFeePerGas,data:n.data},r),s=ha(i,e,t,null==r?void 0:r.dataInputFill);return Object.assign(Object.assign({},i),{data:s.data,input:s.input})};class hh{constructor(e,t){this.parent=e,this.deployOptions=t;let{args:r,abi:n,contractOptions:i,deployData:s}=this.calculateDeployParams();this.args=r,this.constructorAbi=n,this.contractOptions=i,this.deployData=s}_contractMethodDeploySend(e){let t={transactionResolver:e=>{if(e.status===BigInt(0))throw new ex("code couldn't be stored",e);let t=this.parent.clone();return t.options.address=e.contractAddress,t},contractAbi:this.parent.options.jsonInterface,checkRevertBeforeSending:!1};return sr(this.parent.getTransactionMiddleware())?dH(this.parent,e,this.parent.defaultReturnFormat,t):dH(this.parent,e,this.parent.defaultReturnFormat,t,this.parent.getTransactionMiddleware())}send(e){let t=Object.assign({},e),r=this.populateTransaction(t);return this._contractMethodDeploySend(r)}populateTransaction(e){var t,r;let n=Object.assign(Object.assign({},this.contractOptions),{from:null!==(r=null!==(t=this.contractOptions.from)&&void 0!==t?t:this.parent.defaultAccount)&&void 0!==r?r:void 0}),i=ho({abi:this.constructorAbi,params:this.args,options:Object.assign(Object.assign({},e),{dataInputFill:this.parent.contractDataInputFill}),contractOptions:n});return i.dataInputFill&&delete i.dataInputFill,i}calculateDeployParams(){var e,t,r,n,i,s;let a=this.parent.options.jsonInterface.find(e=>"constructor"===e.type);a||(a={type:"constructor",stateMutability:""});let o=au({format:"bytes"},null!==(t=null===(e=this.deployOptions)||void 0===e?void 0:e.input)&&void 0!==t?t:this.parent.options.input,Y),l=au({format:"bytes"},null!==(n=null===(r=this.deployOptions)||void 0===r?void 0:r.data)&&void 0!==n?n:this.parent.options.data,Y);if((!o||"0x"===o.trim())&&(!l||"0x"===l.trim()))throw new ex("contract creation without any data provided.");return{args:null!==(s=null===(i=this.deployOptions)||void 0===i?void 0:i.arguments)&&void 0!==s?s:[],abi:a,contractOptions:Object.assign(Object.assign({},this.parent.options),{input:o,data:l}),deployData:null!=o?o:l}}estimateGas(e,t=this.parent.defaultReturnFormat){var r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){let r=Object.assign({},e);return this.parent.contractMethodEstimateGas({abi:this.constructorAbi,params:this.args,returnFormat:t,options:r,contractOptions:this.contractOptions})},new(i||(i=Promise))(function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(a,o)}l((s=s.apply(r,n||[])).next())})}encodeABI(){return hr(this.constructorAbi,this.args,au({format:"bytes"},this.deployData,this.parent.defaultReturnFormat))}decodeData(e){return Object.assign(Object.assign({},hn(this.constructorAbi,e.replace(this.deployData,""),!1)),{__method__:this.constructorAbi.type})}}var hf=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let hp={logs:hs,newHeads:dJ,newBlockHeaders:dJ};class hg extends uk{constructor(e,t,r,n,i){var s,a,o;let l;let u=s3(t)?t:s3(r)?r:void 0;if(super(Object.assign(Object.assign({},l=hc(t)?t:hc(r)?r:n),{provider:"object"==typeof t&&"provider"in t?t.provider:"object"==typeof r&&"provider"in r?r.provider:"object"==typeof n&&"provider"in n?n.provider:hg.givenProvider,registeredSubscriptions:hp})),this.syncWithContext=!1,this._functions={},(null==l?void 0:l.wallet)&&(this._wallet=l.wallet),(null==l?void 0:l.accountProvider)&&(this._accountProvider=l.accountProvider),!sr(u)&&!sr(u.data)&&!sr(u.input)&&"both"!==this.config.contractDataInputFill)throw new eI({data:u.data,input:u.input});this._overloadedMethodAbis=new Map;let c=ai(n)?n:ai(r)?r:null!=i?i:this.defaultReturnFormat,d="string"==typeof t?t:void 0;this.config.contractDataInputFill=null!==(s=null==u?void 0:u.dataInputFill)&&void 0!==s?s:this.config.contractDataInputFill,this._parseAndSetJsonInterface(e,c),this.defaultReturnFormat!==c&&(this.defaultReturnFormat=c),sr(d)||this._parseAndSetAddress(d,c),this.options={address:d,jsonInterface:this._jsonInterface,gas:null!==(a=null==u?void 0:u.gas)&&void 0!==a?a:null==u?void 0:u.gasLimit,gasPrice:null==u?void 0:u.gasPrice,from:null==u?void 0:u.from,input:null==u?void 0:u.input,data:null==u?void 0:u.data},this.syncWithContext=null!==(o=null==u?void 0:u.syncWithContext)&&void 0!==o&&o,l instanceof uk&&this.subscribeToContextEvents(l),Object.defineProperty(this.options,"address",{set:e=>this._parseAndSetAddress(e,c),get:()=>this._address}),Object.defineProperty(this.options,"jsonInterface",{set:e=>this._parseAndSetJsonInterface(e,c),get:()=>this._jsonInterface}),l instanceof uk&&l.on(N.CONFIG_CHANGE,e=>{this.setConfig({[e.name]:e.newValue})})}setTransactionMiddleware(e){this.transactionMiddleware=e}getTransactionMiddleware(){return this.transactionMiddleware}get events(){return this._events}get methods(){return this._methods}clone(){let e;return e=this.options.address?new hg([...this._jsonInterface,...this._errorsInterface],this.options.address,{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()):new hg([...this._jsonInterface,...this._errorsInterface],{gas:this.options.gas,gasPrice:this.options.gasPrice,from:this.options.from,input:this.options.input,data:this.options.data,provider:this.currentProvider,syncWithContext:this.syncWithContext,dataInputFill:this.config.contractDataInputFill},this.getContextObject()),this.context&&e.subscribeToContextEvents(this.context),e}deploy(e){return new hh(this,e)}getPastEvents(e,t,r){var n;return hf(this,void 0,void 0,function*(){let i="string"==typeof e?e:co,s="string"==typeof e||ai(e)?ai(t)?{}:t:e,a=ai(e)?e:ai(t)?t:null!=r?r:this.defaultReturnFormat,o="allEvents"===i||i===co?cl:this._jsonInterface.find(e=>"name"in e&&e.name===i);if(!o)throw new ex(`Event ${i} not found.`);let{fromBlock:l,toBlock:u,topics:c,address:d}=ht(this.options,o,null!=s?s:{}),h=yield dq(this,{fromBlock:l,toBlock:u,topics:c,address:d},a),f=h?h.map(e=>"string"==typeof e?e:dT(o,e,this._jsonInterface,a)):[],p=null!==(n=null==s?void 0:s.filter)&&void 0!==n?n:{},g=Object.keys(p);return g.length>0?f.filter(e=>"string"==typeof e||g.every(t=>{var r;if(Array.isArray(p[t]))return p[t].some(r=>String(e.returnValues[t]).toUpperCase()===String(r).toUpperCase());let n=null===(r=o.inputs)||void 0===r?void 0:r.filter(e=>e.name===t)[0];return null!=n&&!!n.indexed&&"string"===n.type&&ad(p[t])===String(e.returnValues[t])||String(e.returnValues[t]).toUpperCase()===String(p[t]).toUpperCase()})):f})}_parseAndSetAddress(e,t=this.defaultReturnFormat){this._address=e?sH(au({format:"address"},e,t)):e}decodeMethodData(e){let t=e.slice(0,10),r=this._jsonInterface.filter(e=>"error"!==e.type).find(e=>t===dp(cN(e)));if(!r)throw new ex(`The ABI for the provided method signature ${t} was not found.`);return Object.assign(Object.assign({},hn(r,e)),{__method__:cN(r)})}_parseAndSetJsonInterface(e,t=this.defaultReturnFormat){var r,n,i,s,a;this._functions={},this._methods={},this._events={};let o=[],l=e.filter(e=>"error"!==e.type),u=e.filter(e=>cI(e));for(let e of l){let l=Object.assign(Object.assign({},e),{signature:""});if(cO(l)){let e=cN(l),t=dp(e);l.methodNameWithInputs=e,l.signature=t,r="view"===l.stateMutability,l.constant=null!==(n=void 0!==r?r:"pure"===l.stateMutability)&&void 0!==n?n:l.constant,i="payable"===l.stateMutability,l.payable=void 0!==i?i:l.payable,this._overloadedMethodAbis.set(l.name,[...null!==(s=this._overloadedMethodAbis.get(l.name))&&void 0!==s?s:[],l]);let o=null!==(a=this._overloadedMethodAbis.get(l.name))&&void 0!==a?a:[],c=this._createContractMethod(o,u),d=this._createContractMethod(o,u,!0);this._functions[e]={signature:t,method:d},this._methods[l.name]=c,this._methods[e]=d,this._methods[t]=d}else if(cS(l)){let e=cN(l),r=cL(e),n=this._createContractEvent(l,t);l.signature=r,e in this._events&&"bound"!==l.name||(this._events[e]=n),this._events[l.name]=n,this._events[r]=n}o=[...o,l]}this._events.allEvents=this._createContractEvent(cl,t),this._jsonInterface=[...o],this._errorsInterface=u}_getAbiParams(e,t){var r;try{return iG(null!==(r=e.inputs)&&void 0!==r?r:[],t)}catch(t){throw new ex(`Invalid parameters for method ${e.name}: ${t.message}`)}}_createContractMethod(e,t,r=!1){let n=e[e.length-1];return(...e)=>{var i,s,a;let o;let l=null!==(s=r?null===(i=this._overloadedMethodAbis.get(n.name))||void 0===i?void 0:i.filter(e=>e.signature===n.signature):this._overloadedMethodAbis.get(n.name))&&void 0!==s?s:[],u=l[0],c=l.filter(t=>{var r;return(null!==(r=t.inputs)&&void 0!==r?r:[]).length===e.length});if(1===l.length||0===c.length)o=this._getAbiParams(u,e),sc.validate(null!==(a=n.inputs)&&void 0!==a?a:[],o);else{let t=[],r=[];for(let n of c)try{o=this._getAbiParams(n,e),sc.validate(n.inputs,o),r.push(n)}catch(e){t.push(e)}if(1===r.length?[u]=r:r.length>1&&([u]=r,console.warn(`Multiple methods found that is compatible with the given inputs.
	Found ${r.length} compatible methods: ${JSON.stringify(r.map(e=>`${e.methodNameWithInputs} (signature: ${e.signature})`))} 
	The first one will be used: ${u.methodNameWithInputs}`)),t.length===c.length)throw new iS(t)}let d={arguments:o,call:(e,r)=>hf(this,void 0,void 0,function*(){return this._contractMethodCall(u,o,t,e,r)}),send:e=>this._contractMethodSend(u,o,t,e),populateTransaction:(t,r)=>{var i,s;let a=null!=r?r:this.options;a=Object.assign(Object.assign({},a),{input:void 0,from:null!==(s=null!==(i=null==a?void 0:a.from)&&void 0!==i?i:this.defaultAccount)&&void 0!==s?s:void 0});let o=ho({abi:n,params:e,options:Object.assign(Object.assign({},t),{dataInputFill:this.config.contractDataInputFill}),contractOptions:a});return o.dataInputFill&&delete o.dataInputFill,o},estimateGas:(e,t=this.defaultReturnFormat)=>hf(this,void 0,void 0,function*(){return this.contractMethodEstimateGas({abi:u,params:o,returnFormat:t,options:e})}),encodeABI:()=>hr(u,o),decodeData:e=>hn(u,e),createAccessList:(e,r)=>hf(this,void 0,void 0,function*(){return this._contractMethodCreateAccessList(u,o,t,e,r)})};return u.stateMutability,d}}_contractMethodCall(e,t,r,n,i){var s;return hf(this,void 0,void 0,function*(){let a=hl({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{let t=yield dG(this,a,i,this.defaultReturnFormat);return hi(e,t)}catch(e){throw e instanceof eP&&dv(r,e.cause),e}})}_contractMethodCreateAccessList(e,t,r,n,i){var s;return hf(this,void 0,void 0,function*(){let a=hd({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:Object.assign(Object.assign({},this.options),{from:null!==(s=this.options.from)&&void 0!==s?s:this.config.defaultAccount})});try{return dV(this,a,i,this.defaultReturnFormat)}catch(e){throw e instanceof eP&&dv(r,e.cause),e}})}_contractMethodSend(e,t,r,n,i){var s,a;let o=null!=i?i:this.options;o=Object.assign(Object.assign({},o),{input:void 0,from:null!==(a=null!==(s=o.from)&&void 0!==s?s:this.defaultAccount)&&void 0!==a?a:void 0});let l=ho({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:o}),u=sr(this.transactionMiddleware)?dH(this,l,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface}):dH(this,l,this.defaultReturnFormat,{checkRevertBeforeSending:!1,contractAbi:this._jsonInterface},this.transactionMiddleware);return u.on("error",e=>{e instanceof eP&&dv(r,e.cause)}),u}contractMethodEstimateGas({abi:e,params:t,returnFormat:r,options:n,contractOptions:i}){return hf(this,void 0,void 0,function*(){return d$(this,hu({abi:e,params:t,options:Object.assign(Object.assign({},n),{dataInputFill:this.config.contractDataInputFill}),contractOptions:null!=i?i:this.options}),P.LATEST,null!=r?r:this.defaultReturnFormat)})}_createContractEvent(e,t=this.defaultReturnFormat){return(...r)=>{var n;let{topics:i,fromBlock:s}=ht(this.options,e,r[0]),a=new hs({address:this.options.address,topics:i,abi:e,jsonInterface:this._jsonInterface},{subscriptionManager:this.subscriptionManager,returnFormat:t});return sr(s)||this.getPastEvents(e.name,{fromBlock:s,topics:i},t).then(e=>{e&&e.forEach(e=>a.emit("data",e))}).catch(e=>{a.emit("error",new eD("Failed to get past events.",e))}),null===(n=this.subscriptionManager)||void 0===n||n.addSubscription(a).catch(e=>{a.emit("error",new eD("Failed to subscribe.",e))}),a}}subscribeToContextEvents(e){let t=this;this.context=e,t.syncWithContext&&e.on(N.CONFIG_CHANGE,e=>{t.setConfig({[e.name]:e.newValue})})}}var hm=hg;let hy={addr:"0x3b3b57de",name:"0x691f3431",abi:"0x2203ab56",pubkey:"0xc8690233",text:"0x59d1d43c",contenthash:"0xbc1c58d1"},hv={setAddr:"addr",addr:"addr",pubkey:"pubkey",contenthash:"contenthash",text:"text",name:"name"},hb={main:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",goerli:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},hw={"0x1":"main","0x5":"goerli"},hA=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"label",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"NewOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"resolver",type:"address"}],name:"NewResolver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"recordExists",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"resolver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"ttl",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"}],hx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"address",name:"a",type:"address"}],name:"AddrChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"coinType",type:"uint256"},{indexed:!1,internalType:"bytes",name:"newAddress",type:"bytes"}],name:"AddressChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"hash",type:"bytes"}],name:"ContenthashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"},{indexed:!1,internalType:"bytes",name:"record",type:"bytes"}],name:"DNSRecordChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"name",type:"bytes"},{indexed:!1,internalType:"uint16",name:"resource",type:"uint16"}],name:"DNSRecordDeleted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"}],name:"DNSZoneCleared",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"lastzonehash",type:"bytes"},{indexed:!1,internalType:"bytes",name:"zonehash",type:"bytes"}],name:"DNSZonehashChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"bytes4",name:"interfaceID",type:"bytes4"},{indexed:!1,internalType:"address",name:"implementer",type:"address"}],name:"InterfaceChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"string",name:"name",type:"string"}],name:"NameChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"x",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"y",type:"bytes32"}],name:"PubkeyChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"node",type:"bytes32"},{indexed:!0,internalType:"string",name:"indexedKey",type:"string"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"TextChanged",type:"event"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"contentTypes",type:"uint256"}],name:"ABI",outputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"addr",outputs:[{internalType:"address payable",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"uint256",name:"coinType",type:"uint256"}],name:"addr",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"contenthash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"},{internalType:"uint16",name:"resource",type:"uint16"}],name:"dnsRecord",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes32",name:"name",type:"bytes32"}],name:"hasDNSRecords",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"interfaceImplementer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"pubkey",outputs:[{internalType:"bytes32",name:"x",type:"bytes32"},{internalType:"bytes32",name:"y",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceID",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"string",name:"key",type:"string"}],name:"text",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"}],name:"zonehash",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"node",type:"bytes32"},{internalType:"address",name:"a",type:"address"}],name:"setAddr",outputs:[],stateMutability:"nonpayable",type:"function"}];var hE=r(4879);let hk=e=>(0,hE.Q6)(e),hP=e=>{let t="";for(let e=0;e<32;e+=1)t+="00";if(e){let r=hk(e).split(".");for(let e=r.length-1;e>=0;e-=1){let n=af(r[e]).slice(2);t=af(`0x${t}${n}`).slice(2)}}return`0x${t}`};var hI=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class hS{constructor(e,t){this.contract=new hg(hA,null!=t?t:hb.main,e),this.context=e}getOwner(e){return hI(this,void 0,void 0,function*(){try{return this.contract.methods.owner(hP(e)).call()}catch(e){throw Error()}})}getTTL(e){return hI(this,void 0,void 0,function*(){try{return this.contract.methods.ttl(hP(e)).call()}catch(e){throw Error()}})}recordExists(e){return hI(this,void 0,void 0,function*(){try{return this.contract.methods.recordExists(hP(e)).call()}catch(e){throw Error()}})}getResolver(e){return hI(this,void 0,void 0,function*(){try{return this.contract.methods.resolver(hP(e)).call().then(e=>{if("string"==typeof e)return new hg(hx,e,this.context);throw Error()})}catch(e){throw Error()}})}get events(){return this.contract.events}}var hO=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class hC{constructor(e){this.registry=e}getResolverContractAdapter(e){return hO(this,void 0,void 0,function*(){return this.registry.getResolver(e)})}checkInterfaceSupport(e,t){var r,n;return hO(this,void 0,void 0,function*(){if(s4(hy[t]))throw new eE(null!==(r=e.options.address)&&void 0!==r?r:"",t);if(!(yield e.methods.supportsInterface(hy[t]).call()))throw new eE(null!==(n=e.options.address)&&void 0!==n?n:"",t)})}supportsInterface(e,t){var r;return hO(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(e),i=t;if(!i_(i)){if(i=null!==(r=ah(t))&&void 0!==r?r:"",""===t)throw Error("Invalid interface Id");i=i.slice(0,10)}return n.methods.supportsInterface(i).call()})}getAddress(e,t=60){return hO(this,void 0,void 0,function*(){let r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,hv.addr),r.methods.addr(hP(e),t).call()})}getPubkey(e){return hO(this,void 0,void 0,function*(){let t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,hv.pubkey),t.methods.pubkey(hP(e)).call()})}getContenthash(e){return hO(this,void 0,void 0,function*(){let t=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(t,hv.contenthash),t.methods.contenthash(hP(e)).call()})}setAddress(e,t,r){return hO(this,void 0,void 0,function*(){let n=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(n,hv.setAddr),n.methods.setAddr(hP(e),t).send(r)})}getText(e,t){return hO(this,void 0,void 0,function*(){let r=yield this.getResolverContractAdapter(e);return yield this.checkInterfaceSupport(r,hv.text),r.methods.text(hP(e),t).call()})}getName(e,t=!0){return hO(this,void 0,void 0,function*(){let r=`${e.toLowerCase().substring(2)}.addr.reverse`,n=yield this.getResolverContractAdapter(r);return t&&(yield this.checkInterfaceSupport(n,hv.name)),n.methods.name(hP(r)).call()})}}var hT=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class h_ extends uk{constructor(e,t){super(null!=t?t:""),this.registryAddress=null!=e?e:hb.main,this._registry=new hS(this.getContextObject(),e),this._resolver=new hC(this._registry)}getResolver(e){return hT(this,void 0,void 0,function*(){return this._registry.getResolver(e)})}recordExists(e){return hT(this,void 0,void 0,function*(){return this._registry.recordExists(e)})}getTTL(e){return hT(this,void 0,void 0,function*(){return this._registry.getTTL(e)})}getOwner(e){return hT(this,void 0,void 0,function*(){return this._registry.getOwner(e)})}getAddress(e,t=60){return hT(this,void 0,void 0,function*(){return this._resolver.getAddress(e,t)})}getText(e,t){return hT(this,void 0,void 0,function*(){return i1(e)?this._resolver.getText((yield this._resolver.getName(e,!1)),t):this._resolver.getText(e,t)})}getName(e,t=!0){return hT(this,void 0,void 0,function*(){return this._resolver.getName(e,t)})}getPubkey(e){return hT(this,void 0,void 0,function*(){return this._resolver.getPubkey(e)})}getContenthash(e){return hT(this,void 0,void 0,function*(){return this._resolver.getContenthash(e)})}checkNetwork(){return hT(this,void 0,void 0,function*(){let e=Date.now()/1e3;if(!this._lastSyncCheck||e-this._lastSyncCheck>3600){let t=yield dF(this);if(!("boolean"==typeof t&&!t))throw new eO;this._lastSyncCheck=e}if(this._detectedAddress)return this._detectedAddress;let t=yield cn(this,Object.assign(Object.assign({},this.defaultReturnFormat),{number:E.HEX})),r=hb[hw[t]];if(void 0===r)throw new eS(t);return this._detectedAddress=r,this._detectedAddress})}supportsInterface(e,t){return hT(this,void 0,void 0,function*(){return this._resolver.supportsInterface(e,t)})}get events(){return this._registry.events}setAddress(e,t,r){return hT(this,void 0,void 0,function*(){return this._resolver.setAddress(e,t,r)})}}var hB=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let hR=e=>hB(void 0,void 0,void 0,function*(){return(yield uN(e)).map(sH)}),hN=(e,t)=>hB(void 0,void 0,void 0,function*(){return sc.validate(["string"],[t]),sH((yield uF(e,t)))}),hF=(e,t,r,n)=>hB(void 0,void 0,void 0,function*(){return sc.validate(["address","string","uint"],[t,r,n]),uL(e,t,r,n)}),hL=(e,t)=>hB(void 0,void 0,void 0,function*(){return sc.validate(["address"],[t]),uM(e,t)}),hM=(e,t,r)=>hB(void 0,void 0,void 0,function*(){return sc.validate(["string","string"],[t,r]),uD(e,t,r)}),hD=(e,t,r,n)=>hB(void 0,void 0,void 0,function*(){return uU(e,ct(t,X,{transactionSchema:null==n?void 0:n.customTransactionSchema}),r)}),hU=(e,t,r,n)=>hB(void 0,void 0,void 0,function*(){return uj(e,ct(t,X,{transactionSchema:null==n?void 0:n.customTransactionSchema}),r)}),hj=(e,t,r,n)=>hB(void 0,void 0,void 0,function*(){return sc.validate(["string","address","string"],[t,r,n]),uH(e,i_(t)?t:sP(t),r,n)}),hH=(e,t,r)=>hB(void 0,void 0,void 0,function*(){return sc.validate(["string","string"],[t,r]),uG(e,i_(t)?t:sP(t),r)});var hG=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};class h$ extends uk{getAccounts(){return hG(this,void 0,void 0,function*(){return hR(this.requestManager)})}newAccount(e){return hG(this,void 0,void 0,function*(){return hN(this.requestManager,e)})}unlockAccount(e,t,r){return hG(this,void 0,void 0,function*(){return hF(this.requestManager,e,t,r)})}lockAccount(e){return hG(this,void 0,void 0,function*(){return hL(this.requestManager,e)})}importRawKey(e,t){return hG(this,void 0,void 0,function*(){return hM(this.requestManager,e,t)})}sendTransaction(e,t){return hG(this,void 0,void 0,function*(){return hD(this.requestManager,e,t,this.config)})}signTransaction(e,t){return hG(this,void 0,void 0,function*(){return hU(this.requestManager,e,t,this.config)})}sign(e,t,r){return hG(this,void 0,void 0,function*(){return hj(this.requestManager,e,t,r)})}ecRecover(e,t){return hG(this,void 0,void 0,function*(){return hH(this.requestManager,e,t)})}}(w=q||(q={})).HTTPS="https",w.WebSocket="wss",(A=z||(z={})).ETH_MAINNET="eth_mainnet",A.ETH_GOERLI="eth_goerli",A.ETH_SEPOLIA="eth_sepolia",A.ETH_HOLESKY="eth_holesky",A.POLYGON_MAINNET="polygon_mainnet",A.POLYGON_MUMBAI="polygon_mumbai",A.POLYGON_AMONY="polygon_amony",A.ARBITRUM_MAINNET="arbitrum_mainnet",A.ARBITRUM_SEPOLIA="arbitrum_sepolia",A.BASE_MAINNET="base_mainnet",A.BASE_SEPOLIA="base_sepolia",A.OPTIMISM_MAINNET="optimism_mainnet",A.OPTIMISM_SEPOLIA="optimism_sepolia",A.BNB_MAINNET="bnb_mainnet",A.BNB_TESTNET="bnb_testnet";class hq extends es{constructor(e){super("You've reach the rate limit of free RPC calls from our Partner Quick Nodes. There are two options you can either create a paid Quick Nodes account and get 20% off for 2 months using WEB3JS referral code, or use Free public RPC endpoint.",e),this.code=1300}}class hz extends es{constructor(e){super(`Invalid provider config options given for ${e}`),this.code=1301}}class hV extends aK{constructor(e,t,r,n,i){if(super(),void 0===i||t!==q.HTTPS||"providerOptions"in i){if(void 0!==i&&t===q.WebSocket&&!("socketOptions"in i||"reconnectOptions"in i))throw new hz("Websocket Provider")}else throw new hz("HTTP Provider");this.transport=t,t===q.HTTPS?this.provider=new a3(this.getRPCURL(e,t,r,n),i):t===q.WebSocket&&(this.provider=new a6(this.getRPCURL(e,t,r,n),null==i?void 0:i.socketOptions,null==i?void 0:i.reconnectOptions))}request(e,t){var r,n,i,s;return r=this,n=void 0,i=void 0,s=function*(){return this.transport===q.HTTPS?yield this.provider.request(e,t):this.provider.request(e)},new(i||(i=Promise))(function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(a,o)}l((s=s.apply(r,n||[])).next())})}getStatus(){return this.provider.getStatus()}supportsSubscriptions(){return this.provider.supportsSubscriptions()}once(e,t){var r;(null===(r=this.provider)||void 0===r?void 0:r.once)&&this.provider.once(e,t)}removeAllListeners(e){var t;(null===(t=this.provider)||void 0===t?void 0:t.removeAllListeners)&&this.provider.removeAllListeners(e)}connect(){var e;(null===(e=this.provider)||void 0===e?void 0:e.connect)&&this.provider.connect()}disconnect(e,t){var r;(null===(r=this.provider)||void 0===r?void 0:r.disconnect)&&this.provider.disconnect(e,t)}reset(){var e;(null===(e=this.provider)||void 0===e?void 0:e.reset)&&this.provider.reset()}on(e,t){this.provider&&this.provider.on(e,t)}removeListener(e,t){this.provider&&this.provider.removeListener(e,t)}}let hQ=e=>void 0!==e&&e.trim().length>0;class hZ extends hV{constructor(e=z.ETH_MAINNET,t=q.HTTPS,r="",n="",i){super(e,t,r,n,i)}request(e,t){var r,n,i,s;let a=Object.create(null,{request:{get:()=>super.request}});return r=this,n=void 0,i=void 0,s=function*(){try{return yield a.request.call(this,e,t)}catch(e){if(e instanceof tT&&429===e.statusCode)throw new hq(e);throw e}},new(i||(i=Promise))(function(e,t){function a(e){try{l(s.next(e))}catch(e){t(e)}}function o(e){try{l(s.throw(e))}catch(e){t(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof i?r:new i(function(e){e(r)})).then(a,o)}l((s=s.apply(r,n||[])).next())})}getRPCURL(e,t,r,n){let i="",s="";switch(e){case z.ETH_MAINNET:i=hQ(n)?n:"powerful-holy-bush.quiknode.pro",s=hQ(r)?r:"3240624a343867035925ff7561eb60dfdba2a668";break;case z.ETH_SEPOLIA:i=hQ(n)?n:"dimensional-fabled-glitter.ethereum-sepolia.quiknode.pro",s=hQ(r)?r:"382a3b5a4b938f2d6e8686c19af4b22921fde2cd";break;case z.ETH_HOLESKY:i=hQ(n)?n:"yolo-morning-card.ethereum-holesky.quiknode.pro",s=hQ(r)?r:"481ebe70638c4dcf176af617a16d02ab866b9af9";break;case z.ARBITRUM_MAINNET:i=hQ(n)?n:"autumn-divine-dinghy.arbitrum-mainnet.quiknode.pro",s=hQ(r)?r:"a5d7bfbf60b5ae9ce3628e53d69ef50d529e9a8c";break;case z.ARBITRUM_SEPOLIA:i=hQ(n)?n:"few-patient-pond.arbitrum-sepolia.quiknode.pro",s=hQ(r)?r:"3be985450970628c860b959c65cd2642dcafe53c";break;case z.BNB_MAINNET:i=hQ(n)?n:"purple-empty-reel.bsc.quiknode.pro",s=hQ(r)?r:"ebf6c532961e21f092ff2facce1ec4c89c540158";break;case z.BNB_TESTNET:i=hQ(n)?n:"floral-rough-scion.bsc-testnet.quiknode.pro",s=hQ(r)?r:"5b297e5acff5f81f4c37ebf6f235f7299b6f9d28";break;case z.POLYGON_MAINNET:i=hQ(n)?n:"small-chaotic-moon.matic.quiknode.pro",s=hQ(r)?r:"847569f8a017e84d985e10d0f44365d965a951f1";break;case z.POLYGON_AMONY:i=hQ(n)?n:"prettiest-side-shape.matic-amoy.quiknode.pro",s=hQ(r)?r:"79a9476eea661d4f82de614db1d8a895b14b881c";break;default:throw Error("Network info not avalible.")}return`${t}://${i}/${s}`}}let hJ=new hZ;var hK={encodeEventSignature:cL,encodeFunctionCall:(e,t)=>{var r;if(!cO(e))throw new eN("Invalid parameter value in encodeFunctionCall");return`${dp(e)}${du(null!==(r=e.inputs)&&void 0!==r?r:[],null!=t?t:[]).replace("0x","")}`},encodeFunctionSignature:dp,encodeParameter:dc,encodeParameters:du,decodeParameter:df,decodeParameters:dh,decodeLog:dy},hW=function(e,t,r,n){return new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})};let hY=e=>{let t=(t,r)=>hW(void 0,void 0,void 0,function*(){return uf((yield he(t,e)),au({format:"bytes"},r,X))}),r=e=>{let r=ub(e);return Object.assign(Object.assign({},r),{signTransaction:e=>hW(void 0,void 0,void 0,function*(){return t(e,r.privateKey)})})},n=(e,r,n)=>hW(void 0,void 0,void 0,function*(){var i;let s=yield uA(e,r,null===(i=null==n?void 0:n.nonStrict)||void 0===i||i);return Object.assign(Object.assign({},s),{signTransaction:e=>hW(void 0,void 0,void 0,function*(){return t(e,s.privateKey)})})}),i=()=>{let e=uw();return Object.assign(Object.assign({},e),{signTransaction:r=>hW(void 0,void 0,void 0,function*(){return t(r,e.privateKey)})})},s=new oh({create:i,privateKeyToAccount:r,decrypt:n});return{signTransaction:t,create:i,privateKeyToAccount:r,decrypt:n,recoverTransaction:up,hashMessage:uc,sign:uh,recover:ug,encrypt:uv,wallet:s,privateKeyToAddress:um,parseAndValidatePrivateKey:uu,privateKeyToPublicKey:uy}};(x=V||(V={})).eip6963announceProvider="eip6963:announceProvider",x.eip6963requestProvider="eip6963:requestProvider";let hX=new Map,h0="web3:providersMapUpdated";class h1 extends uk{constructor(e=hJ){var t;!s4(e)&&("string"!=typeof e||""!==e.trim())&&("string"==typeof e||or(e)||e.provider)||console.warn("NOTE: web3.js is running without provider. You need to pass a provider in order to interact with the network!");let r={};"string"==typeof e||or(e)?r.provider=e:r=e||{},r.registeredSubscriptions=Object.assign(Object.assign({},dY),null!==(t=r.registeredSubscriptions)&&void 0!==t?t:{}),super(r);let n=hY(this);this._wallet=n.wallet,this._accountProvider=n,this.utils=J;let i=this;class s extends hm{constructor(e,t,r,n,s){let o,l,u;if(s3(t)&&s3(r))throw new eC("Should not provide options at both 2nd and 3rd parameters");let c={};if(!s4(t)&&"object"!=typeof t&&"string"!=typeof t)throw new eC;if("string"==typeof t&&(o=t),c=s3(t)?t:s3(r)?r:{},l=t instanceof uk?t:r instanceof uk?r:n instanceof uk?n:i.getContextObject(),s?u=s:ai(r)?u=r:ai(n)&&(u=n),super(e,o,c,l,u),super.subscribeToContextEvents(i),!s4(a)){let e=a.getTransactionMiddleware();s4(e)||super.setTransactionMiddleware(e)}}}let a=i.use(dX);this.eth=Object.assign(a,{ens:i.use(h_,hb.main),Iban:uP,net:i.use(ca),personal:i.use(h$),Contract:s,abi:hK,accounts:n})}}h1.version="4.14.0",h1.utils=J,h1.requestEIP6963Providers=()=>{var e,t,r,n;return e=void 0,t=void 0,r=void 0,n=function*(){return new Promise((e,t)=>{"undefined"==typeof window&&t(Error("window object not available, EIP-6963 is intended to be used within a browser")),window.addEventListener(V.eip6963announceProvider,t=>{hX.set(t.detail.info.uuid,t.detail);let r=new CustomEvent(h0,{detail:hX});window.dispatchEvent(r),e(hX)}),window.dispatchEvent(new Event(V.eip6963requestProvider))})},new(r||(r=Promise))(function(i,s){function a(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,o)}l((n=n.apply(e,t||[])).next())})},h1.onNewProviderDiscovered=e=>{if("undefined"==typeof window)throw Error("window object not available, EIP-6963 is intended to be used within a browser");window.addEventListener(h0,e)},h1.modules={Web3Eth:dX,Iban:uP,Net:ca,ENS:h_,Personal:h$};var h2=h1}}]);